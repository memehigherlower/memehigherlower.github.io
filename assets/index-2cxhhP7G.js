(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function tg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yc={exports:{}},Jo={},Xc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function K_(){if(Rm)return Te;Rm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Y={};function q(D,H,we){this.props=D,this.context=H,this.refs=Y,this.updater=we||F}q.prototype.isReactComponent={},q.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function fe(){}fe.prototype=q.prototype;function pe(D,H,we){this.props=D,this.context=H,this.refs=Y,this.updater=we||F}var ve=pe.prototype=new fe;ve.constructor=pe,Q(ve,q.prototype),ve.isPureReactComponent=!0;var Se=Array.isArray,Fe=Object.prototype.hasOwnProperty,Ie={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function S(D,H,we){var Ee,Ae={},Ce=null,be=null;if(H!=null)for(Ee in H.ref!==void 0&&(be=H.ref),H.key!==void 0&&(Ce=""+H.key),H)Fe.call(H,Ee)&&!R.hasOwnProperty(Ee)&&(Ae[Ee]=H[Ee]);var Ve=arguments.length-2;if(Ve===1)Ae.children=we;else if(1<Ve){for(var Be=Array(Ve),Bt=0;Bt<Ve;Bt++)Be[Bt]=arguments[Bt+2];Ae.children=Be}if(D&&D.defaultProps)for(Ee in Ve=D.defaultProps,Ve)Ae[Ee]===void 0&&(Ae[Ee]=Ve[Ee]);return{$$typeof:i,type:D,key:Ce,ref:be,props:Ae,_owner:Ie.current}}function C(D,H){return{$$typeof:i,type:D.type,key:H,ref:D.ref,props:D.props,_owner:D._owner}}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function P(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(we){return H[we]})}var M=/\/+/g;function A(D,H){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):H.toString(36)}function $e(D,H,we,Ee,Ae){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var be=!1;if(D===null)be=!0;else switch(Ce){case"string":case"number":be=!0;break;case"object":switch(D.$$typeof){case i:case e:be=!0}}if(be)return be=D,Ae=Ae(be),D=Ee===""?"."+A(be,0):Ee,Se(Ae)?(we="",D!=null&&(we=D.replace(M,"$&/")+"/"),$e(Ae,H,we,"",function(Bt){return Bt})):Ae!=null&&(N(Ae)&&(Ae=C(Ae,we+(!Ae.key||be&&be.key===Ae.key?"":(""+Ae.key).replace(M,"$&/")+"/")+D)),H.push(Ae)),1;if(be=0,Ee=Ee===""?".":Ee+":",Se(D))for(var Ve=0;Ve<D.length;Ve++){Ce=D[Ve];var Be=Ee+A(Ce,Ve);be+=$e(Ce,H,we,Be,Ae)}else if(Be=V(D),typeof Be=="function")for(D=Be.call(D),Ve=0;!(Ce=D.next()).done;)Ce=Ce.value,Be=Ee+A(Ce,Ve++),be+=$e(Ce,H,we,Be,Ae);else if(Ce==="object")throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return be}function wt(D,H,we){if(D==null)return D;var Ee=[],Ae=0;return $e(D,Ee,"","",function(Ce){return H.call(we,Ce,Ae++)}),Ee}function Vt(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(we){(D._status===0||D._status===-1)&&(D._status=1,D._result=we)},function(we){(D._status===0||D._status===-1)&&(D._status=2,D._result=we)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var Xe={current:null},Z={transition:null},ue={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Ie};function re(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:wt,forEach:function(D,H,we){wt(D,function(){H.apply(this,arguments)},we)},count:function(D){var H=0;return wt(D,function(){H++}),H},toArray:function(D){return wt(D,function(H){return H})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Te.Component=q,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=pe,Te.StrictMode=s,Te.Suspense=_,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Te.act=re,Te.cloneElement=function(D,H,we){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ee=Q({},D.props),Ae=D.key,Ce=D.ref,be=D._owner;if(H!=null){if(H.ref!==void 0&&(Ce=H.ref,be=Ie.current),H.key!==void 0&&(Ae=""+H.key),D.type&&D.type.defaultProps)var Ve=D.type.defaultProps;for(Be in H)Fe.call(H,Be)&&!R.hasOwnProperty(Be)&&(Ee[Be]=H[Be]===void 0&&Ve!==void 0?Ve[Be]:H[Be])}var Be=arguments.length-2;if(Be===1)Ee.children=we;else if(1<Be){Ve=Array(Be);for(var Bt=0;Bt<Be;Bt++)Ve[Bt]=arguments[Bt+2];Ee.children=Ve}return{$$typeof:i,type:D.type,key:Ae,ref:Ce,props:Ee,_owner:be}},Te.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Te.createElement=S,Te.createFactory=function(D){var H=S.bind(null,D);return H.type=D,H},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:g,render:D}},Te.isValidElement=N,Te.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:Vt}},Te.memo=function(D,H){return{$$typeof:v,type:D,compare:H===void 0?null:H}},Te.startTransition=function(D){var H=Z.transition;Z.transition={};try{D()}finally{Z.transition=H}},Te.unstable_act=re,Te.useCallback=function(D,H){return Xe.current.useCallback(D,H)},Te.useContext=function(D){return Xe.current.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D){return Xe.current.useDeferredValue(D)},Te.useEffect=function(D,H){return Xe.current.useEffect(D,H)},Te.useId=function(){return Xe.current.useId()},Te.useImperativeHandle=function(D,H,we){return Xe.current.useImperativeHandle(D,H,we)},Te.useInsertionEffect=function(D,H){return Xe.current.useInsertionEffect(D,H)},Te.useLayoutEffect=function(D,H){return Xe.current.useLayoutEffect(D,H)},Te.useMemo=function(D,H){return Xe.current.useMemo(D,H)},Te.useReducer=function(D,H,we){return Xe.current.useReducer(D,H,we)},Te.useRef=function(D){return Xe.current.useRef(D)},Te.useState=function(D){return Xe.current.useState(D)},Te.useSyncExternalStore=function(D,H,we){return Xe.current.useSyncExternalStore(D,H,we)},Te.useTransition=function(){return Xe.current.useTransition()},Te.version="18.3.1",Te}var Pm;function Vh(){return Pm||(Pm=1,Xc.exports=K_()),Xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Q_(){if(xm)return Jo;xm=1;var i=Vh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(g,_,v){var E,I={},V=null,F=null;v!==void 0&&(V=""+v),_.key!==void 0&&(V=""+_.key),_.ref!==void 0&&(F=_.ref);for(E in _)s.call(_,E)&&!c.hasOwnProperty(E)&&(I[E]=_[E]);if(g&&g.defaultProps)for(E in _=g.defaultProps,_)I[E]===void 0&&(I[E]=_[E]);return{$$typeof:e,type:g,key:V,ref:F,props:I,_owner:a.current}}return Jo.Fragment=n,Jo.jsx=d,Jo.jsxs=d,Jo}var Nm;function Y_(){return Nm||(Nm=1,Yc.exports=Q_()),Yc.exports}var B=Y_(),Le=Vh();const X_=tg(Le);var Fl={},Jc={exports:{}},Yt={},Zc={exports:{}},eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function J_(){return Vm||(Vm=1,(function(i){function e(Z,ue){var re=Z.length;Z.push(ue);e:for(;0<re;){var D=re-1>>>1,H=Z[D];if(0<a(H,ue))Z[D]=ue,Z[re]=H,re=D;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ue=Z[0],re=Z.pop();if(re!==ue){Z[0]=re;e:for(var D=0,H=Z.length,we=H>>>1;D<we;){var Ee=2*(D+1)-1,Ae=Z[Ee],Ce=Ee+1,be=Z[Ce];if(0>a(Ae,re))Ce<H&&0>a(be,Ae)?(Z[D]=be,Z[Ce]=re,D=Ce):(Z[D]=Ae,Z[Ee]=re,D=Ee);else if(Ce<H&&0>a(be,re))Z[D]=be,Z[Ce]=re,D=Ce;else break e}}return ue}function a(Z,ue){var re=Z.sortIndex-ue.sortIndex;return re!==0?re:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var _=[],v=[],E=1,I=null,V=3,F=!1,Q=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(Z){for(var ue=n(v);ue!==null;){if(ue.callback===null)s(v);else if(ue.startTime<=Z)s(v),ue.sortIndex=ue.expirationTime,e(_,ue);else break;ue=n(v)}}function Se(Z){if(Y=!1,ve(Z),!Q)if(n(_)!==null)Q=!0,Vt(Fe);else{var ue=n(v);ue!==null&&Xe(Se,ue.startTime-Z)}}function Fe(Z,ue){Q=!1,Y&&(Y=!1,fe(S),S=-1),F=!0;var re=V;try{for(ve(ue),I=n(_);I!==null&&(!(I.expirationTime>ue)||Z&&!P());){var D=I.callback;if(typeof D=="function"){I.callback=null,V=I.priorityLevel;var H=D(I.expirationTime<=ue);ue=i.unstable_now(),typeof H=="function"?I.callback=H:I===n(_)&&s(_),ve(ue)}else s(_);I=n(_)}if(I!==null)var we=!0;else{var Ee=n(v);Ee!==null&&Xe(Se,Ee.startTime-ue),we=!1}return we}finally{I=null,V=re,F=!1}}var Ie=!1,R=null,S=-1,C=5,N=-1;function P(){return!(i.unstable_now()-N<C)}function M(){if(R!==null){var Z=i.unstable_now();N=Z;var ue=!0;try{ue=R(!0,Z)}finally{ue?A():(Ie=!1,R=null)}}else Ie=!1}var A;if(typeof pe=="function")A=function(){pe(M)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,wt=$e.port2;$e.port1.onmessage=M,A=function(){wt.postMessage(null)}}else A=function(){q(M,0)};function Vt(Z){R=Z,Ie||(Ie=!0,A())}function Xe(Z,ue){S=q(function(){Z(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_continueExecution=function(){Q||F||(Q=!0,Vt(Fe))},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_getFirstCallbackNode=function(){return n(_)},i.unstable_next=function(Z){switch(V){case 1:case 2:case 3:var ue=3;break;default:ue=V}var re=V;V=ue;try{return Z()}finally{V=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var re=V;V=Z;try{return ue()}finally{V=re}},i.unstable_scheduleCallback=function(Z,ue,re){var D=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?D+re:D):re=D,Z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,Z={id:E++,callback:ue,priorityLevel:Z,startTime:re,expirationTime:H,sortIndex:-1},re>D?(Z.sortIndex=re,e(v,Z),n(_)===null&&Z===n(v)&&(Y?(fe(S),S=-1):Y=!0,Xe(Se,re-D))):(Z.sortIndex=H,e(_,Z),Q||F||(Q=!0,Vt(Fe))),Z},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Z){var ue=V;return function(){var re=V;V=ue;try{return Z.apply(this,arguments)}finally{V=re}}}})(eh)),eh}var Dm;function Z_(){return Dm||(Dm=1,Zc.exports=J_()),Zc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function ev(){if(Mm)return Yt;Mm=1;var i=Vh(),e=Z_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function V(t){return _.call(I,t)?!0:_.call(E,t)?!1:v.test(t)?I[t]=!0:(E[t]=!0,!1)}function F(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q(t,r,o,u){if(r===null||typeof r>"u"||F(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(t,r,o,u,h,f,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=y}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];q[r]=new Y(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){q[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var fe=/[\-:]([a-z])/g;function pe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(fe,pe);q[r]=new Y(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(fe,pe);q[r]=new Y(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(fe,pe);q[r]=new Y(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){q[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),q.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){q[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function ve(t,r,o,u){var h=q.hasOwnProperty(r)?q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Q(r,o,h,u)&&(o=null),u||h===null?V(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),wt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Xe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,D;function H(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var we=!1;function Ee(t,r){if(!t||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(j){var u=j}Reflect.construct(t,[],r)}else{try{r.call()}catch(j){u=j}t.call(r.prototype)}else{try{throw Error()}catch(j){u=j}t()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),f=u.stack.split(`
`),y=h.length-1,T=f.length-1;1<=y&&0<=T&&h[y]!==f[T];)T--;for(;1<=y&&0<=T;y--,T--)if(h[y]!==f[T]){if(y!==1||T!==1)do if(y--,T--,0>T||h[y]!==f[T]){var k=`
`+h[y].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=y&&0<=T);break}}}finally{we=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?H(t):""}function Ae(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case Ie:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case $e:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case N:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wt:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case Vt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function be(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qi(t){t._valueTracker||(t._valueTracker=Bt(t))}function ro(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Tr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yi(t,r){var o=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Aa(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Ve(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Xi(t,r){r=r.checked,r!=null&&ve(t,"checked",r,!1)}function hi(t,r){Xi(t,r);var o=Ve(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ct(t,r.type,o):r.hasOwnProperty("defaultValue")&&ct(t,r.type,Ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function io(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ct(t,r,o){(r!=="number"||Tr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var st=Array.isArray;function _n(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ve(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function so(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oo(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(st(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Ve(o)}}function Ca(t,r){var o=Ve(r.value),u=Ve(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Sr(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ao(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ji(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ao(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ir,ka=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ir.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function di(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ra=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(t){Ra.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ar[r]=Ar[t]})});function Cr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Ar.hasOwnProperty(t)&&Ar[t]?(""+r).trim():r+"px"}function Zi(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Cr(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var lo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vn(t,r){if(r){if(lo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function es(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kr=null;function ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var er=null,tr=null,rt=null;function uo(t){if(t=bo(t)){if(typeof er!="function")throw Error(n(280));var r=t.stateNode;r&&(r=tl(r),er(t.stateNode,t.type,r))}}function Rr(t){tr?rt?rt.push(t):rt=[t]:tr=t}function Pr(){if(tr){var t=tr,r=rt;if(rt=tr=null,uo(t),r)for(t=0;t<r.length;t++)uo(r[t])}}function Pa(t,r){return t(r)}function xa(){}var xn=!1;function Na(t,r,o){if(xn)return t(r,o);xn=!0;try{return Pa(t,r,o)}finally{xn=!1,(tr!==null||rt!==null)&&(xa(),Pr())}}function fi(t,r){var o=t.stateNode;if(o===null)return null;var u=tl(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var xr=!1;if(g)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){xr=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{xr=!1}function Va(t,r,o,u,h,f,y,T,k){var j=Array.prototype.slice.call(arguments,3);try{r.apply(o,j)}catch(W){this.onError(W)}}var nr=!1,Nn=null,ns=!1,ln=null,Da={onError:function(t){nr=!0,Nn=t}};function Ma(t,r,o,u,h,f,y,T,k){nr=!1,Nn=null,Va.apply(Da,arguments)}function co(t,r,o,u,h,f,y,T,k){if(Ma.apply(this,arguments),nr){if(nr){var j=Nn;nr=!1,Nn=null}else throw Error(n(198));ns||(ns=!0,ln=j)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ho(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function La(t){if(wn(t)!==t)throw Error(n(188))}function Oa(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===o)return La(h),t;if(f===u)return La(h),r;f=f.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=f;else{for(var y=!1,T=h.child;T;){if(T===o){y=!0,o=h,u=f;break}if(T===u){y=!0,u=h,o=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===o){y=!0,o=f,u=h;break}if(T===u){y=!0,u=f,o=h;break}T=T.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ba(t){return t=Oa(t),t!==null?mi(t):null}function mi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=mi(t);if(r!==null)return r;t=t.sibling}return null}var fo=e.unstable_scheduleCallback,rs=e.unstable_cancelCallback,pi=e.unstable_shouldYield,rr=e.unstable_requestPaint,Ke=e.unstable_now,ku=e.unstable_getCurrentPriorityLevel,is=e.unstable_ImmediatePriority,mo=e.unstable_UserBlockingPriority,gi=e.unstable_NormalPriority,po=e.unstable_LowPriority,ss=e.unstable_IdlePriority,yi=null,Jt=null;function ja(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:_i,Vn=Math.log,un=Math.LN2;function _i(t){return t>>>=0,t===0?32:31-(Vn(t)/un|0)|0}var Dn=64,Vr=4194304;function Oe(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ir(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,f=t.pingedLanes,y=o&268435455;if(y!==0){var T=y&~h;T!==0?u=Oe(T):(f&=y,f!==0&&(u=Oe(f)))}else y=o&~h,y!==0?u=Oe(y):f!==0&&(u=Oe(f));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,f=r&-r,h>=f||h===16&&(f&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Zt(r),h=1<<o,u|=t[o],r&=~h;return u}function vi(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes;0<f;){var y=31-Zt(f),T=1<<y,k=h[y];k===-1?((T&o)===0||(T&u)!==0)&&(h[y]=vi(T,r)):k<=r&&(t.expiredLanes|=T),f&=~T}}function go(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yo(){var t=Dn;return Dn<<=1,(Dn&4194240)===0&&(Dn=64),t}function _o(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ei(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Zt(r),t[r]=o}function Ru(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Zt(o),f=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~f}}function vo(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Zt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Pe=0;function Mn(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var wo,os,Eo,To,So,Ln=!1,as=[],On=null,bn=null,At=null,Ti=new Map,sr=new Map,en=[],Ua="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dr(t,r){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ti.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":sr.delete(r.pointerId)}}function En(t,r,o,u,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=bo(r),r!==null&&os(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Fa(t,r,o,u,h){switch(r){case"focusin":return On=En(On,t,r,o,u,h),!0;case"dragenter":return bn=En(bn,t,r,o,u,h),!0;case"mouseover":return At=En(At,t,r,o,u,h),!0;case"pointerover":var f=h.pointerId;return Ti.set(f,En(Ti.get(f)||null,t,r,o,u,h)),!0;case"gotpointercapture":return f=h.pointerId,sr.set(f,En(sr.get(f)||null,t,r,o,u,h)),!0}return!1}function ls(t){var r=Ci(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=ho(o),r!==null){t.blockedOn=r,So(t.priority,function(){Eo(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ze(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=us(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);kr=u,o.target.dispatchEvent(u),kr=null}else return r=bo(o),r!==null&&os(r),t.blockedOn=o,!1;r.shift()}return!0}function Ba(t,r,o){ze(t)&&o.delete(r)}function Pu(){Ln=!1,On!==null&&ze(On)&&(On=null),bn!==null&&ze(bn)&&(bn=null),At!==null&&ze(At)&&(At=null),Ti.forEach(Ba),sr.forEach(Ba)}function Mr(t,r){t.blockedOn===r&&(t.blockedOn=null,Ln||(Ln=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pu)))}function Lr(t){function r(h){return Mr(h,t)}if(0<as.length){Mr(as[0],t);for(var o=1;o<as.length;o++){var u=as[o];u.blockedOn===t&&(u.blockedOn=null)}}for(On!==null&&Mr(On,t),bn!==null&&Mr(bn,t),At!==null&&Mr(At,t),Ti.forEach(r),sr.forEach(r),o=0;o<en.length;o++)u=en[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<en.length&&(o=en[0],o.blockedOn===null);)ls(o),o.blockedOn===null&&en.shift()}var or=Se.ReactCurrentBatchConfig,ar=!0;function jn(t,r,o,u){var h=Pe,f=or.transition;or.transition=null;try{Pe=1,Io(t,r,o,u)}finally{Pe=h,or.transition=f}}function za(t,r,o,u){var h=Pe,f=or.transition;or.transition=null;try{Pe=4,Io(t,r,o,u)}finally{Pe=h,or.transition=f}}function Io(t,r,o,u){if(ar){var h=us(t,r,o,u);if(h===null)Fu(t,r,u,Un,o),Dr(t,u);else if(Fa(h,t,r,o,u))u.stopPropagation();else if(Dr(t,u),r&4&&-1<Ua.indexOf(t)){for(;h!==null;){var f=bo(h);if(f!==null&&wo(f),f=us(t,r,o,u),f===null&&Fu(t,r,u,Un,o),f===h)break;h=f}h!==null&&u.stopPropagation()}else Fu(t,r,u,null,o)}}var Un=null;function us(t,r,o,u){if(Un=null,t=ts(u),t=Ci(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ho(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Un=t,null}function cs(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ku()){case is:return 1;case mo:return 4;case gi:case po:return 16;case ss:return 536870912;default:return 16}default:return 16}}var tn=null,hs=null,lr=null;function $a(){if(lr)return lr;var t,r=hs,o=r.length,u,h="value"in tn?tn.value:tn.textContent,f=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[f-u];u++);return lr=h.slice(t,1<u?1-u:void 0)}function Si(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Ao(){return!1}function Dt(t){function r(o,u,h,f,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Ao,this.isPropagationStopped=Ao,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Dt(Bn),Or=re({},Bn,{view:0,detail:0}),ds=Dt(Or),fs,ms,nn,Ai=re({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ye,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nn&&(nn&&t.type==="mousemove"?(fs=t.screenX-nn.screenX,ms=t.screenY-nn.screenY):ms=fs=0,nn=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:ms}}),Co=Dt(Ai),qa=re({},Ai,{dataTransfer:0}),Ha=Dt(qa),ps=re({},Or,{relatedTarget:0}),Ct=Dt(ps),Ga=re({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Dt(Ga),br=re({},Bn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l=Dt(br),m=re({},Bn,{data:0}),p=Dt(m),w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=U[t])?!!r[t]:!1}function ye(){return J}var ot=re({},Or,{key:function(t){if(t.key){var r=w[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ye,charCode:function(t){return t.type==="keypress"?Si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ue=Dt(ot),ht=re({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rn=Dt(ht),ur=re({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ye}),zn=Dt(ur),$n=re({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gs=Dt($n),ko=re({},Ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zy=Dt(ko),$y=[9,13,27,32],xu=g&&"CompositionEvent"in window,Ro=null;g&&"documentMode"in document&&(Ro=document.documentMode);var qy=g&&"TextEvent"in window&&!Ro,vd=g&&(!xu||Ro&&8<Ro&&11>=Ro),wd=" ",Ed=!1;function Td(t,r){switch(t){case"keyup":return $y.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function Hy(t,r){switch(t){case"compositionend":return Sd(r);case"keypress":return r.which!==32?null:(Ed=!0,wd);case"textInput":return t=r.data,t===wd&&Ed?null:t;default:return null}}function Gy(t,r){if(ys)return t==="compositionend"||!xu&&Td(t,r)?(t=$a(),lr=hs=tn=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vd&&r.locale!=="ko"?null:r.data;default:return null}}var Wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Wy[t.type]:r==="textarea"}function Ad(t,r,o,u){Rr(u),r=Ja(r,"onChange"),0<r.length&&(o=new Ii("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Po=null,xo=null;function Ky(t){$d(t,0)}function Ka(t){var r=Ts(t);if(ro(r))return t}function Qy(t,r){if(t==="change")return r}var Cd=!1;if(g){var Nu;if(g){var Vu="oninput"in document;if(!Vu){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Vu=typeof kd.oninput=="function"}Nu=Vu}else Nu=!1;Cd=Nu&&(!document.documentMode||9<document.documentMode)}function Rd(){Po&&(Po.detachEvent("onpropertychange",Pd),xo=Po=null)}function Pd(t){if(t.propertyName==="value"&&Ka(xo)){var r=[];Ad(r,xo,t,ts(t)),Na(Ky,r)}}function Yy(t,r,o){t==="focusin"?(Rd(),Po=r,xo=o,Po.attachEvent("onpropertychange",Pd)):t==="focusout"&&Rd()}function Xy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(xo)}function Jy(t,r){if(t==="click")return Ka(r)}function Zy(t,r){if(t==="input"||t==="change")return Ka(r)}function e_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Tn=typeof Object.is=="function"?Object.is:e_;function No(t,r){if(Tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_.call(r,h)||!Tn(t[h],r[h]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nd(t,r){var o=xd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xd(o)}}function Vd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Dd(){for(var t=window,r=Tr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Tr(t.document)}return r}function Du(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function t_(t){var r=Dd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Vd(o.ownerDocument.documentElement,o)){if(u!==null&&Du(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!t.extend&&f>u&&(h=u,u=f,f=h),h=Nd(o,f);var y=Nd(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),f>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var n_=g&&"documentMode"in document&&11>=document.documentMode,_s=null,Mu=null,Vo=null,Lu=!1;function Md(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lu||_s==null||_s!==Tr(u)||(u=_s,"selectionStart"in u&&Du(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vo&&No(Vo,u)||(Vo=u,u=Ja(Mu,"onSelect"),0<u.length&&(r=new Ii("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=_s)))}function Qa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var vs={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},Ou={},Ld={};g&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ya(t){if(Ou[t])return Ou[t];if(!vs[t])return t;var r=vs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ld)return Ou[t]=r[o];return t}var Od=Ya("animationend"),bd=Ya("animationiteration"),jd=Ya("animationstart"),Ud=Ya("transitionend"),Fd=new Map,Bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,r){Fd.set(t,r),c(r,[t])}for(var bu=0;bu<Bd.length;bu++){var ju=Bd[bu],r_=ju.toLowerCase(),i_=ju[0].toUpperCase()+ju.slice(1);jr(r_,"on"+i_)}jr(Od,"onAnimationEnd"),jr(bd,"onAnimationIteration"),jr(jd,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ud,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function zd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,co(u,r,void 0,t),t.currentTarget=null}function $d(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var y=u.length-1;0<=y;y--){var T=u[y],k=T.instance,j=T.currentTarget;if(T=T.listener,k!==f&&h.isPropagationStopped())break e;zd(h,T,j),f=k}else for(y=0;y<u.length;y++){if(T=u[y],k=T.instance,j=T.currentTarget,T=T.listener,k!==f&&h.isPropagationStopped())break e;zd(h,T,j),f=k}}}if(ns)throw t=ln,ns=!1,ln=null,t}function Qe(t,r){var o=r[Gu];o===void 0&&(o=r[Gu]=new Set);var u=t+"__bubble";o.has(u)||(qd(r,t,2,!1),o.add(u))}function Uu(t,r,o){var u=0;r&&(u|=4),qd(o,t,u,r)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[Xa]){t[Xa]=!0,s.forEach(function(o){o!=="selectionchange"&&(s_.has(o)||Uu(o,!1,t),Uu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xa]||(r[Xa]=!0,Uu("selectionchange",!1,r))}}function qd(t,r,o,u){switch(cs(r)){case 1:var h=jn;break;case 4:h=za;break;default:h=Io}o=h.bind(null,r,o,t),h=void 0,!xr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Fu(t,r,o,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var k=y.tag;if((k===3||k===4)&&(k=y.stateNode.containerInfo,k===h||k.nodeType===8&&k.parentNode===h))return;y=y.return}for(;T!==null;){if(y=Ci(T),y===null)return;if(k=y.tag,k===5||k===6){u=f=y;continue e}T=T.parentNode}}u=u.return}Na(function(){var j=f,W=ts(o),K=[];e:{var G=Fd.get(t);if(G!==void 0){var ee=Ii,se=t;switch(t){case"keypress":if(Si(o)===0)break e;case"keydown":case"keyup":ee=Ue;break;case"focusin":se="focus",ee=Ct;break;case"focusout":se="blur",ee=Ct;break;case"beforeblur":case"afterblur":ee=Ct;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Ha;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=zn;break;case Od:case bd:case jd:ee=Wa;break;case Ud:ee=gs;break;case"scroll":ee=ds;break;case"wheel":ee=zy;break;case"copy":case"cut":case"paste":ee=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=rn}var oe=(r&4)!==0,at=!oe&&t==="scroll",L=oe?G!==null?G+"Capture":null:G;oe=[];for(var x=j,b;x!==null;){b=x;var X=b.stateNode;if(b.tag===5&&X!==null&&(b=X,L!==null&&(X=fi(x,L),X!=null&&oe.push(Lo(x,X,b)))),at)break;x=x.return}0<oe.length&&(G=new ee(G,se,null,o,W),K.push({event:G,listeners:oe}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",G&&o!==kr&&(se=o.relatedTarget||o.fromElement)&&(Ci(se)||se[cr]))break e;if((ee||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,ee?(se=o.relatedTarget||o.toElement,ee=j,se=se?Ci(se):null,se!==null&&(at=wn(se),se!==at||se.tag!==5&&se.tag!==6)&&(se=null)):(ee=null,se=j),ee!==se)){if(oe=Co,X="onMouseLeave",L="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(oe=rn,X="onPointerLeave",L="onPointerEnter",x="pointer"),at=ee==null?G:Ts(ee),b=se==null?G:Ts(se),G=new oe(X,x+"leave",ee,o,W),G.target=at,G.relatedTarget=b,X=null,Ci(W)===j&&(oe=new oe(L,x+"enter",se,o,W),oe.target=b,oe.relatedTarget=at,X=oe),at=X,ee&&se)t:{for(oe=ee,L=se,x=0,b=oe;b;b=ws(b))x++;for(b=0,X=L;X;X=ws(X))b++;for(;0<x-b;)oe=ws(oe),x--;for(;0<b-x;)L=ws(L),b--;for(;x--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=ws(oe),L=ws(L)}oe=null}else oe=null;ee!==null&&Hd(K,G,ee,oe,!1),se!==null&&at!==null&&Hd(K,at,se,oe,!0)}}e:{if(G=j?Ts(j):window,ee=G.nodeName&&G.nodeName.toLowerCase(),ee==="select"||ee==="input"&&G.type==="file")var ae=Qy;else if(Id(G))if(Cd)ae=Zy;else{ae=Xy;var ce=Yy}else(ee=G.nodeName)&&ee.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ae=Jy);if(ae&&(ae=ae(t,j))){Ad(K,ae,o,W);break e}ce&&ce(t,G,j),t==="focusout"&&(ce=G._wrapperState)&&ce.controlled&&G.type==="number"&&ct(G,"number",G.value)}switch(ce=j?Ts(j):window,t){case"focusin":(Id(ce)||ce.contentEditable==="true")&&(_s=ce,Mu=j,Vo=null);break;case"focusout":Vo=Mu=_s=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,Md(K,o,W);break;case"selectionchange":if(n_)break;case"keydown":case"keyup":Md(K,o,W)}var he;if(xu)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else ys?Td(t,o)&&(me="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(vd&&o.locale!=="ko"&&(ys||me!=="onCompositionStart"?me==="onCompositionEnd"&&ys&&(he=$a()):(tn=W,hs="value"in tn?tn.value:tn.textContent,ys=!0)),ce=Ja(j,me),0<ce.length&&(me=new p(me,t,null,o,W),K.push({event:me,listeners:ce}),he?me.data=he:(he=Sd(o),he!==null&&(me.data=he)))),(he=qy?Hy(t,o):Gy(t,o))&&(j=Ja(j,"onBeforeInput"),0<j.length&&(W=new p("onBeforeInput","beforeinput",null,o,W),K.push({event:W,listeners:j}),W.data=he))}$d(K,r)})}function Lo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ja(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=fi(t,o),f!=null&&u.unshift(Lo(t,f,h)),f=fi(t,r),f!=null&&u.push(Lo(t,f,h))),t=t.return}return u}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hd(t,r,o,u,h){for(var f=r._reactName,y=[];o!==null&&o!==u;){var T=o,k=T.alternate,j=T.stateNode;if(k!==null&&k===u)break;T.tag===5&&j!==null&&(T=j,h?(k=fi(o,f),k!=null&&y.unshift(Lo(o,k,T))):h||(k=fi(o,f),k!=null&&y.push(Lo(o,k,T)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var o_=/\r\n?/g,a_=/\u0000|\uFFFD/g;function Gd(t){return(typeof t=="string"?t:""+t).replace(o_,`
`).replace(a_,"")}function Za(t,r,o){if(r=Gd(r),Gd(t)!==r&&o)throw Error(n(425))}function el(){}var Bu=null,zu=null;function $u(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,l_=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,u_=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(t){return Wd.resolve(null).then(t).catch(c_)}:qu;function c_(t){setTimeout(function(){throw t})}function Hu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Lr(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Lr(r)}function Ur(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Kd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Es=Math.random().toString(36).slice(2),qn="__reactFiber$"+Es,Oo="__reactProps$"+Es,cr="__reactContainer$"+Es,Gu="__reactEvents$"+Es,h_="__reactListeners$"+Es,d_="__reactHandles$"+Es;function Ci(t){var r=t[qn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[cr]||o[qn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Kd(t);t!==null;){if(o=t[qn])return o;t=Kd(t)}return r}t=o,o=t.parentNode}return null}function bo(t){return t=t[qn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function tl(t){return t[Oo]||null}var Wu=[],Ss=-1;function Fr(t){return{current:t}}function Ye(t){0>Ss||(t.current=Wu[Ss],Wu[Ss]=null,Ss--)}function qe(t,r){Ss++,Wu[Ss]=t.current,t.current=r}var Br={},Mt=Fr(Br),Ht=Fr(!1),ki=Br;function Is(t,r){var o=t.type.contextTypes;if(!o)return Br;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in o)h[f]=r[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Gt(t){return t=t.childContextTypes,t!=null}function nl(){Ye(Ht),Ye(Mt)}function Qd(t,r,o){if(Mt.current!==Br)throw Error(n(168));qe(Mt,r),qe(Ht,o)}function Yd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,be(t)||"Unknown",h));return re({},o,u)}function rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,ki=Mt.current,qe(Mt,t),qe(Ht,Ht.current),!0}function Xd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Yd(t,r,ki),u.__reactInternalMemoizedMergedChildContext=t,Ye(Ht),Ye(Mt),qe(Mt,t)):Ye(Ht),qe(Ht,o)}var hr=null,il=!1,Ku=!1;function Jd(t){hr===null?hr=[t]:hr.push(t)}function f_(t){il=!0,Jd(t)}function zr(){if(!Ku&&hr!==null){Ku=!0;var t=0,r=Pe;try{var o=hr;for(Pe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}hr=null,il=!1}catch(h){throw hr!==null&&(hr=hr.slice(t+1)),fo(is,zr),h}finally{Pe=r,Ku=!1}}return null}var As=[],Cs=0,sl=null,ol=0,cn=[],hn=0,Ri=null,dr=1,fr="";function Pi(t,r){As[Cs++]=ol,As[Cs++]=sl,sl=t,ol=r}function Zd(t,r,o){cn[hn++]=dr,cn[hn++]=fr,cn[hn++]=Ri,Ri=t;var u=dr;t=fr;var h=32-Zt(u)-1;u&=~(1<<h),o+=1;var f=32-Zt(r)+h;if(30<f){var y=h-h%5;f=(u&(1<<y)-1).toString(32),u>>=y,h-=y,dr=1<<32-Zt(r)+h|o<<h|u,fr=f+t}else dr=1<<f|o<<h|u,fr=t}function Qu(t){t.return!==null&&(Pi(t,1),Zd(t,1,0))}function Yu(t){for(;t===sl;)sl=As[--Cs],As[Cs]=null,ol=As[--Cs],As[Cs]=null;for(;t===Ri;)Ri=cn[--hn],cn[hn]=null,fr=cn[--hn],cn[hn]=null,dr=cn[--hn],cn[hn]=null}var sn=null,on=null,Je=!1,Sn=null;function ef(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function tf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,sn=t,on=Ur(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,sn=t,on=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ri!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,sn=t,on=null,!0):!1;default:return!1}}function Xu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ju(t){if(Je){var r=on;if(r){var o=r;if(!tf(t,r)){if(Xu(t))throw Error(n(418));r=Ur(o.nextSibling);var u=sn;r&&tf(t,r)?ef(u,o):(t.flags=t.flags&-4097|2,Je=!1,sn=t)}}else{if(Xu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Je=!1,sn=t}}}function nf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function al(t){if(t!==sn)return!1;if(!Je)return nf(t),Je=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!$u(t.type,t.memoizedProps)),r&&(r=on)){if(Xu(t))throw rf(),Error(n(418));for(;r;)ef(t,r),r=Ur(r.nextSibling)}if(nf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){on=Ur(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}on=null}}else on=sn?Ur(t.stateNode.nextSibling):null;return!0}function rf(){for(var t=on;t;)t=Ur(t.nextSibling)}function ks(){on=sn=null,Je=!1}function Zu(t){Sn===null?Sn=[t]:Sn.push(t)}var m_=Se.ReactCurrentBatchConfig;function jo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(y){var T=h.refs;y===null?delete T[f]:T[f]=y},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ll(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function sf(t){var r=t._init;return r(t._payload)}function of(t){function r(L,x){if(t){var b=L.deletions;b===null?(L.deletions=[x],L.flags|=16):b.push(x)}}function o(L,x){if(!t)return null;for(;x!==null;)r(L,x),x=x.sibling;return null}function u(L,x){for(L=new Map;x!==null;)x.key!==null?L.set(x.key,x):L.set(x.index,x),x=x.sibling;return L}function h(L,x){return L=Yr(L,x),L.index=0,L.sibling=null,L}function f(L,x,b){return L.index=b,t?(b=L.alternate,b!==null?(b=b.index,b<x?(L.flags|=2,x):b):(L.flags|=2,x)):(L.flags|=1048576,x)}function y(L){return t&&L.alternate===null&&(L.flags|=2),L}function T(L,x,b,X){return x===null||x.tag!==6?(x=qc(b,L.mode,X),x.return=L,x):(x=h(x,b),x.return=L,x)}function k(L,x,b,X){var ae=b.type;return ae===R?W(L,x,b.props.children,X,b.key):x!==null&&(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Vt&&sf(ae)===x.type)?(X=h(x,b.props),X.ref=jo(L,x,b),X.return=L,X):(X=Vl(b.type,b.key,b.props,null,L.mode,X),X.ref=jo(L,x,b),X.return=L,X)}function j(L,x,b,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Hc(b,L.mode,X),x.return=L,x):(x=h(x,b.children||[]),x.return=L,x)}function W(L,x,b,X,ae){return x===null||x.tag!==7?(x=bi(b,L.mode,X,ae),x.return=L,x):(x=h(x,b),x.return=L,x)}function K(L,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qc(""+x,L.mode,b),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fe:return b=Vl(x.type,x.key,x.props,null,L.mode,b),b.ref=jo(L,null,x),b.return=L,b;case Ie:return x=Hc(x,L.mode,b),x.return=L,x;case Vt:var X=x._init;return K(L,X(x._payload),b)}if(st(x)||ue(x))return x=bi(x,L.mode,b,null),x.return=L,x;ll(L,x)}return null}function G(L,x,b,X){var ae=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ae!==null?null:T(L,x,""+b,X);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fe:return b.key===ae?k(L,x,b,X):null;case Ie:return b.key===ae?j(L,x,b,X):null;case Vt:return ae=b._init,G(L,x,ae(b._payload),X)}if(st(b)||ue(b))return ae!==null?null:W(L,x,b,X,null);ll(L,b)}return null}function ee(L,x,b,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number")return L=L.get(b)||null,T(x,L,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Fe:return L=L.get(X.key===null?b:X.key)||null,k(x,L,X,ae);case Ie:return L=L.get(X.key===null?b:X.key)||null,j(x,L,X,ae);case Vt:var ce=X._init;return ee(L,x,b,ce(X._payload),ae)}if(st(X)||ue(X))return L=L.get(b)||null,W(x,L,X,ae,null);ll(x,X)}return null}function se(L,x,b,X){for(var ae=null,ce=null,he=x,me=x=0,St=null;he!==null&&me<b.length;me++){he.index>me?(St=he,he=null):St=he.sibling;var Me=G(L,he,b[me],X);if(Me===null){he===null&&(he=St);break}t&&he&&Me.alternate===null&&r(L,he),x=f(Me,x,me),ce===null?ae=Me:ce.sibling=Me,ce=Me,he=St}if(me===b.length)return o(L,he),Je&&Pi(L,me),ae;if(he===null){for(;me<b.length;me++)he=K(L,b[me],X),he!==null&&(x=f(he,x,me),ce===null?ae=he:ce.sibling=he,ce=he);return Je&&Pi(L,me),ae}for(he=u(L,he);me<b.length;me++)St=ee(he,L,me,b[me],X),St!==null&&(t&&St.alternate!==null&&he.delete(St.key===null?me:St.key),x=f(St,x,me),ce===null?ae=St:ce.sibling=St,ce=St);return t&&he.forEach(function(Xr){return r(L,Xr)}),Je&&Pi(L,me),ae}function oe(L,x,b,X){var ae=ue(b);if(typeof ae!="function")throw Error(n(150));if(b=ae.call(b),b==null)throw Error(n(151));for(var ce=ae=null,he=x,me=x=0,St=null,Me=b.next();he!==null&&!Me.done;me++,Me=b.next()){he.index>me?(St=he,he=null):St=he.sibling;var Xr=G(L,he,Me.value,X);if(Xr===null){he===null&&(he=St);break}t&&he&&Xr.alternate===null&&r(L,he),x=f(Xr,x,me),ce===null?ae=Xr:ce.sibling=Xr,ce=Xr,he=St}if(Me.done)return o(L,he),Je&&Pi(L,me),ae;if(he===null){for(;!Me.done;me++,Me=b.next())Me=K(L,Me.value,X),Me!==null&&(x=f(Me,x,me),ce===null?ae=Me:ce.sibling=Me,ce=Me);return Je&&Pi(L,me),ae}for(he=u(L,he);!Me.done;me++,Me=b.next())Me=ee(he,L,me,Me.value,X),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?me:Me.key),x=f(Me,x,me),ce===null?ae=Me:ce.sibling=Me,ce=Me);return t&&he.forEach(function(W_){return r(L,W_)}),Je&&Pi(L,me),ae}function at(L,x,b,X){if(typeof b=="object"&&b!==null&&b.type===R&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fe:e:{for(var ae=b.key,ce=x;ce!==null;){if(ce.key===ae){if(ae=b.type,ae===R){if(ce.tag===7){o(L,ce.sibling),x=h(ce,b.props.children),x.return=L,L=x;break e}}else if(ce.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Vt&&sf(ae)===ce.type){o(L,ce.sibling),x=h(ce,b.props),x.ref=jo(L,ce,b),x.return=L,L=x;break e}o(L,ce);break}else r(L,ce);ce=ce.sibling}b.type===R?(x=bi(b.props.children,L.mode,X,b.key),x.return=L,L=x):(X=Vl(b.type,b.key,b.props,null,L.mode,X),X.ref=jo(L,x,b),X.return=L,L=X)}return y(L);case Ie:e:{for(ce=b.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){o(L,x.sibling),x=h(x,b.children||[]),x.return=L,L=x;break e}else{o(L,x);break}else r(L,x);x=x.sibling}x=Hc(b,L.mode,X),x.return=L,L=x}return y(L);case Vt:return ce=b._init,at(L,x,ce(b._payload),X)}if(st(b))return se(L,x,b,X);if(ue(b))return oe(L,x,b,X);ll(L,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(o(L,x.sibling),x=h(x,b),x.return=L,L=x):(o(L,x),x=qc(b,L.mode,X),x.return=L,L=x),y(L)):o(L,x)}return at}var Rs=of(!0),af=of(!1),ul=Fr(null),cl=null,Ps=null,ec=null;function tc(){ec=Ps=cl=null}function nc(t){var r=ul.current;Ye(ul),t._currentValue=r}function rc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function xs(t,r){cl=t,ec=Ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Wt=!0),t.firstContext=null)}function dn(t){var r=t._currentValue;if(ec!==t)if(t={context:t,memoizedValue:r,next:null},Ps===null){if(cl===null)throw Error(n(308));Ps=t,cl.dependencies={lanes:0,firstContext:t}}else Ps=Ps.next=t;return r}var xi=null;function ic(t){xi===null?xi=[t]:xi.push(t)}function lf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,ic(r)):(o.next=h.next,h.next=o),r.interleaved=o,mr(t,u)}function mr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var $r=!1;function sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function qr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,mr(t,o)}return h=u.interleaved,h===null?(r.next=r,ic(u)):(r.next=h.next,h.next=r),u.interleaved=r,mr(t,o)}function hl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,vo(t,o)}}function cf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?h=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?h=f=r:f=f.next=r}else h=f=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function dl(t,r,o,u){var h=t.updateQueue;$r=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var k=T,j=k.next;k.next=null,y===null?f=j:y.next=j,y=k;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==y&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=k))}if(f!==null){var K=h.baseState;y=0,W=j=k=null,T=f;do{var G=T.lane,ee=T.eventTime;if((u&G)===G){W!==null&&(W=W.next={eventTime:ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var se=t,oe=T;switch(G=r,ee=o,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){K=se.call(ee,K,G);break e}K=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,G=typeof se=="function"?se.call(ee,K,G):se,G==null)break e;K=re({},K,G);break e;case 2:$r=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,G=h.effects,G===null?h.effects=[T]:G.push(T))}else ee={eventTime:ee,lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=ee,k=K):W=W.next=ee,y|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);if(W===null&&(k=K),h.baseState=k,h.firstBaseUpdate=j,h.lastBaseUpdate=W,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else f===null&&(h.shared.lanes=0);Di|=y,t.lanes=y,t.memoizedState=K}}function hf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Uo={},Hn=Fr(Uo),Fo=Fr(Uo),Bo=Fr(Uo);function Ni(t){if(t===Uo)throw Error(n(174));return t}function oc(t,r){switch(qe(Bo,r),qe(Fo,t),qe(Hn,Uo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ji(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Ji(r,t)}Ye(Hn),qe(Hn,r)}function Ns(){Ye(Hn),Ye(Fo),Ye(Bo)}function df(t){Ni(Bo.current);var r=Ni(Hn.current),o=Ji(r,t.type);r!==o&&(qe(Fo,t),qe(Hn,o))}function ac(t){Fo.current===t&&(Ye(Hn),Ye(Fo))}var Ze=Fr(0);function fl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lc=[];function uc(){for(var t=0;t<lc.length;t++)lc[t]._workInProgressVersionPrimary=null;lc.length=0}var ml=Se.ReactCurrentDispatcher,cc=Se.ReactCurrentBatchConfig,Vi=0,et=null,gt=null,Et=null,pl=!1,zo=!1,$o=0,p_=0;function Lt(){throw Error(n(321))}function hc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Tn(t[o],r[o]))return!1;return!0}function dc(t,r,o,u,h,f){if(Vi=f,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ml.current=t===null||t.memoizedState===null?v_:w_,t=o(u,h),zo){f=0;do{if(zo=!1,$o=0,25<=f)throw Error(n(301));f+=1,Et=gt=null,r.updateQueue=null,ml.current=E_,t=o(u,h)}while(zo)}if(ml.current=_l,r=gt!==null&&gt.next!==null,Vi=0,Et=gt=et=null,pl=!1,r)throw Error(n(300));return t}function fc(){var t=$o!==0;return $o=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?et.memoizedState=Et=t:Et=Et.next=t,Et}function fn(){if(gt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var r=Et===null?et.memoizedState:Et.next;if(r!==null)Et=r,gt=t;else{if(t===null)throw Error(n(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Et===null?et.memoizedState=Et=t:Et=Et.next=t}return Et}function qo(t,r){return typeof r=="function"?r(t):r}function mc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=gt,h=u.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}u.baseQueue=h=f,o.pending=null}if(h!==null){f=h.next,u=u.baseState;var T=y=null,k=null,j=f;do{var W=j.lane;if((Vi&W)===W)k!==null&&(k=k.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:t(u,j.action);else{var K={lane:W,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};k===null?(T=k=K,y=u):k=k.next=K,et.lanes|=W,Di|=W}j=j.next}while(j!==null&&j!==f);k===null?y=u:k.next=T,Tn(u,r.memoizedState)||(Wt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=k,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do f=h.lane,et.lanes|=f,Di|=f,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function pc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,f=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Tn(f,r.memoizedState)||(Wt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,u]}function ff(){}function mf(t,r){var o=et,u=fn(),h=r(),f=!Tn(u.memoizedState,h);if(f&&(u.memoizedState=h,Wt=!0),u=u.queue,gc(yf.bind(null,o,u,t),[t]),u.getSnapshot!==r||f||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Ho(9,gf.bind(null,o,u,h,r),void 0,null),Tt===null)throw Error(n(349));(Vi&30)!==0||pf(o,r,h)}return h}function pf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function gf(t,r,o,u){r.value=o,r.getSnapshot=u,_f(r)&&vf(t)}function yf(t,r,o){return o(function(){_f(r)&&vf(t)})}function _f(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Tn(t,o)}catch{return!0}}function vf(t){var r=mr(t,1);r!==null&&kn(r,t,1,-1)}function wf(t){var r=Gn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},r.queue=t,t=t.dispatch=__.bind(null,et,t),[r.memoizedState,t]}function Ho(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Ef(){return fn().memoizedState}function gl(t,r,o,u){var h=Gn();et.flags|=t,h.memoizedState=Ho(1|r,o,void 0,u===void 0?null:u)}function yl(t,r,o,u){var h=fn();u=u===void 0?null:u;var f=void 0;if(gt!==null){var y=gt.memoizedState;if(f=y.destroy,u!==null&&hc(u,y.deps)){h.memoizedState=Ho(r,o,f,u);return}}et.flags|=t,h.memoizedState=Ho(1|r,o,f,u)}function Tf(t,r){return gl(8390656,8,t,r)}function gc(t,r){return yl(2048,8,t,r)}function Sf(t,r){return yl(4,2,t,r)}function If(t,r){return yl(4,4,t,r)}function Af(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cf(t,r,o){return o=o!=null?o.concat([t]):null,yl(4,4,Af.bind(null,r,t),o)}function yc(){}function kf(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Rf(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Pf(t,r,o){return(Vi&21)===0?(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o):(Tn(o,r)||(o=yo(),et.lanes|=o,Di|=o,t.baseState=!0),r)}function g_(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var u=cc.transition;cc.transition={};try{t(!1),r()}finally{Pe=o,cc.transition=u}}function xf(){return fn().memoizedState}function y_(t,r,o){var u=Kr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Nf(t))Vf(r,o);else if(o=lf(t,r,o,u),o!==null){var h=$t();kn(o,t,u,h),Df(o,r,u)}}function __(t,r,o){var u=Kr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nf(t))Vf(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var y=r.lastRenderedState,T=f(y,o);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,y)){var k=r.interleaved;k===null?(h.next=h,ic(r)):(h.next=k.next,k.next=h),r.interleaved=h;return}}catch{}finally{}o=lf(t,r,h,u),o!==null&&(h=$t(),kn(o,t,u,h),Df(o,r,u))}}function Nf(t){var r=t.alternate;return t===et||r!==null&&r===et}function Vf(t,r){zo=pl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Df(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,vo(t,o)}}var _l={readContext:dn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},v_={readContext:dn,useCallback:function(t,r){return Gn().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:Tf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,gl(4194308,4,Af.bind(null,r,t),o)},useLayoutEffect:function(t,r){return gl(4194308,4,t,r)},useInsertionEffect:function(t,r){return gl(4,2,t,r)},useMemo:function(t,r){var o=Gn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Gn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=y_.bind(null,et,t),[u.memoizedState,t]},useRef:function(t){var r=Gn();return t={current:t},r.memoizedState=t},useState:wf,useDebugValue:yc,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=wf(!1),r=t[0];return t=g_.bind(null,t[1]),Gn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=et,h=Gn();if(Je){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Tt===null)throw Error(n(349));(Vi&30)!==0||pf(u,r,o)}h.memoizedState=o;var f={value:o,getSnapshot:r};return h.queue=f,Tf(yf.bind(null,u,f,t),[t]),u.flags|=2048,Ho(9,gf.bind(null,u,f,o,r),void 0,null),o},useId:function(){var t=Gn(),r=Tt.identifierPrefix;if(Je){var o=fr,u=dr;o=(u&~(1<<32-Zt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=$o++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=p_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},w_={readContext:dn,useCallback:kf,useContext:dn,useEffect:gc,useImperativeHandle:Cf,useInsertionEffect:Sf,useLayoutEffect:If,useMemo:Rf,useReducer:mc,useRef:Ef,useState:function(){return mc(qo)},useDebugValue:yc,useDeferredValue:function(t){var r=fn();return Pf(r,gt.memoizedState,t)},useTransition:function(){var t=mc(qo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:ff,useSyncExternalStore:mf,useId:xf,unstable_isNewReconciler:!1},E_={readContext:dn,useCallback:kf,useContext:dn,useEffect:gc,useImperativeHandle:Cf,useInsertionEffect:Sf,useLayoutEffect:If,useMemo:Rf,useReducer:pc,useRef:Ef,useState:function(){return pc(qo)},useDebugValue:yc,useDeferredValue:function(t){var r=fn();return gt===null?r.memoizedState=t:Pf(r,gt.memoizedState,t)},useTransition:function(){var t=pc(qo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:ff,useSyncExternalStore:mf,useId:xf,unstable_isNewReconciler:!1};function In(t,r){if(t&&t.defaultProps){r=re({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function _c(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:re({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var vl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=$t(),h=Kr(t),f=pr(u,h);f.payload=r,o!=null&&(f.callback=o),r=qr(t,f,h),r!==null&&(kn(r,t,h,u),hl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=$t(),h=Kr(t),f=pr(u,h);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=qr(t,f,h),r!==null&&(kn(r,t,h,u),hl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=$t(),u=Kr(t),h=pr(o,u);h.tag=2,r!=null&&(h.callback=r),r=qr(t,h,u),r!==null&&(kn(r,t,u,o),hl(r,t,u))}};function Mf(t,r,o,u,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,y):r.prototype&&r.prototype.isPureReactComponent?!No(o,u)||!No(h,f):!0}function Lf(t,r,o){var u=!1,h=Br,f=r.contextType;return typeof f=="object"&&f!==null?f=dn(f):(h=Gt(r)?ki:Mt.current,u=r.contextTypes,f=(u=u!=null)?Is(t,h):Br),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=vl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=f),r}function Of(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&vl.enqueueReplaceState(r,r.state,null)}function vc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},sc(t);var f=r.contextType;typeof f=="object"&&f!==null?h.context=dn(f):(f=Gt(r)?ki:Mt.current,h.context=Is(t,f)),h.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(_c(t,r,f,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&vl.enqueueReplaceState(h,h.state,null),dl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Vs(t,r){try{var o="",u=r;do o+=Ae(u),u=u.return;while(u);var h=o}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:h,digest:null}}function wc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Ec(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var T_=typeof WeakMap=="function"?WeakMap:Map;function bf(t,r,o){o=pr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Cl||(Cl=!0,Oc=u),Ec(t,r)},o}function jf(t,r,o){o=pr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Ec(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){Ec(t,r),typeof u!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function Uf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new T_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=O_.bind(null,t,r,o),r.then(t,t))}function Ff(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Bf(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=pr(-1,1),r.tag=2,qr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var S_=Se.ReactCurrentOwner,Wt=!1;function zt(t,r,o,u){r.child=t===null?af(r,null,o,u):Rs(r,t.child,o,u)}function zf(t,r,o,u,h){o=o.render;var f=r.ref;return xs(r,h),u=dc(t,r,o,u,f,h),o=fc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,gr(t,r,h)):(Je&&o&&Qu(r),r.flags|=1,zt(t,r,u,h),r.child)}function $f(t,r,o,u,h){if(t===null){var f=o.type;return typeof f=="function"&&!$c(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,qf(t,r,f,u,h)):(t=Vl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,(t.lanes&h)===0){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:No,o(y,u)&&t.ref===r.ref)return gr(t,r,h)}return r.flags|=1,t=Yr(f,u),t.ref=r.ref,t.return=r,r.child=t}function qf(t,r,o,u,h){if(t!==null){var f=t.memoizedProps;if(No(f,u)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=u=f,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Wt=!0);else return r.lanes=t.lanes,gr(t,r,h)}return Tc(t,r,o,u,h)}function Hf(t,r,o){var u=r.pendingProps,h=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ms,an),an|=o;else{if((o&1073741824)===0)return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Ms,an),an|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,qe(Ms,an),an|=u}else f!==null?(u=f.baseLanes|o,r.memoizedState=null):u=o,qe(Ms,an),an|=u;return zt(t,r,h,o),r.child}function Gf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Tc(t,r,o,u,h){var f=Gt(o)?ki:Mt.current;return f=Is(r,f),xs(r,h),o=dc(t,r,o,u,f,h),u=fc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,gr(t,r,h)):(Je&&u&&Qu(r),r.flags|=1,zt(t,r,o,h),r.child)}function Wf(t,r,o,u,h){if(Gt(o)){var f=!0;rl(r)}else f=!1;if(xs(r,h),r.stateNode===null)El(t,r),Lf(r,o,u),vc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,T=r.memoizedProps;y.props=T;var k=y.context,j=o.contextType;typeof j=="object"&&j!==null?j=dn(j):(j=Gt(o)?ki:Mt.current,j=Is(r,j));var W=o.getDerivedStateFromProps,K=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function";K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==u||k!==j)&&Of(r,y,u,j),$r=!1;var G=r.memoizedState;y.state=G,dl(r,u,y,h),k=r.memoizedState,T!==u||G!==k||Ht.current||$r?(typeof W=="function"&&(_c(r,o,W,u),k=r.memoizedState),(T=$r||Mf(r,o,T,u,G,k,j))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=k),y.props=u,y.state=k,y.context=j,u=T):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,uf(t,r),T=r.memoizedProps,j=r.type===r.elementType?T:In(r.type,T),y.props=j,K=r.pendingProps,G=y.context,k=o.contextType,typeof k=="object"&&k!==null?k=dn(k):(k=Gt(o)?ki:Mt.current,k=Is(r,k));var ee=o.getDerivedStateFromProps;(W=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==K||G!==k)&&Of(r,y,u,k),$r=!1,G=r.memoizedState,y.state=G,dl(r,u,y,h);var se=r.memoizedState;T!==K||G!==se||Ht.current||$r?(typeof ee=="function"&&(_c(r,o,ee,u),se=r.memoizedState),(j=$r||Mf(r,o,j,u,G,se,k)||!1)?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,se,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,se,k)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=se),y.props=u,y.state=se,y.context=k,u=j):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return Sc(t,r,o,u,f,h)}function Sc(t,r,o,u,h,f){Gf(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&Xd(r,o,!1),gr(t,r,f);u=r.stateNode,S_.current=r;var T=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=Rs(r,t.child,null,f),r.child=Rs(r,null,T,f)):zt(t,r,T,f),r.memoizedState=u.state,h&&Xd(r,o,!0),r.child}function Kf(t){var r=t.stateNode;r.pendingContext?Qd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Qd(t,r.context,!1),oc(t,r.containerInfo)}function Qf(t,r,o,u,h){return ks(),Zu(h),r.flags|=256,zt(t,r,o,u),r.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Ac(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yf(t,r,o){var u=r.pendingProps,h=Ze.current,f=!1,y=(r.flags&128)!==0,T;if((T=y)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),qe(Ze,h&1),t===null)return Ju(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,f?(u=r.mode,f=r.child,y={mode:"hidden",children:y},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Dl(y,u,0,null),t=bi(t,u,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=Ac(o),r.memoizedState=Ic,t):Cc(r,y));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return I_(t,r,y,u,T,h,o);if(f){f=u.fallback,y=r.mode,h=t.child,T=h.sibling;var k={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=k,r.deletions=null):(u=Yr(h,k),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?f=Yr(T,f):(f=bi(f,y,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,y=t.child.memoizedState,y=y===null?Ac(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=t.childLanes&~o,r.memoizedState=Ic,u}return f=t.child,t=f.sibling,u=Yr(f,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Cc(t,r){return r=Dl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function wl(t,r,o,u){return u!==null&&Zu(u),Rs(r,t.child,null,o),t=Cc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function I_(t,r,o,u,h,f,y){if(o)return r.flags&256?(r.flags&=-257,u=wc(Error(n(422))),wl(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=u.fallback,h=r.mode,u=Dl({mode:"visible",children:u.children},h,0,null),f=bi(f,h,y,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,(r.mode&1)!==0&&Rs(r,t.child,null,y),r.child.memoizedState=Ac(y),r.memoizedState=Ic,f);if((r.mode&1)===0)return wl(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,f=Error(n(419)),u=wc(f,u,void 0),wl(t,r,y,u)}if(T=(y&t.childLanes)!==0,Wt||T){if(u=Tt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,mr(t,h),kn(u,t,h,-1))}return zc(),u=wc(Error(n(421))),wl(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=b_.bind(null,t),h._reactRetry=r,null):(t=f.treeContext,on=Ur(h.nextSibling),sn=r,Je=!0,Sn=null,t!==null&&(cn[hn++]=dr,cn[hn++]=fr,cn[hn++]=Ri,dr=t.id,fr=t.overflow,Ri=r),r=Cc(r,u.children),r.flags|=4096,r)}function Xf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),rc(t.return,r,o)}function kc(t,r,o,u,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=h)}function Jf(t,r,o){var u=r.pendingProps,h=u.revealOrder,f=u.tail;if(zt(t,r,u.children,o),u=Ze.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xf(t,o,r);else if(t.tag===19)Xf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Ze,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&fl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),kc(r,!1,h,o,f);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&fl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}kc(r,!0,o,null,f);break;case"together":kc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function El(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Di|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Yr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Yr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function A_(t,r,o){switch(r.tag){case 3:Kf(r),ks();break;case 5:df(r);break;case 1:Gt(r.type)&&rl(r);break;case 4:oc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;qe(ul,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Ze,Ze.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Yf(t,r,o):(qe(Ze,Ze.current&1),t=gr(t,r,o),t!==null?t.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Jf(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),qe(Ze,Ze.current),u)break;return null;case 22:case 23:return r.lanes=0,Hf(t,r,o)}return gr(t,r,o)}var Zf,Rc,em,tm;Zf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Rc=function(){},em=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ni(Hn.current);var f=null;switch(o){case"input":h=Yi(t,h),u=Yi(t,u),f=[];break;case"select":h=re({},h,{value:void 0}),u=re({},u,{value:void 0}),f=[];break;case"textarea":h=so(t,h),u=so(t,u),f=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=el)}vn(o,u);var y;o=null;for(j in h)if(!u.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var T=h[j];for(y in T)T.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?f||(f=[]):(f=f||[]).push(j,null));for(j in u){var k=u[j];if(T=h!=null?h[j]:void 0,u.hasOwnProperty(j)&&k!==T&&(k!=null||T!=null))if(j==="style")if(T){for(y in T)!T.hasOwnProperty(y)||k&&k.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in k)k.hasOwnProperty(y)&&T[y]!==k[y]&&(o||(o={}),o[y]=k[y])}else o||(f||(f=[]),f.push(j,o)),o=k;else j==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,T=T?T.__html:void 0,k!=null&&T!==k&&(f=f||[]).push(j,k)):j==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(j,""+k):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(k!=null&&j==="onScroll"&&Qe("scroll",t),f||T===k||(f=[])):(f=f||[]).push(j,k))}o&&(f=f||[]).push("style",o);var j=f;(r.updateQueue=j)&&(r.flags|=4)}},tm=function(t,r,o,u){o!==u&&(r.flags|=4)};function Go(t,r){if(!Je)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function C_(t,r,o){var u=r.pendingProps;switch(Yu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(r),null;case 1:return Gt(r.type)&&nl(),Ot(r),null;case 3:return u=r.stateNode,Ns(),Ye(Ht),Ye(Mt),uc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(al(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sn!==null&&(Uc(Sn),Sn=null))),Rc(t,r),Ot(r),null;case 5:ac(r);var h=Ni(Bo.current);if(o=r.type,t!==null&&r.stateNode!=null)em(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Ot(r),null}if(t=Ni(Hn.current),al(r)){u=r.stateNode,o=r.type;var f=r.memoizedProps;switch(u[qn]=r,u[Oo]=f,t=(r.mode&1)!==0,o){case"dialog":Qe("cancel",u),Qe("close",u);break;case"iframe":case"object":case"embed":Qe("load",u);break;case"video":case"audio":for(h=0;h<Do.length;h++)Qe(Do[h],u);break;case"source":Qe("error",u);break;case"img":case"image":case"link":Qe("error",u),Qe("load",u);break;case"details":Qe("toggle",u);break;case"input":Aa(u,f),Qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Qe("invalid",u);break;case"textarea":oo(u,f),Qe("invalid",u)}vn(o,f),h=null;for(var y in f)if(f.hasOwnProperty(y)){var T=f[y];y==="children"?typeof T=="string"?u.textContent!==T&&(f.suppressHydrationWarning!==!0&&Za(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(f.suppressHydrationWarning!==!0&&Za(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(y)&&T!=null&&y==="onScroll"&&Qe("scroll",u)}switch(o){case"input":Qi(u),io(u,f,!0);break;case"textarea":Qi(u),Sr(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=el)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ao(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[qn]=r,t[Oo]=u,Zf(t,r,!1,!1),r.stateNode=t;e:{switch(y=es(o,u),o){case"dialog":Qe("cancel",t),Qe("close",t),h=u;break;case"iframe":case"object":case"embed":Qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Do.length;h++)Qe(Do[h],t);h=u;break;case"source":Qe("error",t),h=u;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),h=u;break;case"details":Qe("toggle",t),h=u;break;case"input":Aa(t,u),h=Yi(t,u),Qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=re({},u,{value:void 0}),Qe("invalid",t);break;case"textarea":oo(t,u),h=so(t,u),Qe("invalid",t);break;default:h=u}vn(o,h),T=h;for(f in T)if(T.hasOwnProperty(f)){var k=T[f];f==="style"?Zi(t,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&ka(t,k)):f==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&di(t,k):typeof k=="number"&&di(t,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?k!=null&&f==="onScroll"&&Qe("scroll",t):k!=null&&ve(t,f,k,y))}switch(o){case"input":Qi(t),io(t,u,!1);break;case"textarea":Qi(t),Sr(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ve(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?_n(t,!!u.multiple,f,!1):u.defaultValue!=null&&_n(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=el)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ot(r),null;case 6:if(t&&r.stateNode!=null)tm(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ni(Bo.current),Ni(Hn.current),al(r)){if(u=r.stateNode,o=r.memoizedProps,u[qn]=r,(f=u.nodeValue!==o)&&(t=sn,t!==null))switch(t.tag){case 3:Za(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Za(u.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[qn]=r,r.stateNode=u}return Ot(r),null;case 13:if(Ye(Ze),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&on!==null&&(r.mode&1)!==0&&(r.flags&128)===0)rf(),ks(),r.flags|=98560,f=!1;else if(f=al(r),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[qn]=r}else ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ot(r),f=!1}else Sn!==null&&(Uc(Sn),Sn=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ze.current&1)!==0?yt===0&&(yt=3):zc())),r.updateQueue!==null&&(r.flags|=4),Ot(r),null);case 4:return Ns(),Rc(t,r),t===null&&Mo(r.stateNode.containerInfo),Ot(r),null;case 10:return nc(r.type._context),Ot(r),null;case 17:return Gt(r.type)&&nl(),Ot(r),null;case 19:if(Ye(Ze),f=r.memoizedState,f===null)return Ot(r),null;if(u=(r.flags&128)!==0,y=f.rendering,y===null)if(u)Go(f,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=fl(t),y!==null){for(r.flags|=128,Go(f,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)f=o,t=u,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,t=y.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Ze,Ze.current&1|2),r.child}t=t.sibling}f.tail!==null&&Ke()>Ls&&(r.flags|=128,u=!0,Go(f,!1),r.lanes=4194304)}else{if(!u)if(t=fl(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Go(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Je)return Ot(r),null}else 2*Ke()-f.renderingStartTime>Ls&&o!==1073741824&&(r.flags|=128,u=!0,Go(f,!1),r.lanes=4194304);f.isBackwards?(y.sibling=r.child,r.child=y):(o=f.last,o!==null?o.sibling=y:r.child=y,f.last=y)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ke(),r.sibling=null,o=Ze.current,qe(Ze,u?o&1|2:o&1),r):(Ot(r),null);case 22:case 23:return Bc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(an&1073741824)!==0&&(Ot(r),r.subtreeFlags&6&&(r.flags|=8192)):Ot(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function k_(t,r){switch(Yu(r),r.tag){case 1:return Gt(r.type)&&nl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ns(),Ye(Ht),Ye(Mt),uc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return ac(r),null;case 13:if(Ye(Ze),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ks()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ye(Ze),null;case 4:return Ns(),null;case 10:return nc(r.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var Tl=!1,bt=!1,R_=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ds(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){it(t,r,u)}else o.current=null}function Pc(t,r,o){try{o()}catch(u){it(t,r,u)}}var nm=!1;function P_(t,r){if(Bu=ar,t=Dd(),Du(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,T=-1,k=-1,j=0,W=0,K=t,G=null;t:for(;;){for(var ee;K!==o||h!==0&&K.nodeType!==3||(T=y+h),K!==f||u!==0&&K.nodeType!==3||(k=y+u),K.nodeType===3&&(y+=K.nodeValue.length),(ee=K.firstChild)!==null;)G=K,K=ee;for(;;){if(K===t)break t;if(G===o&&++j===h&&(T=y),G===f&&++W===u&&(k=y),(ee=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=ee}o=T===-1||k===-1?null:{start:T,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(zu={focusedElem:t,selectionRange:o},ar=!1,ie=r;ie!==null;)if(r=ie,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ie=t;else for(;ie!==null;){r=ie;try{var se=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,at=se.memoizedState,L=r.stateNode,x=L.getSnapshotBeforeUpdate(r.elementType===r.type?oe:In(r.type,oe),at);L.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){it(r,r.return,X)}if(t=r.sibling,t!==null){t.return=r.return,ie=t;break}ie=r.return}return se=nm,nm=!1,se}function Wo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var f=h.destroy;h.destroy=void 0,f!==void 0&&Pc(r,o,f)}h=h.next}while(h!==u)}}function Sl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function xc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function rm(t){var r=t.alternate;r!==null&&(t.alternate=null,rm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[qn],delete r[Oo],delete r[Gu],delete r[h_],delete r[d_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function im(t){return t.tag===5||t.tag===3||t.tag===4}function sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||im(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=el));else if(u!==4&&(t=t.child,t!==null))for(Nc(t,r,o),t=t.sibling;t!==null;)Nc(t,r,o),t=t.sibling}function Vc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Vc(t,r,o),t=t.sibling;t!==null;)Vc(t,r,o),t=t.sibling}var kt=null,An=!1;function Hr(t,r,o){for(o=o.child;o!==null;)om(t,r,o),o=o.sibling}function om(t,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(yi,o)}catch{}switch(o.tag){case 5:bt||Ds(o,r);case 6:var u=kt,h=An;kt=null,Hr(t,r,o),kt=u,An=h,kt!==null&&(An?(t=kt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):kt.removeChild(o.stateNode));break;case 18:kt!==null&&(An?(t=kt,o=o.stateNode,t.nodeType===8?Hu(t.parentNode,o):t.nodeType===1&&Hu(t,o),Lr(t)):Hu(kt,o.stateNode));break;case 4:u=kt,h=An,kt=o.stateNode.containerInfo,An=!0,Hr(t,r,o),kt=u,An=h;break;case 0:case 11:case 14:case 15:if(!bt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var f=h,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Pc(o,r,y),h=h.next}while(h!==u)}Hr(t,r,o);break;case 1:if(!bt&&(Ds(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){it(o,r,T)}Hr(t,r,o);break;case 21:Hr(t,r,o);break;case 22:o.mode&1?(bt=(u=bt)||o.memoizedState!==null,Hr(t,r,o),bt=u):Hr(t,r,o);break;default:Hr(t,r,o)}}function am(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new R_),r.forEach(function(u){var h=j_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Cn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var f=t,y=r,T=y;e:for(;T!==null;){switch(T.tag){case 5:kt=T.stateNode,An=!1;break e;case 3:kt=T.stateNode.containerInfo,An=!0;break e;case 4:kt=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(kt===null)throw Error(n(160));om(f,y,h),kt=null,An=!1;var k=h.alternate;k!==null&&(k.return=null),h.return=null}catch(j){it(h,r,j)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)lm(r,t),r=r.sibling}function lm(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(r,t),Wn(t),u&4){try{Wo(3,t,t.return),Sl(3,t)}catch(oe){it(t,t.return,oe)}try{Wo(5,t,t.return)}catch(oe){it(t,t.return,oe)}}break;case 1:Cn(r,t),Wn(t),u&512&&o!==null&&Ds(o,o.return);break;case 5:if(Cn(r,t),Wn(t),u&512&&o!==null&&Ds(o,o.return),t.flags&32){var h=t.stateNode;try{di(h,"")}catch(oe){it(t,t.return,oe)}}if(u&4&&(h=t.stateNode,h!=null)){var f=t.memoizedProps,y=o!==null?o.memoizedProps:f,T=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{T==="input"&&f.type==="radio"&&f.name!=null&&Xi(h,f),es(T,y);var j=es(T,f);for(y=0;y<k.length;y+=2){var W=k[y],K=k[y+1];W==="style"?Zi(h,K):W==="dangerouslySetInnerHTML"?ka(h,K):W==="children"?di(h,K):ve(h,W,K,j)}switch(T){case"input":hi(h,f);break;case"textarea":Ca(h,f);break;case"select":var G=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var ee=f.value;ee!=null?_n(h,!!f.multiple,ee,!1):G!==!!f.multiple&&(f.defaultValue!=null?_n(h,!!f.multiple,f.defaultValue,!0):_n(h,!!f.multiple,f.multiple?[]:"",!1))}h[Oo]=f}catch(oe){it(t,t.return,oe)}}break;case 6:if(Cn(r,t),Wn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,f=t.memoizedProps;try{h.nodeValue=f}catch(oe){it(t,t.return,oe)}}break;case 3:if(Cn(r,t),Wn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Lr(r.containerInfo)}catch(oe){it(t,t.return,oe)}break;case 4:Cn(r,t),Wn(t);break;case 13:Cn(r,t),Wn(t),h=t.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(Lc=Ke())),u&4&&am(t);break;case 22:if(W=o!==null&&o.memoizedState!==null,t.mode&1?(bt=(j=bt)||W,Cn(r,t),bt=j):Cn(r,t),Wn(t),u&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!W&&(t.mode&1)!==0)for(ie=t,W=t.child;W!==null;){for(K=ie=W;ie!==null;){switch(G=ie,ee=G.child,G.tag){case 0:case 11:case 14:case 15:Wo(4,G,G.return);break;case 1:Ds(G,G.return);var se=G.stateNode;if(typeof se.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(oe){it(u,o,oe)}}break;case 5:Ds(G,G.return);break;case 22:if(G.memoizedState!==null){hm(K);continue}}ee!==null?(ee.return=G,ie=ee):hm(K)}W=W.sibling}e:for(W=null,K=t;;){if(K.tag===5){if(W===null){W=K;try{h=K.stateNode,j?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(T=K.stateNode,k=K.memoizedProps.style,y=k!=null&&k.hasOwnProperty("display")?k.display:null,T.style.display=Cr("display",y))}catch(oe){it(t,t.return,oe)}}}else if(K.tag===6){if(W===null)try{K.stateNode.nodeValue=j?"":K.memoizedProps}catch(oe){it(t,t.return,oe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===t)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===t)break e;for(;K.sibling===null;){if(K.return===null||K.return===t)break e;W===K&&(W=null),K=K.return}W===K&&(W=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Cn(r,t),Wn(t),u&4&&am(t);break;case 21:break;default:Cn(r,t),Wn(t)}}function Wn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(im(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(di(h,""),u.flags&=-33);var f=sm(t);Vc(t,f,h);break;case 3:case 4:var y=u.stateNode.containerInfo,T=sm(t);Nc(t,T,y);break;default:throw Error(n(161))}}catch(k){it(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function x_(t,r,o){ie=t,um(t)}function um(t,r,o){for(var u=(t.mode&1)!==0;ie!==null;){var h=ie,f=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Tl;if(!y){var T=h.alternate,k=T!==null&&T.memoizedState!==null||bt;T=Tl;var j=bt;if(Tl=y,(bt=k)&&!j)for(ie=h;ie!==null;)y=ie,k=y.child,y.tag===22&&y.memoizedState!==null?dm(h):k!==null?(k.return=y,ie=k):dm(h);for(;f!==null;)ie=f,um(f),f=f.sibling;ie=h,Tl=T,bt=j}cm(t)}else(h.subtreeFlags&8772)!==0&&f!==null?(f.return=h,ie=f):cm(t)}}function cm(t){for(;ie!==null;){var r=ie;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:bt||Sl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!bt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:In(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&hf(r,f,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}hf(r,y,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var j=r.alternate;if(j!==null){var W=j.memoizedState;if(W!==null){var K=W.dehydrated;K!==null&&Lr(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bt||r.flags&512&&xc(r)}catch(G){it(r,r.return,G)}}if(r===t){ie=null;break}if(o=r.sibling,o!==null){o.return=r.return,ie=o;break}ie=r.return}}function hm(t){for(;ie!==null;){var r=ie;if(r===t){ie=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ie=o;break}ie=r.return}}function dm(t){for(;ie!==null;){var r=ie;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Sl(4,r)}catch(k){it(r,o,k)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(k){it(r,h,k)}}var f=r.return;try{xc(r)}catch(k){it(r,f,k)}break;case 5:var y=r.return;try{xc(r)}catch(k){it(r,y,k)}}}catch(k){it(r,r.return,k)}if(r===t){ie=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ie=T;break}ie=r.return}}var N_=Math.ceil,Il=Se.ReactCurrentDispatcher,Dc=Se.ReactCurrentOwner,mn=Se.ReactCurrentBatchConfig,De=0,Tt=null,dt=null,Rt=0,an=0,Ms=Fr(0),yt=0,Ko=null,Di=0,Al=0,Mc=0,Qo=null,Kt=null,Lc=0,Ls=1/0,yr=null,Cl=!1,Oc=null,Gr=null,kl=!1,Wr=null,Rl=0,Yo=0,bc=null,Pl=-1,xl=0;function $t(){return(De&6)!==0?Ke():Pl!==-1?Pl:Pl=Ke()}function Kr(t){return(t.mode&1)===0?1:(De&2)!==0&&Rt!==0?Rt&-Rt:m_.transition!==null?(xl===0&&(xl=yo()),xl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:cs(t.type)),t)}function kn(t,r,o,u){if(50<Yo)throw Yo=0,bc=null,Error(n(185));Ei(t,o,u),((De&2)===0||t!==Tt)&&(t===Tt&&((De&2)===0&&(Al|=o),yt===4&&Qr(t,Rt)),Qt(t,u),o===1&&De===0&&(r.mode&1)===0&&(Ls=Ke()+500,il&&zr()))}function Qt(t,r){var o=t.callbackNode;wi(t,r);var u=ir(t,t===Tt?Rt:0);if(u===0)o!==null&&rs(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&rs(o),r===1)t.tag===0?f_(mm.bind(null,t)):Jd(mm.bind(null,t)),u_(function(){(De&6)===0&&zr()}),o=null;else{switch(Mn(u)){case 1:o=is;break;case 4:o=mo;break;case 16:o=gi;break;case 536870912:o=ss;break;default:o=gi}o=Tm(o,fm.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function fm(t,r){if(Pl=-1,xl=0,(De&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Os()&&t.callbackNode!==o)return null;var u=ir(t,t===Tt?Rt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Nl(t,u);else{r=u;var h=De;De|=2;var f=gm();(Tt!==t||Rt!==r)&&(yr=null,Ls=Ke()+500,Li(t,r));do try{M_();break}catch(T){pm(t,T)}while(!0);tc(),Il.current=f,De=h,dt!==null?r=0:(Tt=null,Rt=0,r=yt)}if(r!==0){if(r===2&&(h=go(t),h!==0&&(u=h,r=jc(t,h))),r===1)throw o=Ko,Li(t,0),Qr(t,u),Qt(t,Ke()),o;if(r===6)Qr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!V_(h)&&(r=Nl(t,u),r===2&&(f=go(t),f!==0&&(u=f,r=jc(t,f))),r===1))throw o=Ko,Li(t,0),Qr(t,u),Qt(t,Ke()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Oi(t,Kt,yr);break;case 3:if(Qr(t,u),(u&130023424)===u&&(r=Lc+500-Ke(),10<r)){if(ir(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){$t(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=qu(Oi.bind(null,t,Kt,yr),r);break}Oi(t,Kt,yr);break;case 4:if(Qr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Zt(u);f=1<<y,y=r[y],y>h&&(h=y),u&=~f}if(u=h,u=Ke()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*N_(u/1960))-u,10<u){t.timeoutHandle=qu(Oi.bind(null,t,Kt,yr),u);break}Oi(t,Kt,yr);break;case 5:Oi(t,Kt,yr);break;default:throw Error(n(329))}}}return Qt(t,Ke()),t.callbackNode===o?fm.bind(null,t):null}function jc(t,r){var o=Qo;return t.current.memoizedState.isDehydrated&&(Li(t,r).flags|=256),t=Nl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&Uc(r)),t}function Uc(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function V_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qr(t,r){for(r&=~Mc,r&=~Al,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Zt(r),u=1<<o;t[o]=-1,r&=~u}}function mm(t){if((De&6)!==0)throw Error(n(327));Os();var r=ir(t,0);if((r&1)===0)return Qt(t,Ke()),null;var o=Nl(t,r);if(t.tag!==0&&o===2){var u=go(t);u!==0&&(r=u,o=jc(t,u))}if(o===1)throw o=Ko,Li(t,0),Qr(t,r),Qt(t,Ke()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Oi(t,Kt,yr),Qt(t,Ke()),null}function Fc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Ls=Ke()+500,il&&zr())}}function Mi(t){Wr!==null&&Wr.tag===0&&(De&6)===0&&Os();var r=De;De|=1;var o=mn.transition,u=Pe;try{if(mn.transition=null,Pe=1,t)return t()}finally{Pe=u,mn.transition=o,De=r,(De&6)===0&&zr()}}function Bc(){an=Ms.current,Ye(Ms)}function Li(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,l_(o)),dt!==null)for(o=dt.return;o!==null;){var u=o;switch(Yu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&nl();break;case 3:Ns(),Ye(Ht),Ye(Mt),uc();break;case 5:ac(u);break;case 4:Ns();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:nc(u.type._context);break;case 22:case 23:Bc()}o=o.return}if(Tt=t,dt=t=Yr(t.current,null),Rt=an=r,yt=0,Ko=null,Mc=Al=Di=0,Kt=Qo=null,xi!==null){for(r=0;r<xi.length;r++)if(o=xi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,f=o.pending;if(f!==null){var y=f.next;f.next=h,u.next=y}o.pending=u}xi=null}return t}function pm(t,r){do{var o=dt;try{if(tc(),ml.current=_l,pl){for(var u=et.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}pl=!1}if(Vi=0,Et=gt=et=null,zo=!1,$o=0,Dc.current=null,o===null||o.return===null){yt=1,Ko=r,dt=null;break}e:{var f=t,y=o.return,T=o,k=r;if(r=Rt,T.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var j=k,W=T,K=W.tag;if((W.mode&1)===0&&(K===0||K===11||K===15)){var G=W.alternate;G?(W.updateQueue=G.updateQueue,W.memoizedState=G.memoizedState,W.lanes=G.lanes):(W.updateQueue=null,W.memoizedState=null)}var ee=Ff(y);if(ee!==null){ee.flags&=-257,Bf(ee,y,T,f,r),ee.mode&1&&Uf(f,j,r),r=ee,k=j;var se=r.updateQueue;if(se===null){var oe=new Set;oe.add(k),r.updateQueue=oe}else se.add(k);break e}else{if((r&1)===0){Uf(f,j,r),zc();break e}k=Error(n(426))}}else if(Je&&T.mode&1){var at=Ff(y);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Bf(at,y,T,f,r),Zu(Vs(k,T));break e}}f=k=Vs(k,T),yt!==4&&(yt=2),Qo===null?Qo=[f]:Qo.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var L=bf(f,k,r);cf(f,L);break e;case 1:T=k;var x=f.type,b=f.stateNode;if((f.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gr===null||!Gr.has(b)))){f.flags|=65536,r&=-r,f.lanes|=r;var X=jf(f,T,r);cf(f,X);break e}}f=f.return}while(f!==null)}_m(o)}catch(ae){r=ae,dt===o&&o!==null&&(dt=o=o.return);continue}break}while(!0)}function gm(){var t=Il.current;return Il.current=_l,t===null?_l:t}function zc(){(yt===0||yt===3||yt===2)&&(yt=4),Tt===null||(Di&268435455)===0&&(Al&268435455)===0||Qr(Tt,Rt)}function Nl(t,r){var o=De;De|=2;var u=gm();(Tt!==t||Rt!==r)&&(yr=null,Li(t,r));do try{D_();break}catch(h){pm(t,h)}while(!0);if(tc(),De=o,Il.current=u,dt!==null)throw Error(n(261));return Tt=null,Rt=0,yt}function D_(){for(;dt!==null;)ym(dt)}function M_(){for(;dt!==null&&!pi();)ym(dt)}function ym(t){var r=Em(t.alternate,t,an);t.memoizedProps=t.pendingProps,r===null?_m(t):dt=r,Dc.current=null}function _m(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=C_(o,r,an),o!==null){dt=o;return}}else{if(o=k_(o,r),o!==null){o.flags&=32767,dt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,dt=null;return}}if(r=r.sibling,r!==null){dt=r;return}dt=r=t}while(r!==null);yt===0&&(yt=5)}function Oi(t,r,o){var u=Pe,h=mn.transition;try{mn.transition=null,Pe=1,L_(t,r,o,u)}finally{mn.transition=h,Pe=u}return null}function L_(t,r,o,u){do Os();while(Wr!==null);if((De&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(Ru(t,f),t===Tt&&(dt=Tt=null,Rt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||kl||(kl=!0,Tm(gi,function(){return Os(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=mn.transition,mn.transition=null;var y=Pe;Pe=1;var T=De;De|=4,Dc.current=null,P_(t,o),lm(o,t),t_(zu),ar=!!Bu,zu=Bu=null,t.current=o,x_(o),rr(),De=T,Pe=y,mn.transition=f}else t.current=o;if(kl&&(kl=!1,Wr=t,Rl=h),f=t.pendingLanes,f===0&&(Gr=null),ja(o.stateNode),Qt(t,Ke()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(Cl)throw Cl=!1,t=Oc,Oc=null,t;return(Rl&1)!==0&&t.tag!==0&&Os(),f=t.pendingLanes,(f&1)!==0?t===bc?Yo++:(Yo=0,bc=t):Yo=0,zr(),null}function Os(){if(Wr!==null){var t=Mn(Rl),r=mn.transition,o=Pe;try{if(mn.transition=null,Pe=16>t?16:t,Wr===null)var u=!1;else{if(t=Wr,Wr=null,Rl=0,(De&6)!==0)throw Error(n(331));var h=De;for(De|=4,ie=t.current;ie!==null;){var f=ie,y=f.child;if((ie.flags&16)!==0){var T=f.deletions;if(T!==null){for(var k=0;k<T.length;k++){var j=T[k];for(ie=j;ie!==null;){var W=ie;switch(W.tag){case 0:case 11:case 15:Wo(8,W,f)}var K=W.child;if(K!==null)K.return=W,ie=K;else for(;ie!==null;){W=ie;var G=W.sibling,ee=W.return;if(rm(W),W===j){ie=null;break}if(G!==null){G.return=ee,ie=G;break}ie=ee}}}var se=f.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var at=oe.sibling;oe.sibling=null,oe=at}while(oe!==null)}}ie=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,ie=y;else e:for(;ie!==null;){if(f=ie,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Wo(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,ie=L;break e}ie=f.return}}var x=t.current;for(ie=x;ie!==null;){y=ie;var b=y.child;if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,ie=b;else e:for(y=x;ie!==null;){if(T=ie,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Sl(9,T)}}catch(ae){it(T,T.return,ae)}if(T===y){ie=null;break e}var X=T.sibling;if(X!==null){X.return=T.return,ie=X;break e}ie=T.return}}if(De=h,zr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(yi,t)}catch{}u=!0}return u}finally{Pe=o,mn.transition=r}}return!1}function vm(t,r,o){r=Vs(o,r),r=bf(t,r,1),t=qr(t,r,1),r=$t(),t!==null&&(Ei(t,1,r),Qt(t,r))}function it(t,r,o){if(t.tag===3)vm(t,t,o);else for(;r!==null;){if(r.tag===3){vm(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gr===null||!Gr.has(u))){t=Vs(o,t),t=jf(r,t,1),r=qr(r,t,1),t=$t(),r!==null&&(Ei(r,1,t),Qt(r,t));break}}r=r.return}}function O_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&o,Tt===t&&(Rt&o)===o&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>Ke()-Lc?Li(t,0):Mc|=o),Qt(t,r)}function wm(t,r){r===0&&((t.mode&1)===0?r=1:(r=Vr,Vr<<=1,(Vr&130023424)===0&&(Vr=4194304)));var o=$t();t=mr(t,r),t!==null&&(Ei(t,r,o),Qt(t,o))}function b_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),wm(t,o)}function j_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),wm(t,o)}var Em;Em=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Wt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Wt=!1,A_(t,r,o);Wt=(t.flags&131072)!==0}else Wt=!1,Je&&(r.flags&1048576)!==0&&Zd(r,ol,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;El(t,r),t=r.pendingProps;var h=Is(r,Mt.current);xs(r,o),h=dc(null,r,u,t,h,o);var f=fc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Gt(u)?(f=!0,rl(r)):f=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,sc(r),h.updater=vl,r.stateNode=h,h._reactInternals=r,vc(r,u,t,o),r=Sc(null,r,u,!0,f,o)):(r.tag=0,Je&&f&&Qu(r),zt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(El(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=F_(u),t=In(u,t),h){case 0:r=Tc(null,r,u,t,o);break e;case 1:r=Wf(null,r,u,t,o);break e;case 11:r=zf(null,r,u,t,o);break e;case 14:r=$f(null,r,u,In(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:In(u,h),Tc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:In(u,h),Wf(t,r,u,h,o);case 3:e:{if(Kf(r),t===null)throw Error(n(387));u=r.pendingProps,f=r.memoizedState,h=f.element,uf(t,r),dl(r,u,null,o);var y=r.memoizedState;if(u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){h=Vs(Error(n(423)),r),r=Qf(t,r,u,o,h);break e}else if(u!==h){h=Vs(Error(n(424)),r),r=Qf(t,r,u,o,h);break e}else for(on=Ur(r.stateNode.containerInfo.firstChild),sn=r,Je=!0,Sn=null,o=af(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ks(),u===h){r=gr(t,r,o);break e}zt(t,r,u,o)}r=r.child}return r;case 5:return df(r),t===null&&Ju(r),u=r.type,h=r.pendingProps,f=t!==null?t.memoizedProps:null,y=h.children,$u(u,h)?y=null:f!==null&&$u(u,f)&&(r.flags|=32),Gf(t,r),zt(t,r,y,o),r.child;case 6:return t===null&&Ju(r),null;case 13:return Yf(t,r,o);case 4:return oc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Rs(r,null,u,o):zt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:In(u,h),zf(t,r,u,h,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,f=r.memoizedProps,y=h.value,qe(ul,u._currentValue),u._currentValue=y,f!==null)if(Tn(f.value,y)){if(f.children===h.children&&!Ht.current){r=gr(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var T=f.dependencies;if(T!==null){y=f.child;for(var k=T.firstContext;k!==null;){if(k.context===u){if(f.tag===1){k=pr(-1,o&-o),k.tag=2;var j=f.updateQueue;if(j!==null){j=j.shared;var W=j.pending;W===null?k.next=k:(k.next=W.next,W.next=k),j.pending=k}}f.lanes|=o,k=f.alternate,k!==null&&(k.lanes|=o),rc(f.return,o,r),T.lanes|=o;break}k=k.next}}else if(f.tag===10)y=f.type===r.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(n(341));y.lanes|=o,T=y.alternate,T!==null&&(T.lanes|=o),rc(y,o,r),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===r){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}zt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,xs(r,o),h=dn(h),u=u(h),r.flags|=1,zt(t,r,u,o),r.child;case 14:return u=r.type,h=In(u,r.pendingProps),h=In(u.type,h),$f(t,r,u,h,o);case 15:return qf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:In(u,h),El(t,r),r.tag=1,Gt(u)?(t=!0,rl(r)):t=!1,xs(r,o),Lf(r,u,h),vc(r,u,h,o),Sc(null,r,u,!0,t,o);case 19:return Jf(t,r,o);case 22:return Hf(t,r,o)}throw Error(n(156,r.tag))};function Tm(t,r){return fo(t,r)}function U_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new U_(t,r,o,u)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F_(t){if(typeof t=="function")return $c(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===wt)return 14}return 2}function Yr(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Vl(t,r,o,u,h,f){var y=2;if(u=t,typeof t=="function")$c(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case R:return bi(o.children,h,f,r);case S:y=8,h|=8;break;case C:return t=pn(12,o,r,h|2),t.elementType=C,t.lanes=f,t;case A:return t=pn(13,o,r,h),t.elementType=A,t.lanes=f,t;case $e:return t=pn(19,o,r,h),t.elementType=$e,t.lanes=f,t;case Xe:return Dl(o,h,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:y=10;break e;case P:y=9;break e;case M:y=11;break e;case wt:y=14;break e;case Vt:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=f,r}function bi(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function Dl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=Xe,t.lanes=o,t.stateNode={isHidden:!1},t}function qc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Hc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function B_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Gc(t,r,o,u,h,f,y,T,k){return t=new B_(t,r,o,T,k),r===1?(r=1,f===!0&&(r|=8)):r=0,f=pn(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},sc(f),t}function z_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Sm(t){if(!t)return Br;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Gt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Gt(o))return Yd(t,o,r)}return r}function Im(t,r,o,u,h,f,y,T,k){return t=Gc(o,u,!0,t,h,f,y,T,k),t.context=Sm(null),o=t.current,u=$t(),h=Kr(o),f=pr(u,h),f.callback=r??null,qr(o,f,h),t.current.lanes=h,Ei(t,h,u),Qt(t,u),t}function Ml(t,r,o,u){var h=r.current,f=$t(),y=Kr(h);return o=Sm(o),r.context===null?r.context=o:r.pendingContext=o,r=pr(f,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=qr(h,r,y),t!==null&&(kn(t,h,y,f),hl(t,h,y)),y}function Ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Am(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Wc(t,r){Am(t,r),(t=t.alternate)&&Am(t,r)}function $_(){return null}var Cm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}Ol.prototype.render=Kc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ml(t,r,null,null)},Ol.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Mi(function(){Ml(null,t,null,null)}),r[cr]=null}};function Ol(t){this._internalRoot=t}Ol.prototype.unstable_scheduleHydration=function(t){if(t){var r=To();t={blockedOn:null,target:t,priority:r};for(var o=0;o<en.length&&r!==0&&r<en[o].priority;o++);en.splice(o,0,t),o===0&&ls(t)}};function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function km(){}function q_(t,r,o,u,h){if(h){if(typeof u=="function"){var f=u;u=function(){var j=Ll(y);f.call(j)}}var y=Im(r,u,t,0,null,!1,!1,"",km);return t._reactRootContainer=y,t[cr]=y.current,Mo(t.nodeType===8?t.parentNode:t),Mi(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var j=Ll(k);T.call(j)}}var k=Gc(t,0,!1,null,null,!1,!1,"",km);return t._reactRootContainer=k,t[cr]=k.current,Mo(t.nodeType===8?t.parentNode:t),Mi(function(){Ml(r,k,o,u)}),k}function jl(t,r,o,u,h){var f=o._reactRootContainer;if(f){var y=f;if(typeof h=="function"){var T=h;h=function(){var k=Ll(y);T.call(k)}}Ml(r,y,t,h)}else y=q_(o,r,t,h,u);return Ll(y)}wo=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Oe(r.pendingLanes);o!==0&&(vo(r,o|1),Qt(r,Ke()),(De&6)===0&&(Ls=Ke()+500,zr()))}break;case 13:Mi(function(){var u=mr(t,1);if(u!==null){var h=$t();kn(u,t,1,h)}}),Wc(t,1)}},os=function(t){if(t.tag===13){var r=mr(t,134217728);if(r!==null){var o=$t();kn(r,t,134217728,o)}Wc(t,134217728)}},Eo=function(t){if(t.tag===13){var r=Kr(t),o=mr(t,r);if(o!==null){var u=$t();kn(o,t,r,u)}Wc(t,r)}},To=function(){return Pe},So=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},er=function(t,r,o){switch(r){case"input":if(hi(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=tl(u);if(!h)throw Error(n(90));ro(u),hi(u,h)}}}break;case"textarea":Ca(t,o);break;case"select":r=o.value,r!=null&&_n(t,!!o.multiple,r,!1)}},Pa=Fc,xa=Mi;var H_={usingClientEntryPoint:!1,Events:[bo,Ts,tl,Rr,Pr,Fc]},Xo={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G_={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ba(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||$_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{yi=Ul.inject(G_),Jt=Ul}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(r))throw Error(n(200));return z_(t,r,null,o)},Yt.createRoot=function(t,r){if(!Qc(t))throw Error(n(299));var o=!1,u="",h=Cm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Gc(t,1,!1,null,null,o,!1,u,h),t[cr]=r.current,Mo(t.nodeType===8?t.parentNode:t),new Kc(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ba(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return Mi(t)},Yt.hydrate=function(t,r,o){if(!bl(r))throw Error(n(200));return jl(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!Qc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,f="",y=Cm;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=Im(r,null,t,1,o??null,h,!1,f,y),t[cr]=r.current,Mo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Ol(r)},Yt.render=function(t,r,o){if(!bl(r))throw Error(n(200));return jl(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!bl(t))throw Error(n(40));return t._reactRootContainer?(Mi(function(){jl(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Yt.unstable_batchedUpdates=Fc,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!bl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return jl(t,r,o,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Lm;function tv(){if(Lm)return Jc.exports;Lm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jc.exports=ev(),Jc.exports}var Om;function nv(){if(Om)return Fl;Om=1;var i=tv();return Fl.createRoot=i.createRoot,Fl.hydrateRoot=i.hydrateRoot,Fl}var rv=nv();const iv=tg(rv);function bm(i){const e=[...i];for(let n=e.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[e[n],e[s]]=[e[s],e[n]]}return e}function jm(i,e){const n=i.filter(a=>!e.has(a.id));if(n.length===0)return null;const s=Math.floor(Math.random()*n.length);return n[s]}function sv(i,e){const n=i.filter(a=>!e.has(a.id));if(n.length<2){const a=bm(i);return[a[0],a[1]]}const s=bm(n);return[s[0],s[1]]}const ng={phase:"start",currentMeme:null,comparisonMeme:null,currentStreak:0,highScore:0,usedMemeIds:new Set,lastGuessCorrect:null};function ov(i,e){switch(e.type){case"START_GAME":return{...i,phase:"playing",currentMeme:e.payload.currentMeme,comparisonMeme:e.payload.comparisonMeme,currentStreak:0,usedMemeIds:new Set([e.payload.currentMeme.id,e.payload.comparisonMeme.id]),lastGuessCorrect:null};case"GUESS":return{...i,phase:"revealing"};case"REVEAL_RESULT":return{...i,lastGuessCorrect:e.payload.isCorrect,currentStreak:e.payload.isCorrect?i.currentStreak+1:i.currentStreak};case"NEXT_ROUND":return{...i,phase:"playing",currentMeme:i.comparisonMeme,comparisonMeme:e.payload.newMeme,usedMemeIds:new Set([...i.usedMemeIds,e.payload.newMeme.id]),lastGuessCorrect:null};case"GAME_OVER":return{...i,phase:"gameover"};case"RESET":return{...ng,highScore:i.highScore};default:return i}}function av(i,e){const[n,s]=Le.useReducer(ov,{...ng,highScore:e}),a=Le.useMemo(()=>({...n,highScore:Math.max(n.highScore,e)}),[n,e]),c=Le.useCallback(()=>{const I=sv(i,new Set);I&&s({type:"START_GAME",payload:{currentMeme:I[0],comparisonMeme:I[1]}})},[i]),d=Le.useCallback(I=>{if(!n.currentMeme||!n.comparisonMeme)return;s({type:"GUESS",payload:{guess:I}});const V=n.currentMeme.views,F=n.comparisonMeme.views;let Q;I==="higher"?Q=F>=V:Q=F<=V,setTimeout(()=>{s({type:"REVEAL_RESULT",payload:{isCorrect:Q}}),setTimeout(()=>{if(Q){let Y=n.usedMemeIds;Y.size>=i.length-1&&(Y=new Set([n.comparisonMeme.id]));const q=jm(i,new Set([...Y,n.comparisonMeme.id]));if(q)s({type:"NEXT_ROUND",payload:{newMeme:q}});else{const fe=jm(i,new Set([n.comparisonMeme.id]));fe&&s({type:"NEXT_ROUND",payload:{newMeme:fe}})}}else s({type:"GAME_OVER"})},1500)},500)},[n.currentMeme,n.comparisonMeme,n.usedMemeIds,i]),g=Le.useCallback(()=>d("higher"),[d]),_=Le.useCallback(()=>d("lower"),[d]),v=Le.useCallback(()=>{s({type:"RESET"})},[]),E=Le.useCallback(()=>{v(),setTimeout(c,50)},[v,c]);return{state:a,startGame:c,guessHigher:g,guessLower:_,resetGame:v,playAgain:E}}const th="meme-higher-lower-highscore";function lv(){const[i,e]=Le.useState(()=>{if(typeof window>"u")return 0;try{const a=localStorage.getItem(th);return a?parseInt(a,10):0}catch{return 0}});Le.useEffect(()=>{try{localStorage.setItem(th,i.toString())}catch{}},[i]);const n=Le.useCallback(a=>a>i?(e(a),!0):!1,[i]),s=Le.useCallback(()=>{e(0);try{localStorage.removeItem(th)}catch{}},[]);return{highScore:i,updateHighScore:n,resetHighScore:s}}const uv=()=>{};var Um={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},cv=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],g=i[n++],_=((a&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},ig={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,g=d?i[a+1]:0,_=a+2<i.length,v=_?i[a+2]:0,E=c>>2,I=(c&3)<<4|g>>4;let V=(g&15)<<2|v>>6,F=v&63;_||(F=64,d||(V=64)),s.push(n[E],n[I],n[V],n[F])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):cv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],g=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const I=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||g==null||v==null||I==null)throw new hv;const V=c<<2|g>>4;if(s.push(V),v!==64){const F=g<<4&240|v>>2;if(s.push(F),I!==64){const Q=v<<6&192|I;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class hv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dv=function(i){const e=rg(i);return ig.encodeByteArray(e,!0)},Jl=function(i){return dv(i).replace(/\./g,"")},fv=function(i){try{return ig.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=()=>mv().__FIREBASE_DEFAULTS__,gv=()=>{if(typeof process>"u"||typeof Um>"u")return;const i=Um.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fv(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return uv()||pv()||gv()||yv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_v=i=>{var e,n;return(n=(e=Dh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},vv=i=>{const e=_v(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},sg=()=>{var i;return(i=Dh())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ev(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Jl(JSON.stringify(n)),Jl(JSON.stringify(d)),""].join(".")}const ia={};function Sv(){const i={prod:[],emulator:[]};for(const e of Object.keys(ia))ia[e]?i.emulator.push(e):i.prod.push(e);return i}function Iv(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Fm=!1;function Av(i,e){if(typeof window>"u"||typeof document>"u"||!Mh(window.location.host)||ia[i]===e||ia[i]||Fm)return;ia[i]=e;function n(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=Sv().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Fm=!0,d()},V}function E(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function I(){const V=Iv(s),F=n("text"),Q=document.getElementById(F)||document.createElement("span"),Y=n("learnmore"),q=document.getElementById(Y)||document.createElement("a"),fe=n("preprendIcon"),pe=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ve=V.element;g(ve),E(q,Y);const Se=v();_(pe,fe),ve.append(pe,Q,q,Se),document.body.appendChild(ve)}c?(Q.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kv(){var e;const i=(e=Dh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rv(){return!kv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pv(){try{return typeof indexedDB=="object"}catch{return!1}}function xv(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="FirebaseError";class Xs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Nv,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,og.prototype.create)}}class og{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?Vv(c,s):"Error",g=`${this.serviceName}: ${d} (${a}).`;return new Xs(a,g,s)}}function Vv(i,e){return i.replace(Dv,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Dv=/\{\$([^}]+)}/g;function Zl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(Bm(c)&&Bm(d)){if(!Zl(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Bm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i){return i&&i._delegate?i._delegate:i}class ca{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ov(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Lv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lv(i){return i===ji?void 0:i}function Ov(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const jv={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Uv=Ne.INFO,Fv={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Bv=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Fv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=Uv,this._logHandler=Bv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const zv=(i,e)=>e.some(n=>i instanceof n);let zm,$m;function $v(){return zm||(zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qv(){return $m||($m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lg=new WeakMap,hh=new WeakMap,ug=new WeakMap,nh=new WeakMap,Lh=new WeakMap;function Hv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(ei(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&lg.set(n,i)}).catch(()=>{}),Lh.set(e,i),e}function Gv(i){if(hh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});hh.set(i,e)}let dh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ug.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Wv(i){dh=i(dh)}function Kv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(rh(this),e,...n);return ug.set(s,e.sort?e.sort():[e]),ei(s)}:qv().includes(i)?function(...e){return i.apply(rh(this),e),ei(lg.get(this))}:function(...e){return ei(i.apply(rh(this),e))}}function Qv(i){return typeof i=="function"?Kv(i):(i instanceof IDBTransaction&&Gv(i),zv(i,$v())?new Proxy(i,dh):i)}function ei(i){if(i instanceof IDBRequest)return Hv(i);if(nh.has(i))return nh.get(i);const e=Qv(i);return e!==i&&(nh.set(i,e),Lh.set(e,i)),e}const rh=i=>Lh.get(i);function Yv(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),g=ei(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ei(d.result),_.oldVersion,_.newVersion,ei(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Xv=["get","getKey","getAll","getAllKeys","count"],Jv=["put","add","delete","clear"],ih=new Map;function qm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ih.get(e))return ih.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Jv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Xv.includes(n)))return;const c=async function(d,...g){const _=this.transaction(d,a?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),a&&_.done]))[0]};return ih.set(e,c),c}Wv(i=>({...i,get:(e,n,s)=>qm(e,n)||i.get(e,n,s),has:(e,n)=>!!qm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ew(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ew(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",Hm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new ag("@firebase/app"),tw="@firebase/app-compat",nw="@firebase/analytics-compat",rw="@firebase/analytics",iw="@firebase/app-check-compat",sw="@firebase/app-check",ow="@firebase/auth",aw="@firebase/auth-compat",lw="@firebase/database",uw="@firebase/data-connect",cw="@firebase/database-compat",hw="@firebase/functions",dw="@firebase/functions-compat",fw="@firebase/installations",mw="@firebase/installations-compat",pw="@firebase/messaging",gw="@firebase/messaging-compat",yw="@firebase/performance",_w="@firebase/performance-compat",vw="@firebase/remote-config",ww="@firebase/remote-config-compat",Ew="@firebase/storage",Tw="@firebase/storage-compat",Sw="@firebase/firestore",Iw="@firebase/ai",Aw="@firebase/firestore-compat",Cw="firebase",kw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",Rw={[fh]:"fire-core",[tw]:"fire-core-compat",[rw]:"fire-analytics",[nw]:"fire-analytics-compat",[sw]:"fire-app-check",[iw]:"fire-app-check-compat",[ow]:"fire-auth",[aw]:"fire-auth-compat",[lw]:"fire-rtdb",[uw]:"fire-data-connect",[cw]:"fire-rtdb-compat",[hw]:"fire-fn",[dw]:"fire-fn-compat",[fw]:"fire-iid",[mw]:"fire-iid-compat",[pw]:"fire-fcm",[gw]:"fire-fcm-compat",[yw]:"fire-perf",[_w]:"fire-perf-compat",[vw]:"fire-rc",[ww]:"fire-rc-compat",[Ew]:"fire-gcs",[Tw]:"fire-gcs-compat",[Sw]:"fire-fst",[Aw]:"fire-fst-compat",[Iw]:"fire-vertex","fire-js":"fire-js",[Cw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,Pw=new Map,ph=new Map;function Gm(i,e){try{i.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function tu(i){const e=i.name;if(ph.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;ph.set(e,i);for(const n of eu.values())Gm(n,i);for(const n of Pw.values())Gm(n,i);return!0}function xw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Nw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new og("app","Firebase",Vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=kw;function cg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:mh,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ti.create("bad-app-name",{appName:String(a)});if(n||(n=sg()),!n)throw ti.create("no-options");const c=eu.get(a);if(c){if(Zl(n,c.options)&&Zl(s,c.config))return c;throw ti.create("duplicate-app",{appName:a})}const d=new bv(a);for(const _ of ph.values())d.addComponent(_);const g=new Dw(n,s,d);return eu.set(a,g),g}function Lw(i=mh){const e=eu.get(i);if(!e&&i===mh&&sg())return cg();if(!e)throw ti.create("no-app",{appName:i});return e}function zs(i,e,n){let s=Rw[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(d.join(" "));return}tu(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firebase-heartbeat-database",bw=1,ha="firebase-heartbeat-store";let sh=null;function hg(){return sh||(sh=Yv(Ow,bw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ha)}catch(n){console.warn(n)}}}}).catch(i=>{throw ti.create("idb-open",{originalErrorMessage:i.message})})),sh}async function jw(i){try{const n=(await hg()).transaction(ha),s=await n.objectStore(ha).get(dg(i));return await n.done,s}catch(e){if(e instanceof Xs)vr.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function Wm(i,e){try{const s=(await hg()).transaction(ha,"readwrite");await s.objectStore(ha).put(e,dg(i)),await s.done}catch(n){if(n instanceof Xs)vr.warn(n.message);else{const s=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(s.message)}}}function dg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=1024,Fw=30;class Bw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Km();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>Fw){const d=qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){vr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Km(),{heartbeatsToSend:s,unsentEntries:a}=zw(this._heartbeatsCache.heartbeats),c=Jl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return vr.warn(n),""}}}function Km(){return new Date().toISOString().substring(0,10)}function zw(i,e=Uw){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),Qm(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Qm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pv()?xv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qm(i){return Jl(JSON.stringify({version:2,heartbeats:i})).length}function qw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(i){tu(new ca("platform-logger",e=>new Zv(e),"PRIVATE")),tu(new ca("heartbeat",e=>new Bw(e),"PRIVATE")),zs(fh,Hm,i),zs(fh,Hm,"esm2020"),zs("fire-js","")}Hw("");var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,fg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,P,M){for(var A=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)A[$e-2]=arguments[$e];return S.prototype[P].apply(N,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,C){C||(C=0);const N=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)N[P]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(P=0;P<16;++P)N[P]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],P=R.g[2];let M=R.g[3],A;A=S+(M^C&(P^M))+N[0]+3614090360&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(P^S&(C^P))+N[1]+3905402710&4294967295,M=S+(A<<12&4294967295|A>>>20),A=P+(C^M&(S^C))+N[2]+606105819&4294967295,P=M+(A<<17&4294967295|A>>>15),A=C+(S^P&(M^S))+N[3]+3250441966&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(M^C&(P^M))+N[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(P^S&(C^P))+N[5]+1200080426&4294967295,M=S+(A<<12&4294967295|A>>>20),A=P+(C^M&(S^C))+N[6]+2821735955&4294967295,P=M+(A<<17&4294967295|A>>>15),A=C+(S^P&(M^S))+N[7]+4249261313&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(M^C&(P^M))+N[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(P^S&(C^P))+N[9]+2336552879&4294967295,M=S+(A<<12&4294967295|A>>>20),A=P+(C^M&(S^C))+N[10]+4294925233&4294967295,P=M+(A<<17&4294967295|A>>>15),A=C+(S^P&(M^S))+N[11]+2304563134&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(M^C&(P^M))+N[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=M+(P^S&(C^P))+N[13]+4254626195&4294967295,M=S+(A<<12&4294967295|A>>>20),A=P+(C^M&(S^C))+N[14]+2792965006&4294967295,P=M+(A<<17&4294967295|A>>>15),A=C+(S^P&(M^S))+N[15]+1236535329&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(P^M&(C^P))+N[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^P&(S^C))+N[6]+3225465664&4294967295,M=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(M^S))+N[11]+643717713&4294967295,P=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(P^M))+N[0]+3921069994&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(P^M&(C^P))+N[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^P&(S^C))+N[10]+38016083&4294967295,M=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(M^S))+N[15]+3634488961&4294967295,P=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(P^M))+N[4]+3889429448&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(P^M&(C^P))+N[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^P&(S^C))+N[14]+3275163606&4294967295,M=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(M^S))+N[3]+4107603335&4294967295,P=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(P^M))+N[8]+1163531501&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(P^M&(C^P))+N[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=M+(C^P&(S^C))+N[2]+4243563512&4294967295,M=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(M^S))+N[7]+1735328473&4294967295,P=M+(A<<14&4294967295|A>>>18),A=C+(M^S&(P^M))+N[12]+2368359562&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(C^P^M)+N[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^P)+N[8]+2272392833&4294967295,M=S+(A<<11&4294967295|A>>>21),A=P+(M^S^C)+N[11]+1839030562&4294967295,P=M+(A<<16&4294967295|A>>>16),A=C+(P^M^S)+N[14]+4259657740&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(C^P^M)+N[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^P)+N[4]+1272893353&4294967295,M=S+(A<<11&4294967295|A>>>21),A=P+(M^S^C)+N[7]+4139469664&4294967295,P=M+(A<<16&4294967295|A>>>16),A=C+(P^M^S)+N[10]+3200236656&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(C^P^M)+N[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^P)+N[0]+3936430074&4294967295,M=S+(A<<11&4294967295|A>>>21),A=P+(M^S^C)+N[3]+3572445317&4294967295,P=M+(A<<16&4294967295|A>>>16),A=C+(P^M^S)+N[6]+76029189&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(C^P^M)+N[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=M+(S^C^P)+N[12]+3873151461&4294967295,M=S+(A<<11&4294967295|A>>>21),A=P+(M^S^C)+N[15]+530742520&4294967295,P=M+(A<<16&4294967295|A>>>16),A=C+(P^M^S)+N[2]+3299628645&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(P^(C|~M))+N[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~P))+N[7]+1126891415&4294967295,M=S+(A<<10&4294967295|A>>>22),A=P+(S^(M|~C))+N[14]+2878612391&4294967295,P=M+(A<<15&4294967295|A>>>17),A=C+(M^(P|~S))+N[5]+4237533241&4294967295,C=P+(A<<21&4294967295|A>>>11),A=S+(P^(C|~M))+N[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~P))+N[3]+2399980690&4294967295,M=S+(A<<10&4294967295|A>>>22),A=P+(S^(M|~C))+N[10]+4293915773&4294967295,P=M+(A<<15&4294967295|A>>>17),A=C+(M^(P|~S))+N[1]+2240044497&4294967295,C=P+(A<<21&4294967295|A>>>11),A=S+(P^(C|~M))+N[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~P))+N[15]+4264355552&4294967295,M=S+(A<<10&4294967295|A>>>22),A=P+(S^(M|~C))+N[6]+2734768916&4294967295,P=M+(A<<15&4294967295|A>>>17),A=C+(M^(P|~S))+N[13]+1309151649&4294967295,C=P+(A<<21&4294967295|A>>>11),A=S+(P^(C|~M))+N[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=M+(C^(S|~P))+N[11]+3174756917&4294967295,M=S+(A<<10&4294967295|A>>>22),A=P+(S^(M|~C))+N[2]+718787259&4294967295,P=M+(A<<15&4294967295|A>>>17),A=C+(M^(P|~S))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+M&4294967295}s.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,N=this.C;let P=this.h,M=0;for(;M<S;){if(P==0)for(;M<=C;)a(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<S;)if(N[P++]=R.charCodeAt(M++),P==this.blockSize){a(this,N),P=0;break}}else for(;M<S;)if(N[P++]=R[M++],P==this.blockSize){a(this,N),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[S++]=this.g[C]>>>N&255;return R};function c(R,S){var C=g;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function d(R,S){this.h=S;const C=[];let N=!0;for(let P=R.length-1;P>=0;P--){const M=R[P]|0;N&&M==S||(C[P]=M,N=!1)}this.g=C}var g={};function _(R){return-128<=R&&R<128?c(R,function(S){return new d([S|0],S<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return I;if(R<0)return q(v(-R));const S=[];let C=1;for(let N=0;R>=C;N++)S[N]=R/C|0,C*=4294967296;return new d(S,0)}function E(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return q(E(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(S,8));let N=I;for(let M=0;M<R.length;M+=8){var P=Math.min(8,R.length-M);const A=parseInt(R.substring(M,M+P),S);P<8?(P=v(Math.pow(S,P)),N=N.j(P).add(v(A))):(N=N.j(C),N=N.add(v(A)))}return N}var I=_(0),V=_(1),F=_(16777216);i=d.prototype,i.m=function(){if(Y(this))return-q(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*S,S*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(Y(this))return"-"+q(this).toString(R);const S=v(Math.pow(R,6));var C=this;let N="";for(;;){const P=Se(C,S).g;C=fe(C,P.j(S));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=P,Q(C))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function Y(R){return R.h==-1}i.l=function(R){return R=fe(this,R),Y(R)?-1:Q(R)?0:1};function q(R){const S=R.g.length,C=[];for(let N=0;N<S;N++)C[N]=~R.g[N];return new d(C,~R.h).add(V)}i.abs=function(){return Y(this)?q(this):this},i.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let P=0;P<=S;P++){let M=N+(this.i(P)&65535)+(R.i(P)&65535),A=(M>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);N=A>>>16,M&=65535,A&=65535,C[P]=A<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function fe(R,S){return R.add(q(S))}i.j=function(R){if(Q(this)||Q(R))return I;if(Y(this))return Y(R)?q(this).j(q(R)):q(q(this).j(R));if(Y(R))return q(this.j(q(R)));if(this.l(F)<0&&R.l(F)<0)return v(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var N=0;N<2*S;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<R.g.length;P++){const M=this.i(N)>>>16,A=this.i(N)&65535,$e=R.i(P)>>>16,wt=R.i(P)&65535;C[2*N+2*P]+=A*wt,pe(C,2*N+2*P),C[2*N+2*P+1]+=M*wt,pe(C,2*N+2*P+1),C[2*N+2*P+1]+=A*$e,pe(C,2*N+2*P+1),C[2*N+2*P+2]+=M*$e,pe(C,2*N+2*P+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new d(C,0)};function pe(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function ve(R,S){this.g=R,this.h=S}function Se(R,S){if(Q(S))throw Error("division by zero");if(Q(R))return new ve(I,I);if(Y(R))return S=Se(q(R),S),new ve(q(S.g),q(S.h));if(Y(S))return S=Se(R,q(S)),new ve(q(S.g),S.h);if(R.g.length>30){if(Y(R)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,N=S;N.l(R)<=0;)C=Fe(C),N=Fe(N);var P=Ie(C,1),M=Ie(N,1);for(N=Ie(N,2),C=Ie(C,2);!Q(N);){var A=M.add(N);A.l(R)<=0&&(P=P.add(C),M=A),N=Ie(N,1),C=Ie(C,1)}return S=fe(R,P.j(S)),new ve(P,S)}for(P=I;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=v(C),A=M.j(S);Y(A)||A.l(R)>0;)C-=N,M=v(C),A=M.j(S);Q(M)&&(M=V),P=P.add(M),R=fe(R,A)}return new ve(P,R)}i.B=function(R){return Se(this,R).h},i.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<S;N++)C[N]=this.i(N)&R.i(N);return new d(C,this.h&R.h)},i.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<S;N++)C[N]=this.i(N)|R.i(N);return new d(C,this.h|R.h)},i.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<S;N++)C[N]=this.i(N)^R.i(N);return new d(C,this.h^R.h)};function Fe(R){const S=R.g.length+1,C=[];for(let N=0;N<S;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new d(C,R.h)}function Ie(R,S){const C=S>>5;S%=32;const N=R.g.length-C,P=[];for(let M=0;M<N;M++)P[M]=S>0?R.i(M+C)>>>S|R.i(M+C+1)<<32-S:R.i(M+C);return new d(P,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,fg=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=E,ni=d}).apply(typeof Ym<"u"?Ym:typeof self<"u"?self:typeof window<"u"?window:{});var Bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mg,ea,pg,Gl,gh,gg,yg,_g;(function(){var i,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bl=="object"&&Bl];for(var m=0;m<l.length;++m){var p=l[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=n(this);function a(l,m){if(m)e:{var p=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var O=l[w];if(!(O in p))break e;p=p[O]}l=l[l.length-1],w=p[l],m=m(w),m!=w&&m!=null&&e(p,l,{configurable:!0,writable:!0,value:m})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(m){var p=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&p.push([w,m[w]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function _(l,m,p){return l.call.apply(l.bind,arguments)}function v(l,m,p){return v=_,v.apply(null,arguments)}function E(l,m){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function I(l,m){function p(){}p.prototype=m.prototype,l.Z=m.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(w,O,U){for(var J=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)J[ye-2]=arguments[ye];return m.prototype[O].apply(w,J)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function F(l){const m=l.length;if(m>0){const p=Array(m);for(let w=0;w<m;w++)p[w]=l[w];return p}return[]}function Q(l,m){for(let w=1;w<arguments.length;w++){const O=arguments[w];var p=typeof O;if(p=p!="object"?p:O?Array.isArray(O)?"array":p:"null",p=="array"||p=="object"&&typeof O.length=="number"){p=l.length||0;const U=O.length||0;l.length=p+U;for(let J=0;J<U;J++)l[p+J]=O[J]}else l.push(O)}}class Y{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function q(l){d.setTimeout(()=>{throw l},0)}function fe(){var l=R;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,p){const w=ve.get();w.set(m,p),this.h?this.h.next=w:this.g=w,this.h=w}}var ve=new Y(()=>new Se,l=>l.reset());class Se{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,Ie=!1,R=new pe,S=()=>{const l=Promise.resolve(void 0);Fe=()=>{l.then(C)}};function C(){for(var l;l=fe();){try{l.h.call(l.g)}catch(p){q(p)}var m=ve;m.j(l),m.h<100&&(m.h++,l.next=m.g,m.g=l)}Ie=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return l})();function A(l){return/^[\s\xa0]*$/.test(l)}function $e(l,m){P.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,m)}I($e,P),$e.prototype.init=function(l,m){const p=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget,m||(p=="mouseover"?m=l.fromElement:p=="mouseout"&&(m=l.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),Vt=0;function Xe(l,m,p,w,O){this.listener=l,this.proxy=null,this.src=m,this.type=p,this.capture=!!w,this.ha=O,this.key=++Vt,this.da=this.fa=!1}function Z(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ue(l,m,p){for(const w in l)m.call(p,l[w],w,l)}function re(l,m){for(const p in l)m.call(void 0,l[p],p,l)}function D(l){const m={};for(const p in l)m[p]=l[p];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(l,m){let p,w;for(let O=1;O<arguments.length;O++){w=arguments[O];for(p in w)l[p]=w[p];for(let U=0;U<H.length;U++)p=H[U],Object.prototype.hasOwnProperty.call(w,p)&&(l[p]=w[p])}}function Ee(l){this.src=l,this.g={},this.h=0}Ee.prototype.add=function(l,m,p,w,O){const U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);const J=Ce(l,m,w,O);return J>-1?(m=l[J],p||(m.fa=!1)):(m=new Xe(m,this.src,U,!!w,O),m.fa=p,l.push(m)),m};function Ae(l,m){const p=m.type;if(p in l.g){var w=l.g[p],O=Array.prototype.indexOf.call(w,m,void 0),U;(U=O>=0)&&Array.prototype.splice.call(w,O,1),U&&(Z(m),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ce(l,m,p,w){for(let O=0;O<l.length;++O){const U=l[O];if(!U.da&&U.listener==m&&U.capture==!!p&&U.ha==w)return O}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ve={};function Be(l,m,p,w,O){if(Array.isArray(m)){for(let U=0;U<m.length;U++)Be(l,m[U],p,w,O);return null}return p=io(p),l&&l[wt]?l.J(m,p,g(w)?!!w.capture:!1,O):Bt(l,m,p,!1,w,O)}function Bt(l,m,p,w,O,U){if(!m)throw Error("Invalid event type");const J=g(O)?!!O.capture:!!O;let ye=Xi(l);if(ye||(l[be]=ye=new Ee(l)),p=ye.add(m,p,w,J,U),p.proxy)return p;if(w=Qi(),p.proxy=w,w.src=l,w.listener=p,l.addEventListener)M||(O=J),O===void 0&&(O=!1),l.addEventListener(m.toString(),w,O);else if(l.attachEvent)l.attachEvent(Yi(m.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Qi(){function l(p){return m.call(l.src,l.listener,p)}const m=Aa;return l}function ro(l,m,p,w,O){if(Array.isArray(m))for(var U=0;U<m.length;U++)ro(l,m[U],p,w,O);else w=g(w)?!!w.capture:!!w,p=io(p),l&&l[wt]?(l=l.i,U=String(m).toString(),U in l.g&&(m=l.g[U],p=Ce(m,p,w,O),p>-1&&(Z(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete l.g[U],l.h--)))):l&&(l=Xi(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Ce(m,p,w,O)),(p=l>-1?m[l]:null)&&Tr(p))}function Tr(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[wt])Ae(m.i,l);else{var p=l.type,w=l.proxy;m.removeEventListener?m.removeEventListener(p,w,l.capture):m.detachEvent?m.detachEvent(Yi(p),w):m.addListener&&m.removeListener&&m.removeListener(w),(p=Xi(m))?(Ae(p,l),p.h==0&&(p.src=null,m[be]=null)):Z(l)}}}function Yi(l){return l in Ve?Ve[l]:Ve[l]="on"+l}function Aa(l,m){if(l.da)l=!0;else{m=new $e(m,this);const p=l.listener,w=l.ha||l.src;l.fa&&Tr(l),l=p.call(w,m)}return l}function Xi(l){return l=l[be],l instanceof Ee?l:null}var hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function io(l){return typeof l=="function"?l:(l[hi]||(l[hi]=function(m){return l.handleEvent(m)}),l[hi])}function ct(){N.call(this),this.i=new Ee(this),this.M=this,this.G=null}I(ct,N),ct.prototype[wt]=!0,ct.prototype.removeEventListener=function(l,m,p,w){ro(this,l,m,p,w)};function st(l,m){var p,w=l.G;if(w)for(p=[];w;w=w.G)p.push(w);if(l=l.M,w=m.type||m,typeof m=="string")m=new P(m,l);else if(m instanceof P)m.target=m.target||l;else{var O=m;m=new P(w,l),we(m,O)}O=!0;let U,J;if(p)for(J=p.length-1;J>=0;J--)U=m.g=p[J],O=_n(U,w,!0,m)&&O;if(U=m.g=l,O=_n(U,w,!0,m)&&O,O=_n(U,w,!1,m)&&O,p)for(J=0;J<p.length;J++)U=m.g=p[J],O=_n(U,w,!1,m)&&O}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var l=this.i;for(const m in l.g){const p=l.g[m];for(let w=0;w<p.length;w++)Z(p[w]);delete l.g[m],l.h--}}this.G=null},ct.prototype.J=function(l,m,p,w){return this.i.add(String(l),m,!1,p,w)},ct.prototype.K=function(l,m,p,w){return this.i.add(String(l),m,!0,p,w)};function _n(l,m,p,w){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();let O=!0;for(let U=0;U<m.length;++U){const J=m[U];if(J&&!J.da&&J.capture==p){const ye=J.listener,ot=J.ha||J.src;J.fa&&Ae(l.i,J),O=ye.call(ot,w)!==!1&&O}}return O&&!w.defaultPrevented}function so(l,m){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(l,m||0)}function oo(l){l.g=so(()=>{l.g=null,l.i&&(l.i=!1,oo(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class Ca extends N{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(l){N.call(this),this.h=l,this.g={}}I(Sr,N);var ao=[];function Ji(l){ue(l.g,function(m,p){this.g.hasOwnProperty(p)&&Tr(m)},l),l.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Ji(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=d.JSON.stringify,ka=d.JSON.parse,di=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Ar(){}function Ra(){}var Cr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zi(){P.call(this,"d")}I(Zi,P);function lo(){P.call(this,"c")}I(lo,P);var vn={},es=null;function kr(){return es=es||new ct}vn.Ia="serverreachability";function ts(l){P.call(this,vn.Ia,l)}I(ts,P);function er(l){const m=kr();st(m,new ts(m))}vn.STAT_EVENT="statevent";function tr(l,m){P.call(this,vn.STAT_EVENT,l),this.stat=m}I(tr,P);function rt(l){const m=kr();st(m,new tr(m,l))}vn.Ja="timingevent";function uo(l,m){P.call(this,vn.Ja,l),this.size=m}I(uo,P);function Rr(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},m)}function Pr(){this.g=!0}Pr.prototype.ua=function(){this.g=!1};function Pa(l,m,p,w,O,U){l.info(function(){if(l.g)if(U){var J="",ye=U.split("&");for(let Ue=0;Ue<ye.length;Ue++){var ot=ye[Ue].split("=");if(ot.length>1){const ht=ot[0];ot=ot[1];const rn=ht.split("_");J=rn.length>=2&&rn[1]=="type"?J+(ht+"="+ot+"&"):J+(ht+"=redacted&")}}}else J=null;else J=U;return"XMLHTTP REQ ("+w+") [attempt "+O+"]: "+m+`
`+p+`
`+J})}function xa(l,m,p,w,O,U,J){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+O+"]: "+m+`
`+p+`
`+U+" "+J})}function xn(l,m,p,w){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+fi(l,p)+(w?" "+w:"")})}function Na(l,m){l.info(function(){return"TIMEOUT: "+m})}Pr.prototype.info=function(){};function fi(l,m){if(!l.g)return m;if(!m)return null;try{const U=JSON.parse(m);if(U){for(l=0;l<U.length;l++)if(Array.isArray(U[l])){var p=U[l];if(!(p.length<2)){var w=p[1];if(Array.isArray(w)&&!(w.length<1)){var O=w[0];if(O!="noop"&&O!="stop"&&O!="close")for(let J=1;J<w.length;J++)w[J]=""}}}}return Ir(U)}catch{return m}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Va;function nr(){}I(nr,Ar),nr.prototype.g=function(){return new XMLHttpRequest},Va=new nr;function Nn(l){return encodeURIComponent(String(l))}function ns(l){var m=1;l=l.split(":");const p=[];for(;m>0&&l.length;)p.push(l.shift()),m--;return l.length&&p.push(l.join(":")),p}function ln(l,m,p,w){this.j=l,this.i=m,this.l=p,this.S=w||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Da}function Da(){this.i=null,this.g="",this.h=!1}var Ma={},co={};function wn(l,m,p){l.M=1,l.A=ir(un(m)),l.u=p,l.R=!0,ho(l,null)}function ho(l,m){l.F=Date.now(),mi(l),l.B=un(l.A);var p=l.B,w=l.S;Array.isArray(w)||(w=[String(w)]),To(p.i,"t",w),l.C=0,p=l.j.L,l.h=new Da,l.g=qa(l.j,p?m:null,!l.u),l.P>0&&(l.O=new Ca(v(l.Y,l,l.g),l.P)),m=l.V,p=l.g,w=l.ba;var O="readystatechange";Array.isArray(O)||(O&&(ao[0]=O.toString()),O=ao);for(let U=0;U<O.length;U++){const J=Be(p,O[U],w||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=l.J?D(l.J):{},l.u?(l.v||(l.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,m)):(l.v="GET",l.g.ea(l.B,l.v,null,m)),er(),Pa(l.i,l.v,l.B,l.l,l.S,l.u)}ln.prototype.ba=function(l){l=l.target;const m=this.O;m&&jn(l)==3?m.j():this.Y(l)},ln.prototype.Y=function(l){try{if(l==this.g)e:{const ye=jn(this.g),ot=this.g.ya(),Ue=this.g.ca();if(!(ye<3)&&(ye!=3||this.g&&(this.h.h||this.g.la()||za(this.g)))){this.K||ye!=4||ot==7||(ot==8||Ue<=0?er(3):er(2)),rs(this);var m=this.g.ca();this.X=m;var p=La(this);if(this.o=m==200,xa(this.i,this.v,this.B,this.l,this.S,ye,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,O=this.g;if((w=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var U=w;break t}}U=null}if(l=U)xn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,l);else{this.o=!1,this.m=3,rt(12),rr(this),pi(this);break e}}if(this.R){l=!0;let ht;for(;!this.K&&this.C<p.length;)if(ht=ba(this,p),ht==co){ye==4&&(this.m=4,rt(14),l=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Ma){this.m=4,rt(15),xn(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else xn(this.i,this.l,ht,null),Ke(this,ht);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||p.length!=0||this.h.h||(this.m=1,rt(16),l=!1),this.o=this.o&&l,!l)xn(this.i,this.l,p,"[Invalid Chunked Response]"),rr(this),pi(this);else if(p.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ii(J),J.P=!0,rt(11))}}else xn(this.i,this.l,p,null),Ke(this,p);ye==4&&rr(this),this.o&&!this.K&&(ye==4?fs(this.j,this):(this.o=!1,mi(this)))}else Io(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),rr(this),pi(this)}}}catch{}finally{}};function La(l){if(!Oa(l))return l.g.la();const m=za(l.g);if(m==="")return"";let p="";const w=m.length,O=jn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return rr(l),pi(l),"";l.h.i=new d.TextDecoder}for(let U=0;U<w;U++)l.h.h=!0,p+=l.h.i.decode(m[U],{stream:!(O&&U==w-1)});return m.length=0,l.h.g+=p,l.C=0,l.h.g}function Oa(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function ba(l,m){var p=l.C,w=m.indexOf(`
`,p);return w==-1?co:(p=Number(m.substring(p,w)),isNaN(p)?Ma:(w+=1,w+p>m.length?co:(m=m.slice(w,w+p),l.C=w+p,m)))}ln.prototype.cancel=function(){this.K=!0,rr(this)};function mi(l){l.T=Date.now()+l.H,fo(l,l.H)}function fo(l,m){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Rr(v(l.aa,l),m)}function rs(l){l.D&&(d.clearTimeout(l.D),l.D=null)}ln.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Na(this.i,this.B),this.M!=2&&(er(),rt(17)),rr(this),this.m=2,pi(this)):fo(this,this.T-l)};function pi(l){l.j.I==0||l.K||fs(l.j,l)}function rr(l){rs(l);var m=l.O;m&&typeof m.dispose=="function"&&m.dispose(),l.O=null,Ji(l.V),l.g&&(m=l.g,l.g=null,m.abort(),m.dispose())}function Ke(l,m){try{var p=l.j;if(p.I!=0&&(p.g==l||po(p.h,l))){if(!l.L&&po(p.h,l)&&p.I==3){try{var w=p.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var O=w;if(O[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)ds(p),tn(p);else break e;Bn(p),rt(18)}}else p.xa=O[1],0<p.xa-p.K&&O[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Rr(v(p.Va,p),6e3));gi(p.h)<=1&&p.ta&&(p.ta=void 0)}else nn(p,11)}else if((l.L||p.g==l)&&ds(p),!A(m))for(O=p.Ba.g.parse(m),m=0;m<O.length;m++){let Ue=O[m];const ht=Ue[0];if(!(ht<=p.K))if(p.K=ht,Ue=Ue[1],p.I==2)if(Ue[0]=="c"){p.M=Ue[1],p.ba=Ue[2];const rn=Ue[3];rn!=null&&(p.ka=rn,p.j.info("VER="+p.ka));const ur=Ue[4];ur!=null&&(p.za=ur,p.j.info("SVER="+p.za));const zn=Ue[5];zn!=null&&typeof zn=="number"&&zn>0&&(w=1.5*zn,p.O=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const $n=l.g;if($n){const gs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var U=w.h;U.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ss(U,U.h),U.h=null))}if(w.G){const ko=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ko&&(w.wa=ko,Oe(w.J,w.G,ko))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),w=p;var J=l;if(w.na=Co(w,w.L?w.ba:null,w.W),J.L){yi(w.h,J);var ye=J,ot=w.O;ot&&(ye.H=ot),ye.D&&(rs(ye),mi(ye)),w.g=J}else Dt(w);p.i.length>0&&lr(p)}else Ue[0]!="stop"&&Ue[0]!="close"||nn(p,7);else p.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?nn(p,7):cs(p):Ue[0]!="noop"&&p.l&&p.l.qa(Ue),p.A=0)}}er(4)}catch{}}var ku=class{constructor(l,m){this.g=l,this.map=m}};function is(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function gi(l){return l.h?1:l.g?l.g.size:0}function po(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function ss(l,m){l.g?l.g.add(m):l.h=m}function yi(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}is.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Jt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const p of l.g.values())m=m.concat(p.G);return m}return F(l.i)}var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zt(l,m){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const w=l[p].indexOf("=");let O,U=null;w>=0?(O=l[p].substring(0,w),U=l[p].substring(w+1)):O=l[p],m(O,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Vn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;l instanceof Vn?(this.l=l.l,_i(this,l.j),this.o=l.o,this.g=l.g,Dn(this,l.u),this.h=l.h,Vr(this,So(l.i)),this.m=l.m):l&&(m=String(l).match(ja))?(this.l=!1,_i(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),Dn(this,m[4]),this.h=vi(m[5]||"",!0),Vr(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new Pe(null,this.l))}Vn.prototype.toString=function(){const l=[];var m=this.j;m&&l.push(wi(m,yo,!0),":");var p=this.g;return(p||m=="file")&&(l.push("//"),(m=this.o)&&l.push(wi(m,yo,!0),"@"),l.push(Nn(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(wi(p,p.charAt(0)=="/"?Ei:_o,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",wi(p,vo)),l.join("")},Vn.prototype.resolve=function(l){const m=un(this);let p=!!l.j;p?_i(m,l.j):p=!!l.o,p?m.o=l.o:p=!!l.g,p?m.g=l.g:p=l.u!=null;var w=l.h;if(p)Dn(m,l.u);else if(p=!!l.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var O=m.h.lastIndexOf("/");O!=-1&&(w=m.h.slice(0,O+1)+w)}if(O=w,O==".."||O==".")w="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){w=O.lastIndexOf("/",0)==0,O=O.split("/");const U=[];for(let J=0;J<O.length;){const ye=O[J++];ye=="."?w&&J==O.length&&U.push(""):ye==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),w&&J==O.length&&U.push("")):(U.push(ye),w=!0)}w=U.join("/")}else w=O}return p?m.h=w:p=l.i.toString()!=="",p?Vr(m,So(l.i)):p=!!l.m,p&&(m.m=l.m),m};function un(l){return new Vn(l)}function _i(l,m,p){l.j=p?vi(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function Dn(l,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);l.u=m}else l.u=null}function Vr(l,m,p){m instanceof Pe?(l.i=m,as(l.i,l.l)):(p||(m=wi(m,Ru)),l.i=new Pe(m,l.l))}function Oe(l,m,p){l.i.set(m,p)}function ir(l){return Oe(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function vi(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function wi(l,m,p){return typeof l=="string"?(l=encodeURI(l).replace(m,go),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function go(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var yo=/[#\/\?@]/g,_o=/[#\?:]/g,Ei=/[#\?]/g,Ru=/[#\?@]/g,vo=/#/g;function Pe(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Mn(l){l.g||(l.g=new Map,l.h=0,l.i&&Zt(l.i,function(m,p){l.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}i=Pe.prototype,i.add=function(l,m){Mn(this),this.i=null,l=Ln(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(m),this.h+=1,this};function wo(l,m){Mn(l),m=Ln(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function os(l,m){return Mn(l),m=Ln(l,m),l.g.has(m)}i.forEach=function(l,m){Mn(this),this.g.forEach(function(p,w){p.forEach(function(O){l.call(m,O,w,this)},this)},this)};function Eo(l,m){Mn(l);let p=[];if(typeof m=="string")os(l,m)&&(p=p.concat(l.g.get(Ln(l,m))));else for(l=Array.from(l.g.values()),m=0;m<l.length;m++)p=p.concat(l[m]);return p}i.set=function(l,m){return Mn(this),this.i=null,l=Ln(this,l),os(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},i.get=function(l,m){return l?(l=Eo(this,l),l.length>0?String(l[0]):m):m};function To(l,m,p){wo(l,m),p.length>0&&(l.i=null,l.g.set(Ln(l,m),F(p)),l.h+=p.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var p=m[w];const O=Nn(p);p=Eo(this,p);for(let U=0;U<p.length;U++){let J=O;p[U]!==""&&(J+="="+Nn(p[U])),l.push(J)}}return this.i=l.join("&")};function So(l){const m=new Pe;return m.i=l.i,l.g&&(m.g=new Map(l.g),m.h=l.h),m}function Ln(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function as(l,m){m&&!l.j&&(Mn(l),l.i=null,l.g.forEach(function(p,w){const O=w.toLowerCase();w!=O&&(wo(this,w),To(this,O,p))},l)),l.j=m}function On(l,m){const p=new Pr;if(d.Image){const w=new Image;w.onload=E(At,p,"TestLoadImage: loaded",!0,m,w),w.onerror=E(At,p,"TestLoadImage: error",!1,m,w),w.onabort=E(At,p,"TestLoadImage: abort",!1,m,w),w.ontimeout=E(At,p,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else m(!1)}function bn(l,m){const p=new Pr,w=new AbortController,O=setTimeout(()=>{w.abort(),At(p,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:w.signal}).then(U=>{clearTimeout(O),U.ok?At(p,"TestPingServer: ok",!0,m):At(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(O),At(p,"TestPingServer: error",!1,m)})}function At(l,m,p,w,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),w(p)}catch{}}function Ti(){this.g=new di}function sr(l){this.i=l.Sb||null,this.h=l.ab||!1}I(sr,Ar),sr.prototype.g=function(){return new en(this.i,this.h)};function en(l,m){ct.call(this),this.H=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(en,ct),i=en.prototype,i.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=m,this.readyState=1,En(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(m.body=l),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}i.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Dr(this):En(this),this.readyState==3&&Ua(this)}},i.Oa=function(l){this.g&&(this.response=this.responseText=l,Dr(this))},i.Na=function(l){this.g&&(this.response=l,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(l){l.readyState=4,l.l=null,l.j=null,l.B=null,En(l)}i.setRequestHeader=function(l,m){this.A.append(l,m)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=m.next();return l.join(`\r
`)};function En(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(en.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Fa(l){let m="";return ue(l,function(p,w){m+=w,m+=":",m+=p,m+=`\r
`}),m}function ls(l,m,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=Fa(p),typeof l=="string"?p!=null&&Nn(p):Oe(l,m,p))}function ze(l){ct.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(ze,ct);var Ba=/^https?$/i,Pu=["POST","PUT"];i=ze.prototype,i.Fa=function(l){this.H=l},i.ea=function(l,m,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Va.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(U){Mr(this,U);return}if(l=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var O in w)p.set(O,w[O]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())p.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(U=>U.toLowerCase()=="content-type"),O=d.FormData&&l instanceof d.FormData,!(Array.prototype.indexOf.call(Pu,m,void 0)>=0)||w||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of p)this.g.setRequestHeader(U,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(U){Mr(this,U)}};function Mr(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.o=5,Lr(l),ar(l)}function Lr(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,st(this,"complete"),st(this,"abort"),ar(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?or(this):this.Xa())},i.Xa=function(){or(this)};function or(l){if(l.h&&typeof c<"u"){if(l.v&&jn(l)==4)setTimeout(l.Ca.bind(l),0);else if(st(l,"readystatechange"),jn(l)==4){l.h=!1;try{const U=l.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var p;if(!(p=m)){var w;if(w=U===0){let J=String(l.D).match(ja)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),w=!Ba.test(J?J.toLowerCase():"")}p=w}if(p)st(l,"complete"),st(l,"success");else{l.o=6;try{var O=jn(l)>2?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.ca()+"]",Lr(l)}}finally{ar(l)}}}}function ar(l,m){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,m||st(l,"ready");try{p.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function jn(l){return l.g?l.g.readyState:0}i.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),ka(m)}};function za(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Io(l){const m={};l=(l.g&&jn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(A(l[w]))continue;var p=ns(l[w]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const U=m[O]||[];m[O]=U,U.push(p)}re(m,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(l,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||m}function us(l){this.za=0,this.i=[],this.j=new Pr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Un("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Un("baseRetryDelayMs",5e3,l),this.Za=Un("retryDelaySeedMs",1e4,l),this.Ta=Un("forwardChannelMaxRetries",2,l),this.va=Un("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new is(l&&l.concurrentRequestLimit),this.Ba=new Ti,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=us.prototype,i.ka=8,i.I=1,i.connect=function(l,m,p,w){rt(0),this.W=l,this.H=m||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.J=Co(this,null,this.W),lr(this)};function cs(l){if(hs(l),l.I==3){var m=l.V++,p=un(l.J);if(Oe(p,"SID",l.M),Oe(p,"RID",m),Oe(p,"TYPE","terminate"),Fn(l,p),m=new ln(l,l.j,m),m.M=2,m.A=ir(un(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=qa(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}Ai(l)}function tn(l){l.g&&(Ii(l),l.g.cancel(),l.g=null)}function hs(l){tn(l),l.v&&(d.clearTimeout(l.v),l.v=null),ds(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&d.clearTimeout(l.m),l.m=null)}function lr(l){if(!mo(l.h)&&!l.m){l.m=!0;var m=l.Ea;Fe||S(),Ie||(Fe(),Ie=!0),R.add(m,l),l.D=0}}function $a(l,m){return gi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=m.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Rr(v(l.Ea,l,m),ms(l,l.D)),l.D++,!0)}i.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const O=new ln(this,this.j,l);let U=this.o;if(this.U&&(U?(U=D(U),we(U,this.U)):U=this.U),this.u!==null||this.R||(O.J=U,U=null),this.S)e:{for(var m=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=p;break e}if(m===4096||p===this.i.length-1){m=p+1;break e}}m=1e3}else m=1e3;m=Ao(this,O,m),p=un(this.J),Oe(p,"RID",l),Oe(p,"CVER",22),this.G&&Oe(p,"X-HTTP-Session-Id",this.G),Fn(this,p),U&&(this.R?m="headers="+Nn(Fa(U))+"&"+m:this.u&&ls(p,this.u,U)),ss(this.h,O),this.Ra&&Oe(p,"TYPE","init"),this.S?(Oe(p,"$req",m),Oe(p,"SID","null"),O.U=!0,wn(O,p,null)):wn(O,p,m),this.I=2}}else this.I==3&&(l?Si(this,l):this.i.length==0||mo(this.h)||Si(this))};function Si(l,m){var p;m?p=m.l:p=l.V++;const w=un(l.J);Oe(w,"SID",l.M),Oe(w,"RID",p),Oe(w,"AID",l.K),Fn(l,w),l.u&&l.o&&ls(w,l.u,l.o),p=new ln(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),m&&(l.i=m.G.concat(l.i)),m=Ao(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),ss(l.h,p),wn(p,w,m)}function Fn(l,m){l.H&&ue(l.H,function(p,w){Oe(m,w,p)}),l.l&&ue({},function(p,w){Oe(m,w,p)})}function Ao(l,m,p){p=Math.min(l.i.length,p);const w=l.l?v(l.l.Ka,l.l,l):null;e:{var O=l.i;let ye=-1;for(;;){const ot=["count="+p];ye==-1?p>0?(ye=O[0].g,ot.push("ofs="+ye)):ye=0:ot.push("ofs="+ye);let Ue=!0;for(let ht=0;ht<p;ht++){var U=O[ht].g;const rn=O[ht].map;if(U-=ye,U<0)ye=Math.max(0,O[ht].g-100),Ue=!1;else try{U="req"+U+"_"||"";try{var J=rn instanceof Map?rn:Object.entries(rn);for(const[ur,zn]of J){let $n=zn;g(zn)&&($n=Ir(zn)),ot.push(U+ur+"="+encodeURIComponent($n))}}catch(ur){throw ot.push(U+"type="+encodeURIComponent("_badmap")),ur}}catch{w&&w(rn)}}if(Ue){J=ot.join("&");break e}}J=void 0}return l=l.i.splice(0,p),m.G=l,J}function Dt(l){if(!l.g&&!l.v){l.Y=1;var m=l.Da;Fe||S(),Ie||(Fe(),Ie=!0),R.add(m,l),l.A=0}}function Bn(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Rr(v(l.Da,l),ms(l,l.A)),l.A++,!0)}i.Da=function(){if(this.v=null,Or(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Rr(v(this.Wa,this),l)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),tn(this),Or(this))};function Ii(l){l.B!=null&&(d.clearTimeout(l.B),l.B=null)}function Or(l){l.g=new ln(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var m=un(l.na);Oe(m,"RID","rpc"),Oe(m,"SID",l.M),Oe(m,"AID",l.K),Oe(m,"CI",l.F?"0":"1"),!l.F&&l.ia&&Oe(m,"TO",l.ia),Oe(m,"TYPE","xmlhttp"),Fn(l,m),l.u&&l.o&&ls(m,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=ir(un(m)),p.u=null,p.R=!0,ho(p,l)}i.Va=function(){this.C!=null&&(this.C=null,tn(this),Bn(this),rt(19))};function ds(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function fs(l,m){var p=null;if(l.g==m){ds(l),Ii(l),l.g=null;var w=2}else if(po(l.h,m))p=m.G,yi(l.h,m),w=1;else return;if(l.I!=0){if(m.o)if(w==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var O=l.D;w=kr(),st(w,new uo(w,p)),lr(l)}else Dt(l);else if(O=m.m,O==3||O==0&&m.X>0||!(w==1&&$a(l,m)||w==2&&Bn(l)))switch(p&&p.length>0&&(m=l.h,m.i=m.i.concat(p)),O){case 1:nn(l,5);break;case 4:nn(l,10);break;case 3:nn(l,6);break;default:nn(l,2)}}}function ms(l,m){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*m}function nn(l,m){if(l.j.info("Error code "+m),m==2){var p=v(l.bb,l),w=l.Ua;const O=!w;w=new Vn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||_i(w,"https"),ir(w),O?On(w.toString(),p):bn(w.toString(),p)}else rt(2);l.I=0,l.l&&l.l.pa(m),Ai(l),hs(l)}i.bb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ai(l){if(l.I=0,l.ja=[],l.l){const m=Jt(l.h);(m.length!=0||l.i.length!=0)&&(Q(l.ja,m),Q(l.ja,l.i),l.h.i.length=0,F(l.i),l.i.length=0),l.l.oa()}}function Co(l,m,p){var w=p instanceof Vn?un(p):new Vn(p);if(w.g!="")m&&(w.g=m+"."+w.g),Dn(w,w.u);else{var O=d.location;w=O.protocol,m=m?m+"."+O.hostname:O.hostname,O=+O.port;const U=new Vn(null);w&&_i(U,w),m&&(U.g=m),O&&Dn(U,O),p&&(U.h=p),w=U}return p=l.G,m=l.wa,p&&m&&Oe(w,p,m),Oe(w,"VER",l.ka),Fn(l,w),w}function qa(l,m,p){if(m&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Aa&&!l.ma?new ze(new sr({ab:p})):new ze(l.ma),m.Fa(l.L),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ha(){}i=Ha.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ps(){}ps.prototype.g=function(l,m){return new Ct(l,m)};function Ct(l,m){ct.call(this),this.g=new us(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(l?l["X-WebChannel-Client-Profile"]=m.sa:l={"X-WebChannel-Client-Profile":m.sa}),this.g.U=l,(l=m&&m.Qb)&&!A(l)&&(this.g.u=l),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new br(this)}I(Ct,ct),Ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){cs(this.g)},Ct.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Ir(l),l=p);m.i.push(new ku(m.Ya++,l)),m.I==3&&lr(m)},Ct.prototype.N=function(){this.g.l=null,delete this.j,cs(this.g),delete this.g,Ct.Z.N.call(this)};function Ga(l){Zi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const p in m){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}I(Ga,Zi);function Wa(){lo.call(this),this.status=1}I(Wa,lo);function br(l){this.g=l}I(br,Ha),br.prototype.ra=function(){st(this.g,"a")},br.prototype.qa=function(l){st(this.g,new Ga(l))},br.prototype.pa=function(l){st(this.g,new Wa)},br.prototype.oa=function(){st(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,_g=function(){return new ps},yg=function(){return kr()},gg=vn,gh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Gl=xr,Nr.COMPLETE="complete",pg=Nr,Ra.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ct.prototype.listen=ct.prototype.J,ea=Ra,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,mg=ze}).apply(typeof Bl<"u"?Bl:typeof self<"u"?self:typeof window<"u"?window:{});const Xm="@firebase/firestore",Jm="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new ag("@firebase/firestore");function js(){return $i.logLevel}function ne(i,...e){if($i.logLevel<=Ne.DEBUG){const n=e.map(Oh);$i.debug(`Firestore (${Js}): ${i}`,...n)}}function wr(i,...e){if($i.logLevel<=Ne.ERROR){const n=e.map(Oh);$i.error(`Firestore (${Js}): ${i}`,...n)}}function Hs(i,...e){if($i.logLevel<=Ne.WARN){const n=e.map(Oh);$i.warn(`Firestore (${Js}): ${i}`,...n)}}function Oh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vg(i,s,n)}function vg(i,e,n){let s=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wr(s),new Error(s)}function je(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||vg(e,a,s)}function _e(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ut.UNAUTHENTICATED)))}shutdown(){}}class Ww{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Kw{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let s=this.i;const a=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,e.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await a(this.currentUser)}))},g=_=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new wg(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class Qw{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yw{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Qw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const s=c=>{c.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const a=c=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zm(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Jw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function yh(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return oh(a)===oh(c)?ke(a,c):oh(a)?1:-1}return ke(i.length,e.length)}const Zw=55296,e0=57343;function oh(i){const e=i.charCodeAt(0);return e>=Zw&&e<=e0}function Gs(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="__name__";class Kn{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&de(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Kn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return ke(e.length,n.length)}static compareSegments(e,n){const s=Kn.isNumericId(e),a=Kn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):yh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}}class Ge extends Kn{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Ge(n)}static emptyPath(){return new Ge([])}}const t0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Kn{construct(e,n,s){return new xt(e,n,s)}static isValidIdentifier(e){return t0.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ep}static keyField(){return new xt([ep])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,a+=2}else g==="`"?(d=!d,a++):g!=="."||d?(s+=g,a++):(c(),a++)}if(c(),d)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ge.fromString(e))}static fromName(e){return new le(Ge.fromString(e).popFirst(5))}static empty(){return new le(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function n0(i,e,n,s){if(e===!0&&s===!0)throw new te(z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function tp(i){if(!le.isDocumentKey(i))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function np(i){if(le.isDocumentKey(i))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Tg(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function mu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de(12329,{type:typeof i})}function sa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mu(i);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(i,e){const n={typeString:i};return e&&(n.value=e),n}function wa(i,e){if(!Tg(i))throw new te(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(a&&typeof d!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new te(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=-62135596800,ip=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ip);return new We(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rp)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ip}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wa(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:pt("string",We._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new We(0,0))}static max(){return new ge(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=-1;function r0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ge.fromTimestamp(s===1e9?new We(n+1,0):new We(n,s));return new ii(a,le.empty(),e)}function i0(i){return new ii(i.readTime,i.key,da)}class ii{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ii(ge.min(),le.empty(),da)}static max(){return new ii(ge.max(),le.empty(),da)}}function s0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(i){if(i.code!==z.FAILED_PRECONDITION||i.message!==o0)throw i;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,s)=>{n(e)}))}static reject(e){return new $(((n,s)=>{s(e)}))}static waitFor(e){return new $(((n,s)=>{let a=0,c=0,d=!1;e.forEach((g=>{++a,g.next((()=>{++c,d&&c===a&&n()}),(_=>s(_)))})),d=!0,c===a&&n()}))}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next((a=>a?$.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,c)=>{s.push(n.call(this,a,c))})),this.waitFor(s)}static mapArray(e,n){return new $(((s,a)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const v=_;n(e[v]).next((E=>{d[v]=E,++g,g===c&&s(d)}),(E=>a(E)))}}))}static doWhile(e,n){return new $(((s,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):s()};c()}))}}function l0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=-1;function gu(i){return i==null}function nu(i){return i===0&&1/i==-1/0}function u0(i){return typeof i=="number"&&Number.isInteger(i)&&!nu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="";function c0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=sp(e)),e=h0(i.get(n),e);return sp(e)}function h0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case Sg:n+="";break;default:n+=c}}return n}function sp(i){return i+Sg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Hi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ig(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zl(this.root,e,this.comparator,!0)}}class zl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Pt.RED,this.left=a??Pt.EMPTY,this.right=c??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Pt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Pt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ap(this.data.getIterator())}getIteratorFrom(e){return new ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class ap{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new vt(xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ag("Invalid base64 string: "+c):c}})(e);return new Nt(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c})(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const d0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(i){if(je(!!i,39018),typeof i=="string"){let e=0;const n=d0.exec(i);if(je(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(i.seconds),nanos:ut(i.nanos)}}function ut(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function oi(i){return typeof i=="string"?Nt.fromBase64String(i):Nt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="server_timestamp",kg="__type__",Rg="__previous_value__",Pg="__local_write_time__";function Uh(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[kg])==null?void 0:s.stringValue)===Cg}function yu(i){const e=i.mapValue.fields[Rg];return Uh(e)?yu(e):e}function fa(i){const e=si(i.mapValue.fields[Pg].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,s,a,c,d,g,_,v,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=E}}const ru="(default)";class ma{constructor(e,n){this.projectId=e,this.database=n||ru}static empty(){return new ma("","")}get isDefaultDatabase(){return this.database===ru}isEqual(e){return e instanceof ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="__type__",m0="__max__",$l={mapValue:{}},Ng="__vector__",iu="value";function ai(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Uh(i)?4:g0(i)?9007199254740991:p0(i)?10:11:de(28295,{value:i})}function Zn(i,e){if(i===e)return!0;const n=ai(i);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fa(i).isEqual(fa(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=si(a.timestampValue),g=si(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,c){return oi(a.bytesValue).isEqual(oi(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,c){return ut(a.geoPointValue.latitude)===ut(c.geoPointValue.latitude)&&ut(a.geoPointValue.longitude)===ut(c.geoPointValue.longitude)})(i,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return ut(a.integerValue)===ut(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=ut(a.doubleValue),g=ut(c.doubleValue);return d===g?nu(d)===nu(g):isNaN(d)&&isNaN(g)}return!1})(i,e);case 9:return Gs(i.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return(function(a,c){const d=a.mapValue.fields||{},g=c.mapValue.fields||{};if(op(d)!==op(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Zn(d[_],g[_])))return!1;return!0})(i,e);default:return de(52216,{left:i})}}function pa(i,e){return(i.values||[]).find((n=>Zn(n,e)))!==void 0}function Ws(i,e){if(i===e)return 0;const n=ai(i),s=ai(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=ut(c.integerValue||c.doubleValue),_=ut(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(i,e);case 3:return lp(i.timestampValue,e.timestampValue);case 4:return lp(fa(i),fa(e));case 5:return yh(i.stringValue,e.stringValue);case 6:return(function(c,d){const g=oi(c),_=oi(d);return g.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const E=ke(g[v],_[v]);if(E!==0)return E}return ke(g.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=ke(ut(c.latitude),ut(d.latitude));return g!==0?g:ke(ut(c.longitude),ut(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return up(i.arrayValue,e.arrayValue);case 10:return(function(c,d){var V,F,Q,Y;const g=c.fields||{},_=d.fields||{},v=(V=g[iu])==null?void 0:V.arrayValue,E=(F=_[iu])==null?void 0:F.arrayValue,I=ke(((Q=v==null?void 0:v.values)==null?void 0:Q.length)||0,((Y=E==null?void 0:E.values)==null?void 0:Y.length)||0);return I!==0?I:up(v,E)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===$l.mapValue&&d===$l.mapValue)return 0;if(c===$l.mapValue)return 1;if(d===$l.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),v=d.fields||{},E=Object.keys(v);_.sort(),E.sort();for(let I=0;I<_.length&&I<E.length;++I){const V=yh(_[I],E[I]);if(V!==0)return V;const F=Ws(g[_[I]],v[E[I]]);if(F!==0)return F}return ke(_.length,E.length)})(i.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function lp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=si(i),s=si(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function up(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ws(n[a],s[a]);if(c)return c}return ke(n.length,s.length)}function Ks(i){return _h(i)}function _h(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=si(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return oi(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return le.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=_h(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${_h(n.fields[d])}`;return a+"}"})(i.mapValue):de(61005,{value:i})}function Wl(i){switch(ai(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yu(i);return e?16+Wl(e):16;case 5:return 2*i.stringValue.length;case 6:return oi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+Wl(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return Hi(s.fields,((c,d)=>{a+=c.length+Wl(d)})),a})(i.mapValue);default:throw de(13486,{value:i})}}function cp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vh(i){return!!i&&"integerValue"in i}function Fh(i){return!!i&&"arrayValue"in i}function hp(i){return!!i&&"nullValue"in i}function dp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Kl(i){return!!i&&"mapValue"in i}function p0(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[xg])==null?void 0:s.stringValue)===Ng}function oa(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Hi(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=oa(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oa(i.arrayValue.values[n]);return e}return{...i}}function g0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===m0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oa(n)}setAll(e){let n=xt.emptyPath(),s={},a=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=g.popLast()}d?s[g.lastSegment()]=oa(d):a.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Kl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Kl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Hi(n,((a,c)=>e[a]=c));for(const a of s)delete e[a]}clone(){return new gn(oa(this.value))}}function Vg(i){const e=[];return Hi(i.fields,((n,s)=>{const a=new xt([n]);if(Kl(s)){const c=Vg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ft(e,0,ge.min(),ge.min(),ge.min(),gn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,ge.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,ge.min(),ge.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ge.min(),ge.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.position=e,this.inclusive=n}}function fp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=le.comparator(le.fromName(d.referenceValue),n.key):s=Ws(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function mp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function y0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{}class mt extends Dg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new v0(e,n,s):n==="array-contains"?new T0(e,s):n==="in"?new S0(e,s):n==="not-in"?new I0(e,s):n==="array-contains-any"?new A0(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new w0(e,s):new E0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ws(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends Dg{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pn(e,n)}matches(e){return Mg(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mg(i){return i.op==="and"}function Lg(i){return _0(i)&&Mg(i)}function _0(i){for(const e of i.filters)if(e instanceof Pn)return!1;return!0}function wh(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+Ks(i.value);if(Lg(i))return i.filters.map((e=>wh(e))).join(",");{const e=i.filters.map((n=>wh(n))).join(",");return`${i.op}(${e})`}}function Og(i,e){return i instanceof mt?(function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&Zn(s.value,a.value)})(i,e):i instanceof Pn?(function(s,a){return a instanceof Pn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,d,g)=>c&&Og(d,a.filters[g])),!0):!1})(i,e):void de(19439)}function bg(i){return i instanceof mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ks(n.value)}`})(i):i instanceof Pn?(function(n){return n.op.toString()+" {"+n.getFilters().map(bg).join(" ,")+"}"})(i):"Filter"}class v0 extends mt{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class w0 extends mt{constructor(e,n){super(e,"in",n),this.keys=jg("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class E0 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=jg("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jg(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>le.fromName(s.referenceValue)))}class T0 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&pa(n.arrayValue,this.value)}}class S0 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}}class I0 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pa(this.value.arrayValue,n)}}class A0 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pa(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n=null,s=[],a=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function pp(i,e=null,n=[],s=[],a=null,c=null,d=null){return new C0(i,e,n,s,a,c,d)}function Bh(i){const e=_e(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>wh(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ks(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ks(s))).join(",")),e.Te=n}return e.Te}function zh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!y0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Og(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!mp(i.startAt,e.startAt)&&mp(i.endAt,e.endAt)}function Eh(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n=null,s=[],a=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function k0(i,e,n,s,a,c,d,g){return new to(i,e,n,s,a,c,d,g)}function $h(i){return new to(i)}function gp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Ug(i){return i.collectionGroup!==null}function aa(i){const e=_e(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new vt(xt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ga(c,s))})),n.has(xt.keyField().canonicalString())||e.Ie.push(new ga(xt.keyField(),s))}return e.Ie}function Qn(i){const e=_e(i);return e.Ee||(e.Ee=R0(e,aa(i))),e.Ee}function R0(i,e){if(i.limitType==="F")return pp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new ga(a.field,c)}));const n=i.endAt?new su(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new su(i.startAt.position,i.startAt.inclusive):null;return pp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Th(i,e){const n=i.filters.concat([e]);return new to(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function ou(i,e,n){return new to(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _u(i,e){return zh(Qn(i),Qn(e))&&i.limitType===e.limitType}function Fg(i){return`${Bh(Qn(i))}|lt:${i.limitType}`}function Us(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>bg(a))).join(", ")}]`),gu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Ks(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Ks(a))).join(",")),`Target(${s})`})(Qn(i))}; limitType=${i.limitType})`}function vu(i,e){return e.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,a){for(const c of aa(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(d,g,_){const v=fp(d,g,_);return d.inclusive?v<=0:v<0})(s.startAt,aa(s),a)||s.endAt&&!(function(d,g,_){const v=fp(d,g,_);return d.inclusive?v>=0:v>0})(s.endAt,aa(s),a))})(i,e)}function P0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Bg(i){return(e,n)=>{let s=!1;for(const a of aa(i)){const c=x0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function x0(i,e,n){const s=i.field.isKeyField()?le.comparator(e.key,n.key):(function(c,d,g){const _=d.data.field(c),v=g.data.field(c);return _!==null&&v!==null?Ws(_,v):de(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,((n,s)=>{for(const[a,c]of s)e(a,c)}))}isEmpty(){return Ig(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new nt(le.comparator);function Er(){return N0}const zg=new nt(le.comparator);function ta(...i){let e=zg;for(const n of i)e=e.insert(n.key,n);return e}function $g(i){let e=zg;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ui(){return la()}function qg(){return la()}function la(){return new Gi((i=>i.toString()),((i,e)=>i.isEqual(e)))}const V0=new nt(le.comparator),D0=new vt(le.comparator);function Re(...i){let e=D0;for(const n of i)e=e.add(n);return e}const M0=new vt(ke);function L0(){return M0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function Hg(i){return{integerValue:""+i}}function O0(i,e){return u0(e)?Hg(e):qh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this._=void 0}}function b0(i,e,n){return i instanceof ya?(function(a,c){const d={fields:{[kg]:{stringValue:Cg},[Pg]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Uh(c)&&(c=yu(c)),c&&(d.fields[Rg]=c),{mapValue:d}})(n,e):i instanceof _a?Wg(i,e):i instanceof va?Kg(i,e):(function(a,c){const d=Gg(a,c),g=yp(d)+yp(a.Ae);return vh(d)&&vh(a.Ae)?Hg(g):qh(a.serializer,g)})(i,e)}function j0(i,e,n){return i instanceof _a?Wg(i,e):i instanceof va?Kg(i,e):n}function Gg(i,e){return i instanceof au?(function(s){return vh(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class ya extends wu{}class _a extends wu{constructor(e){super(),this.elements=e}}function Wg(i,e){const n=Qg(e);for(const s of i.elements)n.some((a=>Zn(a,s)))||n.push(s);return{arrayValue:{values:n}}}class va extends wu{constructor(e){super(),this.elements=e}}function Kg(i,e){let n=Qg(e);for(const s of i.elements)n=n.filter((a=>!Zn(a,s)));return{arrayValue:{values:n}}}class au extends wu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yp(i){return ut(i.integerValue||i.doubleValue)}function Qg(i){return Fh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.field=e,this.transform=n}}function F0(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof _a&&a instanceof _a||s instanceof va&&a instanceof va?Gs(s.elements,a.elements,Zn):s instanceof au&&a instanceof au?Zn(s.Ae,a.Ae):s instanceof ya&&a instanceof ya})(i.transform,e.transform)}class B0{constructor(e,n){this.version=e,this.transformResults=n}}class _r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ql(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Eu{}function Yg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Jg(i.key,_r.none()):new Ea(i.key,i.data,_r.none());{const n=i.data,s=gn.empty();let a=new vt(xt.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new Wi(i.key,s,new Rn(a.toArray()),_r.none())}}function z0(i,e,n){i instanceof Ea?(function(a,c,d){const g=a.value.clone(),_=vp(a.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):i instanceof Wi?(function(a,c,d){if(!Ql(a.precondition,c))return void c.convertToUnknownDocument(d.version);const g=vp(a.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(Xg(a)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(i,e,n):(function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function ua(i,e,n,s){return i instanceof Ea?(function(c,d,g,_){if(!Ql(c.precondition,d))return g;const v=c.value.clone(),E=wp(c.fieldTransforms,_,d);return v.setAll(E),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(i,e,n,s):i instanceof Wi?(function(c,d,g,_){if(!Ql(c.precondition,d))return g;const v=wp(c.fieldTransforms,_,d),E=d.data;return E.setAll(Xg(c)),E.setAll(v),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(i,e,n,s):(function(c,d,g){return Ql(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(i,e,n)}function $0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Gg(s.transform,a||null);c!=null&&(n===null&&(n=gn.empty()),n.set(s.field,c))}return n||null}function _p(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Gs(s,a,((c,d)=>F0(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ea extends Eu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Wi extends Eu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Xg(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function vp(i,e,n){const s=new Map;je(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,g=e.data.field(c.field);s.set(c.field,j0(d,g,n[a]))}return s}function wp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,b0(c,d,e))}return s}class Jg extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q0 extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&z0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ua(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ua(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=qg();return this.mutations.forEach((a=>{const c=e.get(a.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(a.key)?null:g;const _=Yg(d,g);_!==null&&s.set(a.key,_),d.isValidDocument()||d.convertToNoDocument(ge.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Re())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,((n,s)=>_p(n,s)))&&Gs(this.baseMutations,e.baseMutations,((n,s)=>_p(n,s)))}}class Hh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return V0})();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Hh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,xe;function K0(i){switch(i){case z.OK:return de(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return de(15467,{code:i})}}function Zg(i){if(i===void 0)return wr("GRPC error has no .code"),z.UNKNOWN;switch(i){case ft.OK:return z.OK;case ft.CANCELLED:return z.CANCELLED;case ft.UNKNOWN:return z.UNKNOWN;case ft.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ft.INTERNAL:return z.INTERNAL;case ft.UNAVAILABLE:return z.UNAVAILABLE;case ft.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ft.NOT_FOUND:return z.NOT_FOUND;case ft.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ft.ABORTED:return z.ABORTED;case ft.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ft.DATA_LOSS:return z.DATA_LOSS;default:return de(39323,{code:i})}}(xe=ft||(ft={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new ni([4294967295,4294967295],0);function Ep(i){const e=Q0().encode(i),n=new fg;return n.update(e),new Uint8Array(n.digest())}function Tp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ni([n,s],0),new ni([a,c],0)]}class Gh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(s<0)throw new na(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ni.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ni.fromNumber(s)));return a.compare(Y0)===1&&(a=new ni([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ep(e),[s,a]=Tp(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,a,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gh(c,a,n);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=Ep(e),[s,a]=Tp(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,a,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Tu(ge.min(),a,new nt(ke),Er(),Re())}}class Ta{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ta(s,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class ey{constructor(e,n){this.targetId=e,this.Ce=n}}class ty{constructor(e,n,s=Nt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Sp{constructor(){this.ve=0,this.Fe=Ip(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),s=Re();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de(38017,{changeType:c})}})),new Ta(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ip()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class X0{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=ql(),this.He=ql(),this.Ye=new nt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Eh(c))if(s===0){const d=new le(c.path);this.et(n,d,Ft.newNoDocument(d,ge.min()))}else je(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(n);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,g;try{d=oi(s).toUint8Array()}catch(_){if(_ instanceof Ag)return Hs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Gh(d,a,c)}catch(_){return Hs(_ instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Eh(g.target)){const _=new le(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ft.newNoDocument(_,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=Re();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const a=new Tu(e,n,this.Ye,this.je,s);return this.je=Er(),this.Je=ql(),this.He=ql(),this.Ye=new nt(ke),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Sp,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sp),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ql(){return new nt(le.comparator)}function Ip(){return new nt(le.comparator)}const J0={asc:"ASCENDING",desc:"DESCENDING"},Z0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class t1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sh(i,e){return i.useProto3Json||gu(e)?e:{value:e}}function lu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ny(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function n1(i,e){return lu(i,e.toTimestamp())}function Yn(i){return je(!!i,49232),ge.fromTimestamp((function(n){const s=si(n);return new We(s.seconds,s.nanos)})(i))}function Wh(i,e){return Ih(i,e).canonicalString()}function Ih(i,e){const n=(function(a){return new Ge(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function ry(i){const e=Ge.fromString(i);return je(ly(e),10190,{key:e.toString()}),e}function Ah(i,e){return Wh(i.databaseId,e.path)}function ah(i,e){const n=ry(e);if(n.get(1)!==i.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new le(sy(n))}function iy(i,e){return Wh(i.databaseId,e)}function r1(i){const e=ry(i);return e.length===4?Ge.emptyPath():sy(e)}function Ch(i){return new Ge(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sy(i){return je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Ap(i,e,n){return{name:Ah(i,e),fields:n.value.mapValue.fields}}function i1(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:de(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(v,E){return v.useProto3Json?(je(E===void 0||typeof E=="string",58123),Nt.fromBase64String(E||"")):(je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Nt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const E=v.code===void 0?z.UNKNOWN:Zg(v.code);return new te(E,v.message||"")})(d);n=new ty(s,a,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ah(i,s.document.name),c=Yn(s.document.updateTime),d=s.document.createTime?Yn(s.document.createTime):ge.min(),g=new gn({mapValue:{fields:s.document.fields}}),_=Ft.newFoundDocument(a,c,d,g),v=s.targetIds||[],E=s.removedTargetIds||[];n=new Yl(v,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ah(i,s.document),c=s.readTime?Yn(s.readTime):ge.min(),d=Ft.newNoDocument(a,c),g=s.removedTargetIds||[];n=new Yl([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ah(i,s.document),c=s.removedTargetIds||[];n=new Yl([],c,a,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new W0(a,c),g=s.targetId;n=new ey(g,d)}}return n}function s1(i,e){let n;if(e instanceof Ea)n={update:Ap(i,e.key,e.value)};else if(e instanceof Jg)n={delete:Ah(i,e.key)};else if(e instanceof Wi)n={update:Ap(i,e.key,e.data),updateMask:m1(e.fieldMask)};else{if(!(e instanceof q0))return de(16599,{Vt:e.type});n={verify:Ah(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof ya)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _a)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof va)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof au)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw de(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:n1(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de(27497)})(i,e.precondition)),n}function o1(i,e){return i&&i.length>0?(je(e!==void 0,14353),i.map((n=>(function(a,c){let d=a.updateTime?Yn(a.updateTime):Yn(c);return d.isEqual(ge.min())&&(d=Yn(c)),new B0(d,a.transformResults||[])})(n,e)))):[]}function a1(i,e){return{documents:[iy(i,e.path)]}}function l1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iy(i,a);const c=(function(v){if(v.length!==0)return ay(Pn.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((E=>(function(V){return{field:Fs(V.field),direction:h1(V.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Sh(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:a}}function u1(i){let e=r1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){je(s===1,65062);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(I){const V=oy(I);return V instanceof Pn&&Lg(V)?V.getFilters():[V]})(n.where));let d=[];n.orderBy&&(d=(function(I){return I.map((V=>(function(Q){return new ga(Bs(Q.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(V)))})(n.orderBy));let g=null;n.limit&&(g=(function(I){let V;return V=typeof I=="object"?I.value:I,gu(V)?null:V})(n.limit));let _=null;n.startAt&&(_=(function(I){const V=!!I.before,F=I.values||[];return new su(F,V)})(n.startAt));let v=null;return n.endAt&&(v=(function(I){const V=!I.before,F=I.values||[];return new su(F,V)})(n.endAt)),k0(e,a,d,c,g,"F",_,v)}function c1(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oy(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bs(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bs(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Bs(n.unaryFilter.field);return mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Bs(n.unaryFilter.field);return mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(i):i.fieldFilter!==void 0?(function(n){return mt.create(Bs(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Pn.create(n.compositeFilter.filters.map((s=>oy(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(n.compositeFilter.op))})(i):de(30097,{filter:i})}function h1(i){return J0[i]}function d1(i){return Z0[i]}function f1(i){return e1[i]}function Fs(i){return{fieldPath:i.canonicalString()}}function Bs(i){return xt.fromServerFormat(i.fieldPath)}function ay(i){return i instanceof mt?(function(n){if(n.op==="=="){if(dp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(hp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(hp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:d1(n.op),value:n.value}}})(i):i instanceof Pn?(function(n){const s=n.getFilters().map((a=>ay(a)));return s.length===1?s[0]:{compositeFilter:{op:f1(n.op),filters:s}}})(i):de(54877,{filter:i})}function m1(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ly(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,a,c=ge.min(),d=ge.min(),g=Nt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.yt=e}}function g1(i){const e=u1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ou(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.Cn=new _1}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ii.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class _1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new vt(Ge.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new vt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uy=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(uy,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qs(0)}static cr(){return new Qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LruGarbageCollector",v1=1048576;function Rp([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class w1{constructor(e){this.Ir=e,this.buffer=new vt(Rp),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Rp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(kp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?ne(kp,"Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.Vr(3e5)}))}}class T1{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(pu.ce);const s=new w1(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Cp)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cp):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,d,g,_,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),a=this.params.maximumSequenceNumbersToCollect):a=I,d=Date.now(),this.nthSequenceNumber(e,a)))).next((I=>(s=I,g=Date.now(),this.removeTargets(e,s,n)))).next((I=>(c=I,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((I=>(v=Date.now(),js()<=Ne.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${a} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:I}))))}}function S1(i,e){return new T1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.changes=new Gi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&ua(s.mutation,a,Rn.empty(),We.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Re()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Re()){const a=Ui();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((c=>{let d=ta();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Ui();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Re())))}populateOverlays(e,n,s){const a=[];return s.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,s,a){let c=Er();const d=la(),g=(function(){return la()})();return n.forEach(((_,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof Wi)?c=c.insert(v.key,v):E!==void 0?(d.set(v.key,E.mutation.getFieldMask()),ua(E.mutation,v,E.mutation.getFieldMask(),We.now())):d.set(v.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,E)=>d.set(v,E))),n.forEach(((v,E)=>g.set(v,new A1(E,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=la();let a=new nt(((d,g)=>d-g)),c=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=n.get(_);if(v===null)return;let E=s.get(_)||Rn.empty();E=g.applyToLocalView(v,E),s.set(_,E);const I=(a.get(g.batchId)||Re()).add(_);a=a.insert(g.batchId,I)}))})).next((()=>{const d=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,E=_.value,I=qg();E.forEach((V=>{if(!c.has(V)){const F=Yg(n.get(V),s.get(V));F!==null&&I.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(d){return le.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ug(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):$.resolve(Ui());let g=da,_=c;return d.next((v=>$.forEach(v,((E,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((V=>{_=_.insert(E,V)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Re()))).next((E=>({batchId:g,changes:$g(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next((s=>{let a=ta();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=ta();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const v=(function(I,V){return new to(V,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((E=>{E.forEach(((I,V)=>{d=d.insert(I,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a)))).next((d=>{c.forEach(((_,v)=>{const E=v.getKey();d.get(E)===null&&(d=d.insert(E,Ft.newInvalidDocument(E)))}));let g=ta();return d.forEach(((_,v)=>{const E=c.get(_);E!==void 0&&ua(E.mutation,v,Rn.empty(),We.now()),vu(n,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Yn(a.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:g1(a.bundledQuery),readTime:Yn(a.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.overlays=new nt(le.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ui();return $.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,c)=>{this.St(e,n,c)})),$.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const a=Ui(),c=n.length+1,d=new le(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>s&&a.set(_.getKey(),_)}return $.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new nt(((v,E)=>v-E));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=c.get(v.largestBatchId);E===null&&(E=Ui(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const g=Ui(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,E)=>g.set(v,E))),!(g.size()>=a)););return $.resolve(g)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new G0(n,s));let c=this.qr.get(n);c===void 0&&(c=Re(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.Qr=new vt(It.$r),this.Ur=new vt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new It(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new le(new Ge([])),s=new It(n,e),a=new It(n,e+1),c=[];return this.Ur.forEachInRange([s,a],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new le(new Ge([])),s=new It(n,e),a=new It(n,e+1);let c=Re();return this.Ur.forEachInRange([s,a],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new It(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return le.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(It.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new H0(c,n,s,a);this.mutationQueue.push(d);for(const g of a)this.Zr=this.Zr.add(new It(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?jh:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new It(n,0),a=new It(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(ke);return n.forEach((a=>{const c=new It(a,0),d=new It(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const d=new It(new le(c),0);let g=new vt(ke);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(a=>{const c=new It(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new It(n,0),a=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.ri=e,this.docs=(function(){return new nt(le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))})),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Er();const d=n.path,g=new le(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:E}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||s0(i0(E),s)<=0||(a.has(E.key)||vu(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de(9500)}ii(e,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new V1(this)}getSize(e){return $.resolve(this.size)}}class V1 extends I1{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.persistence=e,this.si=new Gi((n=>Bh(n)),zh),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new Kh,this.targetCount=0,this.ai=Qs.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)})),$.waitFor(c).next((()=>a))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((d=>{c.push(a.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.ui={},this.overlays={},this.ci=new pu(0),this.li=!1,this.li=!0,this.hi=new P1,this.referenceDelegate=e(this),this.Pi=new D1(this),this.indexManager=new y1,this.remoteDocumentCache=(function(a){return new N1(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new p1(n),this.Ii=new k1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new x1(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ne("MemoryPersistence","Starting transaction:",e);const a=new M1(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class M1 extends a0{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.Ri=new Kh,this.Vi=null}static mi(e){return new Qh(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const a=le.fromPath(s);return this.gi(e,a).next((c=>{c||n.removeEntry(a,ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uu{constructor(e,n){this.persistence=e,this.pi=new Gi((s=>c0(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=S1(this,n)}static mi(e,n){return new uu(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((s,a)=>this.br(e,s,a).next((c=>c?$.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(d=>this.br(e,d,n).next((g=>{g||(s++,c.removeEntry(d,ge.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wl(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return $.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Re(),a=Re();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Yh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Rv()?8:l0(Cv())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,a,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new L1;return this.Ss(e,n,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>c.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(js()<=Ne.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(js()<=Ne.DEBUG&&ne("QueryEngine","Query:",Us(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(js()<=Ne.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):$.resolve())}ys(e,n){if(gp(n))return $.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ou(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Re(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.Ds(n,g);return this.Cs(n,v,d,_.readTime)?this.ys(e,ou(n,null,"F")):this.vs(e,v,n,_)}))))})))))}ws(e,n,s,a){return gp(n)||a.isEqual(ge.min())?$.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,a)?$.resolve(null):(js()<=Ne.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Us(n)),this.vs(e,d,n,r0(a,da)).next((g=>g)))}))}Ds(e,n){let s=new vt(Bg(e));return n.forEach(((a,c)=>{vu(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return js()<=Ne.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Us(n)),this.ps.getDocumentsMatchingQuery(e,n,ii.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="LocalStore",b1=3e8;class j1{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new nt(ke),this.xs=new Gi((c=>Bh(c)),zh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function U1(i,e,n,s){return new j1(i,e,n,s)}async function hy(i,e){const n=_e(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let _=Re();for(const v of a){d.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}for(const v of c){g.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}return n.localDocuments.getDocuments(s,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function F1(i,e){const n=_e(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,E){const I=v.batch,V=I.keys();let F=$.resolve();return V.forEach((Q=>{F=F.next((()=>E.getEntry(_,Q))).next((Y=>{const q=v.docVersions.get(Q);je(q!==null,48541),Y.version.compareTo(q)<0&&(I.applyToRemoteDocument(Y,v),Y.isValidDocument()&&(Y.setReadTime(v.commitVersion),E.addEntry(Y)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,I)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Re();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function dy(i){const e=_e(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function B1(i,e){const n=_e(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const g=[];e.targetChanges.forEach(((E,I)=>{const V=a.get(I);if(!V)return;g.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,I).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,I))));let F=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(I)!==null?F=F.withResumeToken(Nt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,s)),a=a.insert(I,F),(function(Y,q,fe){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=b1?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(V,F,E)&&g.push(n.Pi.updateTargetData(c,F))}));let _=Er(),v=Re();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(z1(c,d,e.documentUpdates).next((E=>{_=E.ks,v=E.qs}))),!s.isEqual(ge.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((I=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(n.Ms=a,c)))}function z1(i,e,n){let s=Re(),a=Re();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let d=Er();return n.forEach(((g,_)=>{const v=c.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual(ge.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ne(Xh,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:a}}))}function $1(i,e){const n=_e(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=jh),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function q1(i,e){const n=_e(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((c=>c?(a=c,$.resolve(a)):n.Pi.allocateTargetId(s).next((d=>(a=new Zr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function kh(i,e,n){const s=_e(i),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!eo(d))throw d;ne(Xh,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Pp(i,e,n){const s=_e(i);let a=ge.min(),c=Re();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,E){const I=_e(_),V=I.xs.get(E);return V!==void 0?$.resolve(I.Ms.get(V)):I.Pi.getTargetData(v,E)})(s,d,Qn(e)).next((g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?a:ge.min(),n?c:Re()))).next((g=>(H1(s,P0(e),g),{documents:g,Qs:c})))))}function H1(i,e,n){let s=i.Os.get(e)||ge.min();n.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class xp{constructor(){this.activeTargetIds=L0()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G1{constructor(){this.Mo=new xp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="ConnectivityMonitor";class Vp{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(Np,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(Np,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=null;function Rh(){return Hl===null?Hl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hl++,"0x"+Hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="RestConnection",K1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q1{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ru?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const d=Rh(),g=this.zo(e,n.toUriEncodedString());ne(lh,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,a,c);const{host:v}=new URL(g),E=Mh(v);return this.Jo(e,g,_,s,E).then((I=>(ne(lh,`Received RPC '${e}' ${d}: `,I),I)),(I=>{throw Hs(lh,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",s),I}))}Ho(e,n,s,a,c,d){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Js})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),s&&s.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const s=K1[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class X1 extends Q1{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const d=Rh();return new Promise(((g,_)=>{const v=new mg;v.setWithCredentials(!0),v.listenOnce(pg.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Gl.NO_ERROR:const I=v.getResponseJson();ne(jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case Gl.TIMEOUT:ne(jt,`RPC '${e}' ${d} timed out`),_(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const V=v.getStatus();if(ne(jt,`RPC '${e}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const Q=F==null?void 0:F.error;if(Q&&Q.status&&Q.message){const Y=(function(fe){const pe=fe.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(pe)>=0?pe:z.UNKNOWN})(Q.status);_(new te(Y,Q.message))}else _(new te(z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new te(z.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ne(jt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(a);ne(jt,`RPC '${e}' ${d} sending request:`,a),v.send(n,"POST",E,s,15)}))}T_(e,n,s){const a=Rh(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_g(),g=yg(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const E=c.join("");ne(jt,`Creating RPC '${e}' stream ${a}: ${E}`,_);const I=d.createWebChannel(E,_);this.I_(I);let V=!1,F=!1;const Q=new Y1({Yo:q=>{F?ne(jt,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(V||(ne(jt,`Opening RPC '${e}' stream ${a} transport.`),I.open(),V=!0),ne(jt,`RPC '${e}' stream ${a} sending:`,q),I.send(q))},Zo:()=>I.close()}),Y=(q,fe,pe)=>{q.listen(fe,(ve=>{try{pe(ve)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return Y(I,ea.EventType.OPEN,(()=>{F||(ne(jt,`RPC '${e}' stream ${a} transport opened.`),Q.o_())})),Y(I,ea.EventType.CLOSE,(()=>{F||(F=!0,ne(jt,`RPC '${e}' stream ${a} transport closed`),Q.a_(),this.E_(I))})),Y(I,ea.EventType.ERROR,(q=>{F||(F=!0,Hs(jt,`RPC '${e}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),Q.a_(new te(z.UNAVAILABLE,"The operation could not be completed")))})),Y(I,ea.EventType.MESSAGE,(q=>{var fe;if(!F){const pe=q.data[0];je(!!pe,16349);const ve=pe,Se=(ve==null?void 0:ve.error)||((fe=ve[0])==null?void 0:fe.error);if(Se){ne(jt,`RPC '${e}' stream ${a} received error:`,Se);const Fe=Se.status;let Ie=(function(C){const N=ft[C];if(N!==void 0)return Zg(N)})(Fe),R=Se.message;Ie===void 0&&(Ie=z.INTERNAL,R="Unknown error status: "+Fe+" with message "+Se.message),F=!0,Q.a_(new te(Ie,R)),I.close()}else ne(jt,`RPC '${e}' stream ${a} received:`,pe),Q.u_(pe)}})),Y(g,gg.STAT_EVENT,(q=>{q.stat===gh.PROXY?ne(jt,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===gh.NOPROXY&&ne(jt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){return new t1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="PersistentStream";class my{constructor(e,n,s,a,c,d,g,_){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fy(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new te(z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne(Dp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ne(Dp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J1 extends my{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i1(this.serializer,e),s=(function(c){if(!("targetChange"in c))return ge.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ge.min():d.readTime?Yn(d.readTime):ge.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Ch(this.serializer),n.addTarget=(function(c,d){let g;const _=d.target;if(g=Eh(_)?{documents:a1(c,_)}:{query:l1(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=ny(c,d.resumeToken);const v=Sh(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(ge.min())>0){g.readTime=lu(c,d.snapshotVersion.toTimestamp());const v=Sh(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const s=c1(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Ch(this.serializer),n.removeTarget=e,this.q_(n)}}class Z1 extends my{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o1(e.writeResults,e.commitTime),s=Yn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ch(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>s1(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{}class tE extends eE{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Ih(n,s),a,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new te(z.UNKNOWN,c.toString())}))}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Ih(n,s),a,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new te(z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="RemoteStore";class rE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ki(this)&&(ne(qi,"Restarting streams for network reachability change."),await(async function(_){const v=_e(_);v.Ea.add(4),await Sa(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Iu(v)})(this))}))})),this.Ra=new nE(s,a)}}async function Iu(i){if(Ki(i))for(const e of i.da)await e(!0)}async function Sa(i){for(const e of i.da)await e(!1)}function py(i,e){const n=_e(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),td(n)?ed(n):no(n).O_()&&Zh(n,e))}function Jh(i,e){const n=_e(i),s=no(n);n.Ia.delete(e),s.O_()&&gy(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ki(n)&&n.Ra.set("Unknown"))}function Zh(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}no(i).Y_(e)}function gy(i,e){i.Va.Ue(e),no(i).Z_(e)}function ed(i){i.Va=new X0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),no(i).start(),i.Ra.ua()}function td(i){return Ki(i)&&!no(i).x_()&&i.Ia.size>0}function Ki(i){return _e(i).Ea.size===0}function yy(i){i.Va=void 0}async function iE(i){i.Ra.set("Online")}async function sE(i){i.Ia.forEach(((e,n)=>{Zh(i,e)}))}async function oE(i,e){yy(i),td(i)?(i.Ra.ha(e),ed(i)):i.Ra.set("Unknown")}async function aE(i,e,n){if(i.Ra.set("Online"),e instanceof ty&&e.state===2&&e.cause)try{await(async function(a,c){const d=c.cause;for(const g of c.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,d),a.Ia.delete(g),a.Va.removeTarget(g))})(i,e)}catch(s){ne(qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cu(i,s)}else if(e instanceof Yl?i.Va.Ze(e):e instanceof ey?i.Va.st(e):i.Va.tt(e),!n.isEqual(ge.min()))try{const s=await dy(i.localStore);n.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(v);E&&c.Ia.set(v,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(Nt.EMPTY_BYTE_STRING,E.snapshotVersion)),gy(c,_);const I=new Zr(E.target,_,v,E.sequenceNumber);Zh(c,I)})),c.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(s){ne(qi,"Failed to raise snapshot:",s),await cu(i,s)}}async function cu(i,e,n){if(!eo(e))throw e;i.Ea.add(1),await Sa(i),i.Ra.set("Offline"),n||(n=()=>dy(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ne(qi,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Iu(i)}))}function _y(i,e){return e().catch((n=>cu(i,n,e)))}async function Au(i){const e=_e(i),n=li(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jh;for(;lE(e);)try{const a=await $1(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,uE(e,a)}catch(a){await cu(e,a)}vy(e)&&wy(e)}function lE(i){return Ki(i)&&i.Ta.length<10}function uE(i,e){i.Ta.push(e);const n=li(i);n.O_()&&n.X_&&n.ea(e.mutations)}function vy(i){return Ki(i)&&!li(i).x_()&&i.Ta.length>0}function wy(i){li(i).start()}async function cE(i){li(i).ra()}async function hE(i){const e=li(i);for(const n of i.Ta)e.ea(n.mutations)}async function dE(i,e,n){const s=i.Ta.shift(),a=Hh.from(s,e,n);await _y(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await Au(i)}async function fE(i,e){e&&li(i).X_&&await(async function(s,a){if((function(d){return K0(d)&&d!==z.ABORTED})(a.code)){const c=s.Ta.shift();li(s).B_(),await _y(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Au(s)}})(i,e),vy(i)&&wy(i)}async function Mp(i,e){const n=_e(i);n.asyncQueue.verifyOperationInProgress(),ne(qi,"RemoteStore received new credentials");const s=Ki(n);n.Ea.add(3),await Sa(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Iu(n)}async function mE(i,e){const n=_e(i);e?(n.Ea.delete(2),await Iu(n)):e||(n.Ea.add(2),await Sa(n),n.Ra.set("Unknown"))}function no(i){return i.ma||(i.ma=(function(n,s,a){const c=_e(n);return c.sa(),new J1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:iE.bind(null,i),t_:sE.bind(null,i),r_:oE.bind(null,i),H_:aE.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),td(i)?ed(i):i.Ra.set("Unknown")):(await i.ma.stop(),yy(i))}))),i.ma}function li(i){return i.fa||(i.fa=(function(n,s,a){const c=_e(n);return c.sa(),new Z1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:cE.bind(null,i),r_:fE.bind(null,i),ta:hE.bind(null,i),na:dE.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Au(i)):(await i.fa.stop(),i.Ta.length>0&&(ne(qi,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,g=new nd(e,n,d,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rd(i,e){if(wr("AsyncQueue",`${e}: ${i}`),eo(i))return new te(z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static emptySet(e){return new $s(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=ta(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $s;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.ga=new nt(le.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ys{constructor(e,n,s,a,c,d,g,_,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new Ys(e,n,$s.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gE{constructor(){this.queries=Op(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=_e(n),c=a.queries;a.queries=Op(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new te(z.ABORTED,"Firestore shutting down"))}}function Op(){return new Gi((i=>Fg(i)),_u)}async function yE(i,e){const n=_e(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new pE,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const g=rd(d,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&id(n)}async function _E(i,e){const n=_e(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vE(i,e){const n=_e(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(a)&&(s=!0);d.wa=a}}s&&id(n)}function wE(i,e,n){const s=_e(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function id(i){i.Ca.forEach((e=>{e.next()}))}var Ph,bp;(bp=Ph||(Ph={})).Ma="default",bp.Cache="cache";class EE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ys(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ph.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.key=e}}class Ty{constructor(e){this.key=e}}class TE{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=Bg(e),this.tu=new $s(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Lp,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,g=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,I)=>{const V=a.get(E),F=vu(this.query,I)?I:null,Q=!!V&&this.mutatedKeys.has(V.key),Y=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let q=!1;V&&F?V.data.isEqual(F.data)?Q!==Y&&(s.track({type:3,doc:F}),q=!0):this.su(V,F)||(s.track({type:2,doc:F}),q=!0,(_&&this.eu(F,_)>0||v&&this.eu(F,v)<0)&&(g=!0)):!V&&F?(s.track({type:0,doc:F}),q=!0):V&&!F&&(s.track({type:1,doc:V}),q=!0,(_||v)&&(g=!0)),q&&(F?(d=d.add(F),c=Y?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,I)=>(function(F,Q){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:q})}};return Y(F)-Y(Q)})(E.type,I.type)||this.eu(E.doc,I.doc))),this.ou(s),a=a??!1;const g=n&&!a?this._u():[],_=this.Xa.size===0&&this.current&&!a?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Ys(this.query,e.tu,c,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Ty(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Ey(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ys.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sd="SyncEngine";class SE{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class IE{constructor(e){this.key=e,this.hu=!1}}class AE{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gi((g=>Fg(g)),_u),this.Iu=new Map,this.Eu=new Set,this.du=new nt(le.comparator),this.Au=new Map,this.Ru=new Kh,this.Vu={},this.mu=new Map,this.fu=Qs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CE(i,e,n=!0){const s=Ry(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await Sy(s,e,n,!0),a}async function kE(i,e){const n=Ry(i);await Sy(n,e,!0,!1)}async function Sy(i,e,n,s){const a=await q1(i.localStore,Qn(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await RE(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&py(i.remoteStore,a),g}async function RE(i,e,n,s,a){i.pu=(I,V,F)=>(async function(Y,q,fe,pe){let ve=q.view.ru(fe);ve.Cs&&(ve=await Pp(Y.localStore,q.query,!1).then((({documents:R})=>q.view.ru(R,ve))));const Se=pe&&pe.targetChanges.get(q.targetId),Fe=pe&&pe.targetMismatches.get(q.targetId)!=null,Ie=q.view.applyChanges(ve,Y.isPrimaryClient,Se,Fe);return Up(Y,q.targetId,Ie.au),Ie.snapshot})(i,I,V,F);const c=await Pp(i.localStore,e,!0),d=new TE(e,c.Qs),g=d.ru(c.documents),_=Ta.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=d.applyChanges(g,i.isPrimaryClient,_);Up(i,n,v.au);const E=new SE(e,n,d);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function PE(i,e,n){const s=_e(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter((d=>!_u(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await kh(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Jh(s.remoteStore,a.targetId),xh(s,a.targetId)})).catch(Zs)):(xh(s,a.targetId),await kh(s.localStore,a.targetId,!0))}async function xE(i,e){const n=_e(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jh(n.remoteStore,s.targetId))}async function NE(i,e,n){const s=jE(i);try{const a=await(function(d,g){const _=_e(d),v=We.now(),E=g.reduce(((F,Q)=>F.add(Q.key)),Re());let I,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Q=Er(),Y=Re();return _.Ns.getEntries(F,E).next((q=>{Q=q,Q.forEach(((fe,pe)=>{pe.isValidDocument()||(Y=Y.add(fe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Q))).next((q=>{I=q;const fe=[];for(const pe of g){const ve=$0(pe,I.get(pe.key).overlayedDocument);ve!=null&&fe.push(new Wi(pe.key,ve,Vg(ve.value.mapValue),_r.exists(!0)))}return _.mutationQueue.addMutationBatch(F,v,fe,g)})).next((q=>{V=q;const fe=q.applyToLocalDocumentSet(I,Y);return _.documentOverlayCache.saveOverlays(F,q.batchId,fe)}))})).then((()=>({batchId:V.batchId,changes:$g(I)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(d,g,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new nt(ke)),v=v.insert(g,_),d.Vu[d.currentUser.toKey()]=v})(s,a.batchId,n),await Ia(s,a.changes),await Au(s.remoteStore)}catch(a){const c=rd(a,"Failed to persist write");n.reject(c)}}async function Iy(i,e){const n=_e(i);try{const s=await B1(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const d=n.Au.get(c);d&&(je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.hu=!0:a.modifiedDocuments.size>0?je(d.hu,14607):a.removedDocuments.size>0&&(je(d.hu,42227),d.hu=!1))})),await Ia(n,s,e)}catch(s){await Zs(s)}}function jp(i,e,n){const s=_e(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&a.push(g.snapshot)})),(function(d,g){const _=_e(d);_.onlineState=g;let v=!1;_.queries.forEach(((E,I)=>{for(const V of I.Sa)V.va(g)&&(v=!0)})),v&&id(_)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VE(i,e,n){const s=_e(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let d=new nt(le.comparator);d=d.insert(c,Ft.newNoDocument(c,ge.min()));const g=Re().add(c),_=new Tu(ge.min(),new Map,new nt(ke),d,g);await Iy(s,_),s.du=s.du.remove(c),s.Au.delete(e),od(s)}else await kh(s.localStore,e,!1).then((()=>xh(s,e,n))).catch(Zs)}async function DE(i,e){const n=_e(i),s=e.batch.batchId;try{const a=await F1(n.localStore,e);Cy(n,s,null),Ay(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ia(n,a)}catch(a){await Zs(a)}}async function ME(i,e,n){const s=_e(i);try{const a=await(function(d,g){const _=_e(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return _.mutationQueue.lookupMutationBatch(v,g).next((I=>(je(I!==null,37113),E=I.keys(),_.mutationQueue.removeMutationBatch(v,I)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>_.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);Cy(s,e,n),Ay(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ia(s,a)}catch(a){await Zs(a)}}function Ay(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Cy(i,e,n){const s=_e(i);let a=s.Vu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function xh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||ky(i,s)}))}function ky(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Jh(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),od(i))}function Up(i,e,n){for(const s of n)s instanceof Ey?(i.Ru.addReference(s.key,e),LE(i,s)):s instanceof Ty?(ne(sd,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||ky(i,s.key)):de(19791,{wu:s})}function LE(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ne(sd,"New document in limbo: "+n),i.Eu.add(s),od(i))}function od(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new le(Ge.fromString(e)),s=i.fu.next();i.Au.set(s,new IE(n)),i.du=i.du.insert(n,s),py(i.remoteStore,new Zr(Qn($h(n.path)),s,"TargetPurposeLimboResolution",pu.ce))}}async function Ia(i,e,n){const s=_e(i),a=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,e,n).then((v=>{var E;if((v||n)&&s.isPrimaryClient){const I=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(_.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){a.push(v);const I=Yh.As(_.targetId,v);c.push(I)}})))})),await Promise.all(d),s.Pu.H_(a),await(async function(_,v){const E=_e(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>$.forEach(v,(V=>$.forEach(V.Es,(F=>E.persistence.referenceDelegate.addReference(I,V.targetId,F))).next((()=>$.forEach(V.ds,(F=>E.persistence.referenceDelegate.removeReference(I,V.targetId,F)))))))))}catch(I){if(!eo(I))throw I;ne(Xh,"Failed to update sequence numbers: "+I)}for(const I of v){const V=I.targetId;if(!I.fromCache){const F=E.Ms.get(V),Q=F.snapshotVersion,Y=F.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(V,Y)}}})(s.localStore,c))}async function OE(i,e){const n=_e(i);if(!n.currentUser.isEqual(e)){ne(sd,"User change. New user:",e.toKey());const s=await hy(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new te(z.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ia(n,s.Ls)}}function bE(i,e){const n=_e(i),s=n.Au.get(e);if(s&&s.hu)return Re().add(s.key);{let a=Re();const c=n.Iu.get(e);if(!c)return a;for(const d of c){const g=n.Tu.get(d);a=a.unionWith(g.view.nu)}return a}}function Ry(i){const e=_e(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VE.bind(null,e),e.Pu.H_=vE.bind(null,e.eventManager),e.Pu.yu=wE.bind(null,e.eventManager),e}function jE(i){const e=_e(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ME.bind(null,e),e}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return U1(this.persistence,new O1,e.initialUser,this.serializer)}Cu(e){return new cy(Qh.mi,this.serializer)}Du(e){return new G1}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class UE extends hu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof uu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new E1(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new cy((s=>uu.mi(s,n)),this.serializer)}}class Nh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OE.bind(null,this.syncEngine),await mE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gE})()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),s=(function(c){return new X1(c)})(e.databaseInfo);return(function(c,d,g,_){return new tE(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,c,d,g){return new rE(s,a,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>jp(this.syncEngine,n,0)),(function(){return Vp.v()?new Vp:new W1})())}createSyncEngine(e,n){return(function(a,c,d,g,_,v,E){const I=new AE(a,c,d,g,_,v);return E&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const c=_e(a);ne(qi,"RemoteStore shutting down."),c.Ea.add(5),await Sa(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Nh.provider={build:()=>new Nh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="FirestoreClient";class BE{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ut.UNAUTHENTICATED,this.clientId=bh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ne(ui,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ne(ui,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=rd(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ch(i,e){i.asyncQueue.verifyOperationInProgress(),ne(ui,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await hy(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Fp(i,e){i.asyncQueue.verifyOperationInProgress();const n=await zE(i);ne(ui,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Mp(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>Mp(e.remoteStore,a))),i._onlineComponents=e}async function zE(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ne(ui,"Using user provided OfflineComponentProvider");try{await ch(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===z.FAILED_PRECONDITION||a.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),await ch(i,new hu)}}else ne(ui,"Using default OfflineComponentProvider"),await ch(i,new UE(void 0));return i._offlineComponents}async function Py(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ne(ui,"Using user provided OnlineComponentProvider"),await Fp(i,i._uninitializedComponentsProvider._online)):(ne(ui,"Using default OnlineComponentProvider"),await Fp(i,new Nh))),i._onlineComponents}function $E(i){return Py(i).then((e=>e.syncEngine))}async function Bp(i){const e=await Py(i),n=e.eventManager;return n.onListen=CE.bind(null,e.syncEngine),n.onUnlisten=PE.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kE.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xE.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="firestore.googleapis.com",$p=!0;class qp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ny,this.ssl=$p}else this.host=e.host,this.ssl=e.ssl??$p;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v1)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xy(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Gw;switch(s.type){case"firstParty":return new Yw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zp.get(n);s&&(ne("ComponentProvider","Removing Datastore"),zp.delete(n),s.terminate())})(this),Promise.resolve()}}function qE(i,e,n,s={}){var v;i=sa(i,Cu);const a=Mh(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;a&&(Ev(`https://${g}`),Av("Firestore",!0)),c.host!==Ny&&c.host!==g&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:a,emulatorOptions:s};if(!Zl(_,d)&&(i._setSettings(_),s.mockUserToken)){let E,I;if(typeof s.mockUserToken=="string")E=s.mockUserToken,I=Ut.MOCK_USER;else{E=Tv(s.mockUserToken,(v=i._app)==null?void 0:v.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Ut(V)}i._authCredentials=new Ww(new wg(E,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wa(n,_t._jsonSchema))return new _t(e,s||null,new le(Ge.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:pt("string",_t._jsonSchemaVersion),referencePath:pt("string")};class ri extends ci{constructor(e,n,s){super(e,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new le(e))}withConverter(e){return new ri(this.firestore,e,this._path)}}function HE(i,e,...n){if(i=zi(i),Eg("collection","path",e),i instanceof Cu){const s=Ge.fromString(e,...n);return np(s),new ri(i,null,s)}{if(!(i instanceof _t||i instanceof ri))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return np(s),new ri(i.firestore,null,s)}}function GE(i,e,...n){if(i=zi(i),arguments.length===1&&(e=bh.newId()),Eg("doc","path",e),i instanceof Cu){const s=Ge.fromString(e,...n);return tp(s),new _t(i,null,new le(s))}{if(!(i instanceof _t||i instanceof ri))throw new te(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return tp(s),new _t(i.firestore,i instanceof ri?i.converter:null,new le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="AsyncQueue";class Gp{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fy(this,"async_queue_retry"),this._c=()=>{const s=uh();s&&ne(Hp,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=uh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eo(e))throw e;ne(Hp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",Wp(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=nd.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&de(47125,{Pc:Wp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Wp(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1})(i,["next","error","complete"])}class du extends Cu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Gp,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gp(e),this._firestoreClient=void 0,await e}}}function WE(i,e){const n=typeof i=="object"?i:Lw(),s=typeof i=="string"?i:ru,a=xw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=vv("firestore");c&&qE(a,...c)}return a}function Vy(i){if(i._terminated)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||KE(i),i._firestoreClient}function KE(i){var s,a,c;const e=i._freezeSettings(),n=(function(g,_,v,E){return new f0(g,_,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xy(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new BE(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(Nt.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wa(e,yn._jsonSchema))return yn.fromBase64String(e.bytes)}}yn._jsonSchemaVersion="firestore/bytes/1.0",yn._jsonSchema={type:pt("string",yn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if(wa(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:pt("string",Xn._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wa(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Jn(e.vectorValues);throw new te(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:pt("string",Jn._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=/^__.*__$/;class YE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ea(e,this.data,n,this.fieldTransforms)}}function Dy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:i})}}class ud{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ud({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Dy(this.Ac)&&QE.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XE{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Su(e)}Cc(e,n,s,a=!1){return new ud({Ac:e,methodName:n,Dc:s,path:xt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(i){const e=i._freezeSettings(),n=Su(i._databaseId);return new XE(i._databaseId,!!e.ignoreUndefinedProperties,n)}function JE(i,e,n,s,a,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,a);by("Data must be an object, but it was:",d,s);const g=Ly(s,d);let _,v;if(c.merge)_=new Rn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const I of c.mergeFields){const V=eT(e,I,n);if(!d.contains(V))throw new te(z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);nT(E,V)||E.push(V)}_=new Rn(E),v=d.fieldTransforms.filter((I=>_.covers(I.field)))}else _=null,v=d.fieldTransforms;return new YE(new gn(g),_,v)}class cd extends ld{_toFieldTransform(e){return new U0(e.path,new ya)}isEqual(e){return e instanceof cd}}function ZE(i,e,n,s=!1){return hd(n,i.Cc(s?4:3,e))}function hd(i,e){if(Oy(i=zi(i)))return by("Unsupported field value:",e,i),Ly(i,e);if(i instanceof ld)return(function(s,a){if(!Dy(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const c=[];let d=0;for(const g of s){let _=hd(g,a.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(i,e)}return(function(s,a){if((s=zi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return O0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=We.fromDate(s);return{timestampValue:lu(a.serializer,c)}}if(s instanceof We){const c=new We(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lu(a.serializer,c)}}if(s instanceof Xn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yn)return{bytesValue:ny(a.serializer,s._byteString)};if(s instanceof _t){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Jn)return(function(d,g){return{mapValue:{fields:{[xg]:{stringValue:Ng},[iu]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return qh(g.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${mu(s)}`)})(i,e)}function Ly(i,e){const n={};return Ig(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(i,((s,a)=>{const c=hd(a,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function Oy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof We||i instanceof Xn||i instanceof yn||i instanceof _t||i instanceof ld||i instanceof Jn)}function by(i,e,n){if(!Oy(n)||!Tg(n)){const s=mu(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function eT(i,e,n){if((e=zi(e))instanceof ad)return e._internalPath;if(typeof e=="string")return jy(i,e);throw fu("Field path arguments must be of type string or ",i,!1,void 0,n)}const tT=new RegExp("[~\\*/\\[\\]]");function jy(i,e,n){if(e.search(tT)>=0)throw fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function fu(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${a}`),_+=")"),new te(z.INVALID_ARGUMENT,g+i+_)}function nT(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rT extends Uy{data(){return super.data()}}function dd(i,e){return typeof e=="string"?jy(i,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fd{}class md extends fd{}function sT(i,e,...n){let s=[];e instanceof fd&&s.push(e),s=s.concat(n),(function(c){const d=c.filter((_=>_ instanceof gd)).length,g=c.filter((_=>_ instanceof pd)).length;if(d>1||d>0&&g>0)throw new te(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)i=a._apply(i);return i}class pd extends md{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new pd(e,n,s)}_apply(e){const n=this._parse(e);return Fy(e._query,n),new ci(e.firestore,e.converter,Th(e._query,n))}_parse(e){const n=My(e.firestore);return(function(c,d,g,_,v,E,I){let V;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new te(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Xp(I,E);const Q=[];for(const Y of I)Q.push(Yp(_,c,Y));V={arrayValue:{values:Q}}}else V=Yp(_,c,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Xp(I,E),V=ZE(g,d,I,E==="in"||E==="not-in");return mt.create(v,E,V)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gd extends fd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gd(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let d=a;const g=c.getFlattenedFilters();for(const _ of g)Fy(d,_),d=Th(d,_)})(e._query,n),new ci(e.firestore,e.converter,Th(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yd extends md{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yd(e,n)}_apply(e){const n=(function(a,c,d){if(a.startAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ga(c,d)})(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,(function(a,c){const d=a.explicitOrderBy.concat([c]);return new to(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Qp(i,e="asc"){const n=e,s=dd("orderBy",i);return yd._create(s,n)}class _d extends md{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new _d(e,n,s)}_apply(e){return new ci(e.firestore,e.converter,ou(e._query,this._limit,this._limitType))}}function oT(i){return _d._create("limit",i,"F")}function Yp(i,e,n){if(typeof(n=zi(n))=="string"){if(n==="")throw new te(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ug(e)&&n.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ge.fromString(n));if(!le.isDocumentKey(s))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cp(i,new le(s))}if(n instanceof _t)return cp(i,n._key);throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mu(n)}.`)}function Xp(i,e){if(!Array.isArray(i)||i.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fy(i,e){const n=(function(a,c){for(const d of a)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aT{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Hi(e,((a,c)=>{s[a]=this.convertValue(c,n)})),s}convertVectorValue(e){var s,a,c;const n=(c=(a=(s=e.fields)==null?void 0:s[iu].arrayValue)==null?void 0:a.values)==null?void 0:c.map((d=>ut(d.doubleValue)));return new Jn(n)}convertGeoPoint(e){return new Xn(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fa(e));default:return null}}convertTimestamp(e){const n=si(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);je(ly(s),9688,{name:e});const a=new ma(s.get(1),s.get(3)),c=new le(s.popFirst(5));return a.isEqual(n)||wr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bi extends Uy{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(dd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bi._jsonSchema={type:pt("string",Bi._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class Xl extends Bi{data(e={}){return super.data(e)}}class qs{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ra(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Xl(this._firestore,this._userDataWriter,s.key,s,new ra(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((g=>{const _=new Xl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ra(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Xl(a._firestore,a._userDataWriter,g.doc.key,g.doc,new ra(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:uT(g.type),doc:_,oldIndex:v,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:i})}}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:pt("string",qs._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class By extends aT{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function cT(i,e){const n=sa(i.firestore,du),s=GE(i),a=lT(i.converter,e);return dT(n,[JE(My(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then((()=>s))}function hT(i,...e){var _,v,E;i=zi(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Kp(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kp(e[s])){const I=e[s];e[s]=(_=I.next)==null?void 0:_.bind(I),e[s+1]=(v=I.error)==null?void 0:v.bind(I),e[s+2]=(E=I.complete)==null?void 0:E.bind(I)}let c,d,g;if(i instanceof _t)d=sa(i.firestore,du),g=$h(i._key.path),c={next:I=>{e[s]&&e[s](fT(d,i,I))},error:e[s+1],complete:e[s+2]};else{const I=sa(i,ci);d=sa(I.firestore,du),g=I._query;const V=new By(d);c={next:F=>{e[s]&&e[s](new qs(d,V,I,F))},error:e[s+1],complete:e[s+2]},iT(i._query)}return(function(V,F,Q,Y){const q=new FE(Y),fe=new EE(F,q,Q);return V.asyncQueue.enqueueAndForget((async()=>yE(await Bp(V),fe))),()=>{q.Nu(),V.asyncQueue.enqueueAndForget((async()=>_E(await Bp(V),fe)))}})(Vy(d),g,a,c)}function dT(i,e){return(function(s,a){const c=new Fi;return s.asyncQueue.enqueueAndForget((async()=>NE(await $E(s),a,c))),c.promise})(Vy(i),e)}function fT(i,e,n){const s=n.docs.get(e._key),a=new By(i);return new Bi(i,a,e._key,s,new ra(n.hasPendingWrites,n.fromCache),e.converter)}function mT(){return new cd("serverTimestamp")}(function(e,n=!0){(function(a){Js=a})(Mw),tu(new ca("firestore",((s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new du(new Kw(s.getProvider("auth-internal")),new Xw(d,s.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ma(v.options.projectId,E)})(d,a),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),zs(Xm,Jm,e),zs(Xm,Jm,"esm2020")})();var pT="firebase",gT="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(pT,gT,"app");const yT={apiKey:"AIzaSyA66dkKe1DqGXm8LhcOAjdIkQ_f21jJSKY",authDomain:"meme-higher-lower.firebaseapp.com",projectId:"meme-higher-lower",storageBucket:"meme-higher-lower.firebasestorage.app",messagingSenderId:"461091057554",appId:"1:461091057554:web:23826ec1c26dcffeb19b4b"},_T=cg(yT),vT=WE(_T),Jp=10,wT=20,ET=176,Zp=HE(vT,"leaderboard");function TT(i){return i.trim().slice(0,wT).replace(/[<>]/g,"")}function ST(i){return typeof i=="number"&&Number.isInteger(i)&&i>=0&&i<=ET}function IT(){const[i,e]=Le.useState([]),[n,s]=Le.useState(null),[a,c]=Le.useState(!0);Le.useEffect(()=>{const v=sT(Zp,Qp("score","desc"),Qp("timestamp","asc"),oT(Jp)),E=hT(v,I=>{const V=I.docs.map(F=>{const Q=F.data();return{id:F.id,playerName:Q.playerName,score:Q.score,timestamp:Q.timestamp instanceof We?Q.timestamp.toMillis():Date.now()}});e(V),c(!1)},I=>{console.error("Error fetching leaderboard:",I),c(!1)});return()=>E()},[]);const d=Le.useCallback(async(v,E)=>{if(!ST(E))return console.warn("Invalid score rejected:",E),null;const I=TT(v);if(!I)return null;try{const F={id:(await cT(Zp,{playerName:I,score:E,timestamp:mT()})).id,playerName:I,score:E,timestamp:Date.now()};return s(F),F}catch(V){return console.error("Error adding leaderboard entry:",V),null}},[]),g=Le.useCallback(v=>{const E=i.findIndex(I=>I.id===v);return E>=0?E+1:null},[i]),_=Le.useCallback(v=>{var I;if(v<=0)return!1;if(i.length<Jp)return!0;const E=((I=i[i.length-1])==null?void 0:I.score)??0;return v>E},[i]);return{entries:i,lastAddedEntry:n,addEntry:d,getPlayerRank:g,isScoreWorthy:_,isLoading:a}}const AT="_container_1bcsa_1",CT="_content_1bcsa_9",kT="_title_1bcsa_26",RT="_highlight_1bcsa_34",PT="_description_1bcsa_41",xT="_instructions_1bcsa_48",NT="_instruction_1bcsa_48",VT="_instructionNumber_1bcsa_66",DT="_highScore_1bcsa_80",MT="_highScoreValue_1bcsa_86",LT="_playButton_1bcsa_92",qt={container:AT,content:CT,title:kT,highlight:RT,description:PT,instructions:xT,instruction:NT,instructionNumber:VT,highScore:DT,highScoreValue:MT,playButton:LT};function OT({onStart:i,highScore:e}){return B.jsx("div",{className:qt.container,children:B.jsxs("div",{className:qt.content,children:[B.jsxs("h1",{className:qt.title,children:["Meme",B.jsx("br",{}),B.jsx("span",{className:qt.highlight,children:"Higher or Lower"})]}),B.jsxs("p",{className:qt.description,children:["Guess which meme has more page views on KnowYourMeme.",B.jsx("br",{}),"How long can you keep your streak going?"]}),B.jsxs("div",{className:qt.instructions,children:[B.jsxs("div",{className:qt.instruction,children:[B.jsx("span",{className:qt.instructionNumber,children:"1"}),B.jsx("span",{children:"You'll see two memes side by side"})]}),B.jsxs("div",{className:qt.instruction,children:[B.jsx("span",{className:qt.instructionNumber,children:"2"}),B.jsx("span",{children:"Guess if the second meme has higher or lower page views"})]}),B.jsxs("div",{className:qt.instruction,children:[B.jsx("span",{className:qt.instructionNumber,children:"3"}),B.jsx("span",{children:"Get it right to continue your streak!"})]})]}),e>0&&B.jsxs("div",{className:qt.highScore,children:["Your High Score: ",B.jsx("span",{className:qt.highScoreValue,children:e})]}),B.jsx("button",{className:qt.playButton,onClick:i,children:"Play Now"})]})})}function bT(i){return i>=1e9?(i/1e9).toFixed(1).replace(/\.0$/,"")+"B":i>=1e6?(i/1e6).toFixed(1).replace(/\.0$/,"")+"M":i>=1e3?(i/1e3).toFixed(1).replace(/\.0$/,"")+"K":i.toLocaleString()}const jT="_card_arkgt_1",UT="_correct_arkgt_17",FT="_incorrect_arkgt_22",BT="_revealing_arkgt_27",zT="_imageContainer_arkgt_31",$T="_imagePlaceholder_arkgt_38",qT="_spinner_arkgt_47",HT="_image_arkgt_31",GT="_imageLoaded_arkgt_71",WT="_content_arkgt_75",KT="_title_arkgt_83",QT="_description_arkgt_90",YT="_viewCount_arkgt_96",XT="_viewLabel_arkgt_104",JT="_viewNumber_arkgt_111",ZT="_buttonGroup_arkgt_118",eS="_button_arkgt_118",tS="_buttonHigher_arkgt_143",nS="_buttonLower_arkgt_153",rS="_vsLabel_arkgt_163",lt={card:jT,correct:UT,incorrect:FT,revealing:BT,imageContainer:zT,imagePlaceholder:$T,spinner:qT,image:HT,imageLoaded:GT,content:WT,title:KT,description:QT,viewCount:YT,viewLabel:XT,viewNumber:JT,buttonGroup:ZT,button:eS,buttonHigher:tS,buttonLower:nS,vsLabel:rS};function eg({meme:i,showViewCount:e,isReference:n,onGuessHigher:s,onGuessLower:a,isRevealing:c,revealResult:d}){const[g,_]=Le.useState(!1),[v,E]=Le.useState(!1),I=()=>{!g&&i.fallbackImageUrl&&_(!0)},V="/memes/".endsWith("/")?"/memes/".slice(0,-1):"/memes/",F=g&&i.fallbackImageUrl?i.fallbackImageUrl:i.imageUrl,Q=F.startsWith("/")?`${V}${F}`:F,Y=[lt.card,d==="correct"?lt.correct:"",d==="incorrect"?lt.incorrect:"",c?lt.revealing:""].filter(Boolean).join(" ");return B.jsxs("div",{className:Y,children:[B.jsxs("div",{className:lt.imageContainer,children:[!v&&B.jsx("div",{className:lt.imagePlaceholder,children:B.jsx("div",{className:lt.spinner})}),B.jsx("img",{src:Q,alt:i.name,className:`${lt.image} ${v?lt.imageLoaded:""}`,onError:I,onLoad:()=>E(!0),loading:"lazy"})]}),B.jsxs("div",{className:lt.content,children:[B.jsx("h2",{className:lt.title,children:i.name}),i.description&&B.jsx("p",{className:lt.description,children:i.description}),e&&B.jsxs("div",{className:`${lt.viewCount} ${c?"animate-count-up":""}`,children:[B.jsx("span",{className:lt.viewLabel,children:"Page Views"}),B.jsx("span",{className:lt.viewNumber,children:bT(i.views)})]}),!n&&!e&&s&&a&&B.jsxs("div",{className:lt.buttonGroup,children:[B.jsx("button",{className:`${lt.button} ${lt.buttonHigher}`,onClick:s,disabled:c,children:"Higher"}),B.jsx("button",{className:`${lt.button} ${lt.buttonLower}`,onClick:a,disabled:c,children:"Lower"})]}),!n&&e&&d&&B.jsx("div",{className:lt.vsLabel,children:d==="correct"?"Correct!":"Wrong!"})]})]})}const iS="_container_1vcbi_1",sS="_cardWrapper_1vcbi_11",oS="_vsIndicator_1vcbi_21",aS="_vsText_1vcbi_28",Zo={container:iS,cardWrapper:sS,vsIndicator:oS,vsText:aS};function lS({currentMeme:i,comparisonMeme:e,showComparisonViewCount:n,isRevealing:s,revealResult:a,onGuessHigher:c,onGuessLower:d}){return B.jsxs("div",{className:Zo.container,children:[B.jsx("div",{className:Zo.cardWrapper,children:B.jsx(eg,{meme:i,showViewCount:!0,isReference:!0})}),B.jsx("div",{className:Zo.vsIndicator,children:B.jsx("span",{className:Zo.vsText,children:"VS"})}),B.jsx("div",{className:Zo.cardWrapper,children:B.jsx(eg,{meme:e,showViewCount:n,isReference:!1,onGuessHigher:c,onGuessLower:d,isRevealing:s,revealResult:a})})]})}const uS="_container_yyay2_1",cS="_scoreBox_yyay2_8",hS="_label_yyay2_19",dS="_value_yyay2_26",fS="_newHighScore_yyay2_34",Jr={container:uS,scoreBox:cS,label:hS,value:dS,newHighScore:fS};function mS({currentStreak:i,highScore:e}){const n=i>0&&i>=e;return B.jsxs("div",{className:Jr.container,children:[B.jsxs("div",{className:Jr.scoreBox,children:[B.jsx("span",{className:Jr.label,children:"Score"}),B.jsx("span",{className:`${Jr.value} ${n?Jr.newHighScore:""}`,children:i})]}),B.jsxs("div",{className:Jr.scoreBox,children:[B.jsx("span",{className:Jr.label,children:"High Score"}),B.jsx("span",{className:Jr.value,children:e})]})]})}const pS="_overlay_16xco_1",gS="_modal_16xco_22",yS="_newHighScoreBanner_16xco_44",_S="_title_16xco_69",vS="_scoreContainer_16xco_76",wS="_scoreBox_16xco_83",ES="_scoreLabel_16xco_89",TS="_scoreValue_16xco_96",SS="_highlight_16xco_103",IS="_message_16xco_117",AS="_nameForm_16xco_124",CS="_nameLabel_16xco_128",kS="_nameInputGroup_16xco_135",RS="_nameInput_16xco_135",PS="_submitButton_16xco_160",xS="_rankDisplay_16xco_181",NS="_rankNumber_16xco_191",VS="_buttonGroup_16xco_197",DS="_playAgainButton_16xco_203",MS="_leaderboardButton_16xco_227",tt={overlay:pS,modal:gS,newHighScoreBanner:yS,title:_S,scoreContainer:vS,scoreBox:wS,scoreLabel:ES,scoreValue:TS,highlight:SS,message:IS,nameForm:AS,nameLabel:CS,nameInputGroup:kS,nameInput:RS,submitButton:PS,rankDisplay:xS,rankNumber:NS,buttonGroup:VS,playAgainButton:DS,leaderboardButton:MS};function LS(){return`Player-${Math.random().toString(36).substring(2,8).toUpperCase()}`}function OS({finalScore:i,highScore:e,isNewHighScore:n,onPlayAgain:s,onSubmitScore:a,onViewLeaderboard:c,hasSubmittedScore:d,playerRank:g}){const[_,v]=Le.useState(""),[E,I]=Le.useState(!1),V=Q=>{if(Q.preventDefault(),!E){I(!0);const Y=_.trim()||LS();a(Y)}},F=i>0&&!d;return B.jsx("div",{className:tt.overlay,children:B.jsxs("div",{className:tt.modal,children:[n&&B.jsx("div",{className:tt.newHighScoreBanner,children:"New High Score!"}),B.jsx("h2",{className:tt.title,children:"Game Over"}),B.jsxs("div",{className:tt.scoreContainer,children:[B.jsxs("div",{className:tt.scoreBox,children:[B.jsx("span",{className:tt.scoreLabel,children:"Final Score"}),B.jsx("span",{className:`${tt.scoreValue} ${n?tt.highlight:""}`,children:i})]}),B.jsxs("div",{className:tt.scoreBox,children:[B.jsx("span",{className:tt.scoreLabel,children:"High Score"}),B.jsx("span",{className:tt.scoreValue,children:e})]})]}),B.jsx("p",{className:tt.message,children:i===0?"Better luck next time!":i<5?"Good effort! Keep practicing!":i<10?"Nice streak! You know your memes!":"Amazing! You're a meme expert!"}),F&&B.jsxs("form",{className:tt.nameForm,onSubmit:V,children:[B.jsx("label",{className:tt.nameLabel,children:"Enter your name for the leaderboard (optional)"}),B.jsxs("div",{className:tt.nameInputGroup,children:[B.jsx("input",{type:"text",className:tt.nameInput,value:_,onChange:Q=>v(Q.target.value),placeholder:"Your name (or leave blank)",maxLength:20,autoFocus:!0}),B.jsx("button",{type:"submit",className:tt.submitButton,disabled:E,children:"Submit"})]})]}),d&&g&&B.jsxs("div",{className:tt.rankDisplay,children:["You ranked ",B.jsxs("span",{className:tt.rankNumber,children:["#",g]})," on the leaderboard!"]}),B.jsxs("div",{className:tt.buttonGroup,children:[B.jsx("button",{className:tt.playAgainButton,onClick:s,children:"Play Again"}),B.jsx("button",{className:tt.leaderboardButton,onClick:c,children:"View Leaderboard"})]})]})})}const bS="_overlay_9q7x2_1",jS="_fadeIn_9q7x2_1",US="_modal_9q7x2_22",FS="_slideUp_9q7x2_1",BS="_closeButton_9q7x2_46",zS="_title_9q7x2_69",$S="_subtitle_9q7x2_77",qS="_yourScore_9q7x2_84",HS="_yourScoreLabel_9q7x2_95",GS="_yourScoreRank_9q7x2_100",WS="_tableContainer_9q7x2_106",KS="_table_9q7x2_106",QS="_rankHeader_9q7x2_132",YS="_nameHeader_9q7x2_137",XS="_scoreHeader_9q7x2_141",JS="_dateHeader_9q7x2_146",ZS="_row_9q7x2_151",eI="_currentPlayer_9q7x2_164",tI="_rank_9q7x2_132",nI="_rankNumber_9q7x2_177",rI="_medal_9q7x2_183",iI="_name_9q7x2_137",sI="_youBadge_9q7x2_195",oI="_score_9q7x2_141",aI="_date_9q7x2_146",lI="_emptyState_9q7x2_218",uI="_emptyHint_9q7x2_224",He={overlay:bS,fadeIn:jS,modal:US,slideUp:FS,closeButton:BS,title:zS,subtitle:$S,yourScore:qS,yourScoreLabel:HS,yourScoreRank:GS,tableContainer:WS,table:KS,rankHeader:QS,nameHeader:YS,scoreHeader:XS,dateHeader:JS,row:ZS,currentPlayer:eI,rank:tI,rankNumber:nI,medal:rI,name:iI,youBadge:sI,score:oI,date:aI,emptyState:lI,emptyHint:uI};function cI(i){return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function hI({entries:i,currentPlayerEntry:e,onClose:n}){const s=e?i.findIndex(a=>a.id===e.id)+1:null;return B.jsx("div",{className:He.overlay,onClick:n,children:B.jsxs("div",{className:He.modal,onClick:a=>a.stopPropagation(),children:[B.jsx("button",{className:He.closeButton,onClick:n,"aria-label":"Close leaderboard",children:""}),B.jsx("h2",{className:He.title,children:"Leaderboard"}),B.jsx("p",{className:He.subtitle,children:"Top 10 Meme Experts"}),i.length===0?B.jsxs("div",{className:He.emptyState,children:[B.jsx("p",{children:"No scores yet!"}),B.jsx("p",{className:He.emptyHint,children:"Be the first to make it on the board."})]}):B.jsxs(B.Fragment,{children:[e&&s&&B.jsxs("div",{className:He.yourScore,children:[B.jsx("span",{className:He.yourScoreLabel,children:"Your Rank"}),B.jsxs("span",{className:He.yourScoreRank,children:["#",s]})]}),B.jsx("div",{className:He.tableContainer,children:B.jsxs("table",{className:He.table,children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:He.rankHeader,children:"Rank"}),B.jsx("th",{className:He.nameHeader,children:"Player"}),B.jsx("th",{className:He.scoreHeader,children:"Score"}),B.jsx("th",{className:He.dateHeader,children:"Date"})]})}),B.jsx("tbody",{children:i.map((a,c)=>{const d=c+1,g=(e==null?void 0:e.id)===a.id;return B.jsxs("tr",{className:`${He.row} ${g?He.currentPlayer:""}`,children:[B.jsx("td",{className:He.rank,children:d<=3?B.jsx("span",{className:`${He.medal} ${He[`medal${d}`]}`,children:d===1?"":d===2?"":""}):B.jsx("span",{className:He.rankNumber,children:d})}),B.jsxs("td",{className:He.name,children:[a.playerName,g&&B.jsx("span",{className:He.youBadge,children:"You"})]}),B.jsx("td",{className:He.score,children:a.score}),B.jsx("td",{className:He.date,children:cI(a.timestamp)})]},a.id)})})]})})]})]})})}const dI="_container_piefm_1",fI="_header_piefm_7",mI="_title_piefm_13",pI="_main_piefm_20",gI="_footer_piefm_28",yI="_hint_piefm_34",bs={container:dI,header:fI,title:mI,main:pI,footer:gI,hint:yI};function _I({memes:i}){const{highScore:e,updateHighScore:n}=lv(),{state:s,startGame:a,guessHigher:c,guessLower:d,playAgain:g}=av(i,e),{entries:_,addEntry:v,getPlayerRank:E}=IT(),[I,V]=Le.useState(!1),[F,Q]=Le.useState(null),[Y,q]=Le.useState(!1);Le.useEffect(()=>{s.phase==="gameover"&&n(s.currentStreak)},[s.phase,s.currentStreak,n]),Le.useEffect(()=>{s.phase==="playing"&&(Q(null),q(!1))},[s.phase]);const fe=Le.useCallback(async S=>{const C=await v(S,s.currentStreak);C&&(Q(C),q(!0))},[v,s.currentStreak]),pe=Le.useCallback(()=>{V(!0)},[]),ve=Le.useCallback(()=>{V(!1)},[]),Se=s.currentStreak>e,Fe=s.phase==="revealing"||s.lastGuessCorrect!==null,Ie=s.lastGuessCorrect===!0?"correct":s.lastGuessCorrect===!1?"incorrect":null,R=F?E(F.id):null;return B.jsxs("div",{className:bs.container,children:[s.phase==="start"&&B.jsx(OT,{onStart:a,highScore:e}),(s.phase==="playing"||s.phase==="revealing")&&s.currentMeme&&s.comparisonMeme&&B.jsxs(B.Fragment,{children:[B.jsxs("header",{className:bs.header,children:[B.jsx("h1",{className:bs.title,children:"Meme Higher or Lower"}),B.jsx(mS,{currentStreak:s.currentStreak,highScore:e})]}),B.jsx("main",{className:bs.main,children:B.jsx(lS,{currentMeme:s.currentMeme,comparisonMeme:s.comparisonMeme,showComparisonViewCount:Fe,isRevealing:s.phase==="revealing",revealResult:Ie,onGuessHigher:c,onGuessLower:d})}),B.jsx("footer",{className:bs.footer,children:B.jsxs("p",{className:bs.hint,children:["Does ",B.jsx("strong",{children:s.comparisonMeme.name})," have more or fewer page views than"," ",B.jsx("strong",{children:s.currentMeme.name}),"?"]})})]}),s.phase==="gameover"&&B.jsx(OS,{finalScore:s.currentStreak,highScore:Math.max(e,s.currentStreak),isNewHighScore:Se,onPlayAgain:g,onSubmitScore:fe,onViewLeaderboard:pe,hasSubmittedScore:Y,playerRank:R}),I&&B.jsx(hI,{entries:_,currentPlayerEntry:F,onClose:ve})]})}const vI=JSON.parse(`[{"id":"doge","name":"Doge","views":14589358,"imageUrl":"/images/memes/doge.jpg","description":"Shiba Inu dog with Comic Sans captions","year":2013,"category":"Image Macro"},{"id":"distracted-boyfriend","name":"Distracted Boyfriend","views":1898322,"imageUrl":"/images/memes/distracted-boyfriend.jpg","description":"Stock photo of man looking at another woman","year":2017,"category":"Stock Photo"},{"id":"pepe-the-frog","name":"Pepe the Frog","views":4746827,"imageUrl":"/images/memes/pepe-the-frog.jpg","description":"Green anthropomorphic frog character","year":2005,"category":"Reaction"},{"id":"rickroll","name":"Rickroll","views":1870426,"imageUrl":"/images/memes/rickroll.jpg","description":"Bait-and-switch with Rick Astley's Never Gonna Give You Up","year":2007,"category":"Prank"},{"id":"success-kid","name":"Success Kid","views":1787643,"imageUrl":"/images/memes/success-kid.jpg","description":"Toddler with a fist pump and determined expression","year":2007,"category":"Image Macro"},{"id":"grumpy-cat","name":"Grumpy Cat","views":2567290,"imageUrl":"/images/memes/grumpy-cat.jpg","description":"Cat with a permanently grumpy expression","year":2012,"category":"Animal"},{"id":"drake-hotline-bling","name":"Drake Hotline Bling","views":493064,"imageUrl":"/images/memes/drake-hotline-bling.jpg","description":"Drake rejecting and approving things","year":2015,"category":"Exploitable"},{"id":"expanding-brain","name":"Expanding Brain","views":1365511,"imageUrl":"/images/memes/expanding-brain.jpg","description":"Multi-panel showing increasingly enlightened ideas","year":2017,"category":"Multi-Panel"},{"id":"surprised-pikachu","name":"Surprised Pikachu","views":2236347,"imageUrl":"/images/memes/surprised-pikachu.jpg","description":"Pikachu with a shocked expression","year":2018,"category":"Reaction"},{"id":"wojak","name":"Wojak","views":2138825,"imageUrl":"/images/memes/wojak.jpg","description":"Simple black and white drawn face expressing emotions","year":2010,"category":"Rage Comic"},{"id":"this-is-fine","name":"This Is Fine","views":2098387,"imageUrl":"/images/memes/this-is-fine.jpg","description":"Dog sitting in burning room saying This is fine","year":2013,"category":"Webcomic"},{"id":"two-buttons","name":"Two Buttons","views":440561,"imageUrl":"/images/memes/two-buttons.jpg","description":"Sweating man choosing between two buttons","year":2014,"category":"Exploitable"},{"id":"woman-yelling-at-cat","name":"Woman Yelling at Cat","views":5343008,"imageUrl":"/images/memes/woman-yelling-at-cat.jpg","description":"Woman pointing at confused cat at dinner table","year":2019,"category":"Object Labeling"},{"id":"hide-the-pain-harold","name":"Hide the Pain Harold","views":3089207,"imageUrl":"/images/memes/hide-the-pain-harold.jpg","description":"Stock photo model with forced smile hiding pain","year":2011,"category":"Stock Photo"},{"id":"bad-luck-brian","name":"Bad Luck Brian","views":3387491,"imageUrl":"/images/memes/bad-luck-brian.jpg","description":"Yearbook photo of awkward teenager with braces","year":2012,"category":"Image Macro"},{"id":"one-does-not-simply","name":"One Does Not Simply","views":2244205,"imageUrl":"/images/memes/one-does-not-simply.jpg","description":"Boromir from Lord of the Rings explaining difficulty","year":2001,"category":"Image Macro"},{"id":"change-my-mind","name":"Change My Mind","views":1385112,"imageUrl":"/images/memes/change-my-mind.jpg","description":"Steven Crowder sitting at table with sign","year":2018,"category":"Exploitable"},{"id":"is-this-a-pigeon","name":"Is This a Pigeon?","views":1284965,"imageUrl":"/images/memes/is-this-a-pigeon.jpg","description":"Anime character misidentifying a butterfly","year":2011,"category":"Anime"},{"id":"roll-safe","name":"Roll Safe","views":1799108,"imageUrl":"/images/memes/roll-safe.jpg","description":"Man tapping head with knowing expression","year":2016,"category":"Reaction"},{"id":"mocking-spongebob","name":"Mocking SpongeBob","views":2157854,"imageUrl":"/images/memes/mocking-spongebob.jpg","description":"SpongeBob with alternating caps indicating mockery","year":2017,"category":"Reaction"},{"id":"ancient-aliens","name":"Ancient Aliens","views":4279719,"imageUrl":"/images/memes/ancient-aliens.jpg","description":"Giorgio Tsoukalos with wild hair saying Aliens","year":2010,"category":"Image Macro"},{"id":"disaster-girl","name":"Disaster Girl","views":2069637,"imageUrl":"/images/memes/disaster-girl.jpg","description":"Young girl smiling in front of burning house","year":2007,"category":"Image Macro"},{"id":"left-exit-12","name":"Left Exit 12 Off Ramp","views":211933,"imageUrl":"/images/memes/left-exit-12.jpg","description":"Car swerving to take highway exit at last moment","year":2017,"category":"Object Labeling"},{"id":"spiderman-pointing","name":"Spider-Man Pointing","views":1993366,"imageUrl":"/images/memes/spiderman-pointing.jpg","description":"Two Spider-Men pointing at each other","year":2011,"category":"Cartoon"},{"id":"always-has-been","name":"Always Has Been","views":1391590,"imageUrl":"/images/memes/always-has-been.png","description":"Astronauts in space with gun revelation","year":2020,"category":"Astronaut"},{"id":"bernie-mittens","name":"Bernie Sanders Mittens","views":92122,"imageUrl":"/images/memes/bernie-mittens.jpg","description":"Bernie Sanders sitting with mittens at inauguration","year":2021,"category":"Photoshop"},{"id":"they-dont-know","name":"They Don't Know","views":420976,"imageUrl":"/images/memes/they-dont-know.jpg","description":"Person alone at party with self-aware caption","year":2020,"category":"Wojak"},{"id":"ight-imma-head-out","name":"Ight Imma Head Out","views":937448,"imageUrl":"/images/memes/ight-imma-head-out.jpg","description":"SpongeBob getting up from chair to leave","year":2019,"category":"Reaction"},{"id":"gru-plan","name":"Gru's Plan","views":329108,"imageUrl":"/images/memes/gru-plan.jpg","description":"Gru presenting plan that backfires","year":2018,"category":"Multi-Panel"},{"id":"trade-offer","name":"Trade Offer","views":486103,"imageUrl":"/images/memes/trade-offer.jpg","description":"TikToker presenting I receive / You receive deal","year":2021,"category":"TikTok"},{"id":"gigachad","name":"GigaChad","views":3309179,"imageUrl":"/images/memes/gigachad.jpg","description":"Extremely muscular and handsome edited man","year":2017,"category":"Photoshop"},{"id":"buff-doge-vs-cheems","name":"Buff Doge vs Cheems","views":348915,"imageUrl":"/images/memes/buff-doge-vs-cheems.png","description":"Strong Doge contrasted with weak Cheems","year":2020,"category":"Comparison"},{"id":"you-guys-are-getting-paid","name":"You Guys Are Getting Paid?","views":507736,"imageUrl":"/images/memes/you-guys-are-getting-paid.png","description":"Will Poulter asking if others are being paid","year":2019,"category":"Reaction"},{"id":"uno-draw-25","name":"UNO Draw 25 Cards","views":169760,"imageUrl":"/images/memes/uno-draw-25.jpg","description":"Player choosing to draw 25 cards instead of doing something","year":2019,"category":"Gaming"},{"id":"batman-slapping-robin","name":"Batman Slapping Robin","views":727054,"imageUrl":"/images/memes/batman-slapping-robin.jpg","description":"Batman slapping Robin mid-sentence","year":2008,"category":"Comic"},{"id":"panik-kalm-panik","name":"Panik Kalm Panik","views":152135,"imageUrl":"/images/memes/panik-kalm-panik.png","description":"Meme Man panicking, calming, then panicking again","year":2020,"category":"Multi-Panel"},{"id":"think-mark","name":"Think, Mark!","views":605215,"imageUrl":"/images/memes/think-mark.png","description":"Omni-Man yelling at Mark to think","year":2021,"category":"Animation"},{"id":"boardroom-meeting","name":"Boardroom Meeting Suggestion","views":812233,"imageUrl":"/images/memes/boardroom-meeting.png","description":"Boss throwing employee out window for bad suggestion","year":2014,"category":"Comic"},{"id":"finding-neverland","name":"Finding Neverland","views":72581,"imageUrl":"/images/memes/finding-neverland.jpg","description":"Johnny Depp comforting a crying child","year":2015,"category":"Movie"},{"id":"waiting-skeleton","name":"Waiting Skeleton","views":219515,"imageUrl":"/images/memes/waiting-skeleton.jpg","description":"Skeleton sitting on bench waiting forever","year":2013,"category":"Reaction"},{"id":"epic-handshake","name":"Epic Handshake","views":621947,"imageUrl":"/images/memes/epic-handshake.jpg","description":"Arnold and Carl Weathers arm wrestling handshake","year":2018,"category":"Movie"},{"id":"hard-to-swallow-pills","name":"Hard To Swallow Pills","views":80937,"imageUrl":"/images/memes/hard-to-swallow-pills.jpg","description":"Bottle of pills with uncomfortable truth","year":2017,"category":"Object Labeling"},{"id":"they-are-the-same-picture","name":"They're The Same Picture","views":644587,"imageUrl":"/images/memes/they-are-the-same-picture.jpg","description":"Pam from The Office comparing two pictures","year":2019,"category":"TV Show"},{"id":"sad-pablo-escobar","name":"Sad Pablo Escobar","views":631999,"imageUrl":"/images/memes/sad-pablo-escobar.jpg","description":"Pablo Escobar looking sad and alone","year":2016,"category":"Reaction"},{"id":"evil-kermit","name":"Evil Kermit","views":523229,"imageUrl":"/images/memes/evil-kermit.jpg","description":"Kermit talking to his evil hooded self","year":2016,"category":"Muppets"},{"id":"tuxedo-winnie-the-pooh","name":"Tuxedo Winnie The Pooh","views":396192,"imageUrl":"/images/memes/tuxedo-winnie-the-pooh.png","description":"Fancy Winnie the Pooh vs regular Pooh","year":2019,"category":"Comparison"},{"id":"monkey-puppet","name":"Monkey Puppet","views":481315,"imageUrl":"/images/memes/monkey-puppet.jpg","description":"Puppet monkey looking away nervously","year":2016,"category":"Reaction"},{"id":"running-away-balloon","name":"Running Away Balloon","views":52601,"imageUrl":"/images/memes/running-away-balloon.jpg","description":"Person chasing a balloon that keeps floating away","year":2018,"category":"Comic"},{"id":"trollface","name":"Trollface","views":11731463,"imageUrl":"/images/memes/trollface.jpg","description":"Grinning face used to signify trolling","year":2008,"category":"Rage Comic"},{"id":"forever-alone","name":"Forever Alone","views":12247699,"imageUrl":"/images/memes/forever-alone.jpg","description":"Crying face expressing loneliness","year":2010,"category":"Rage Comic"},{"id":"me-gusta","name":"Me Gusta","views":9255013,"imageUrl":"/images/memes/me-gusta.jpg","description":"Creepy face expressing guilty pleasure","year":2010,"category":"Rage Comic"},{"id":"big-chungus","name":"Big Chungus","views":8839052,"imageUrl":"/images/memes/big-chungus.jpg","description":"Fat Bugs Bunny from classic cartoon","year":2018,"category":"Cartoon"},{"id":"slender-man","name":"Slender Man","views":15037046,"imageUrl":"/images/memes/slender-man.jpg","description":"Tall faceless supernatural figure in a suit","year":2009,"category":"Creepypasta"},{"id":"lenny-face","name":"Lenny Face","views":13252755,"imageUrl":"/images/memes/lenny-face.jpg","description":"Suggestive emoticon face (   )","year":2012,"category":"Emoticon"},{"id":"hello-there","name":"Hello There","views":7561209,"imageUrl":"/images/memes/hello-there.jpg","description":"Obi-Wan Kenobi greeting from Star Wars","year":2005,"category":"Movie"},{"id":"ermahgerd","name":"Ermahgerd","views":6008025,"imageUrl":"/images/memes/ermahgerd.jpg","description":"Girl with pigtails excited about Goosebumps books","year":2012,"category":"Image Macro"},{"id":"ugandan-knuckles","name":"Ugandan Knuckles","views":6006837,"imageUrl":"/images/memes/ugandan-knuckles.jpg","description":"Deformed Knuckles asking Do you know the way","year":2018,"category":"Gaming"},{"id":"yao-ming-face","name":"Yao Ming Face","views":5523399,"imageUrl":"/images/memes/yao-ming-face.jpg","description":"Basketball player with dismissive expression","year":2010,"category":"Rage Comic"},{"id":"y-u-no","name":"Y U NO Guy","views":5119016,"imageUrl":"/images/memes/y-u-no.jpg","description":"Angry face demanding why something isn't happening","year":2010,"category":"Rage Comic"},{"id":"overly-attached-girlfriend","name":"Overly Attached Girlfriend","views":4959958,"imageUrl":"/images/memes/overly-attached-girlfriend.jpg","description":"Woman with intense stare representing clingy partner","year":2012,"category":"Image Macro"},{"id":"scumbag-steve","name":"Scumbag Steve","views":4872790,"imageUrl":"/images/memes/scumbag-steve.jpg","description":"Guy in sideways cap representing rude behavior","year":2011,"category":"Image Macro"},{"id":"you-dont-say","name":"You Don't Say?","views":4563005,"imageUrl":"/images/memes/you-dont-say.jpg","description":"Nicolas Cage with sarcastic expression","year":2011,"category":"Reaction"},{"id":"look-of-disapproval","name":"Look of Disapproval","views":4310671,"imageUrl":"/images/memes/look-of-disapproval.jpg","description":"Disapproving emoticon face _","year":2009,"category":"Reaction"},{"id":"ridiculously-photogenic-guy","name":"Ridiculously Photogenic Guy","views":4286383,"imageUrl":"/images/memes/ridiculously-photogenic-guy.jpg","description":"Handsome runner smiling during marathon","year":2012,"category":"Image Macro"},{"id":"good-guy-greg","name":"Good Guy Greg","views":4285618,"imageUrl":"/images/memes/good-guy-greg.jpg","description":"Friendly guy representing kind behavior","year":2011,"category":"Image Macro"},{"id":"not-bad-obama","name":"Not Bad Obama","views":3880156,"imageUrl":"/images/memes/not-bad-obama.jpg","description":"Obama with impressed approving expression","year":2011,"category":"Reaction"},{"id":"derp","name":"Derp","views":3819593,"imageUrl":"/images/memes/derp.jpg","description":"Silly face representing stupidity or clumsiness","year":2008,"category":"Rage Comic"},{"id":"okay-guy","name":"Okay Guy","views":3782916,"imageUrl":"/images/memes/okay-guy.jpg","description":"Sad face reluctantly accepting disappointment","year":2010,"category":"Rage Comic"},{"id":"press-f","name":"Press F to Pay Respects","views":3591262,"imageUrl":"/images/memes/press-f.jpg","description":"Call of Duty funeral prompt became ironic tribute","year":2014,"category":"Gaming"},{"id":"dat-boi","name":"Dat Boi","views":3564136,"imageUrl":"/images/memes/dat-boi.jpg","description":"Frog on unicycle - here come dat boi","year":2016,"category":"Surreal"},{"id":"philosoraptor","name":"Philosoraptor","views":3271352,"imageUrl":"/images/memes/philosoraptor.jpg","description":"Velociraptor pondering deep philosophical questions","year":2008,"category":"Image Macro"},{"id":"harambe","name":"Harambe","views":3261313,"imageUrl":"/images/memes/harambe.jpg","description":"Gorilla who became symbol of internet mourning","year":2016,"category":"Animal"},{"id":"kappa","name":"Kappa","views":3134663,"imageUrl":"/images/memes/kappa.jpg","description":"Twitch emote representing sarcasm","year":2011,"category":"Twitch"},{"id":"rage-guy","name":"Rage Guy FFFUUU","views":3033481,"imageUrl":"/images/memes/rage-guy.jpg","description":"Angry face screaming in frustration","year":2008,"category":"Rage Comic"},{"id":"wat","name":"Wat","views":3054257,"imageUrl":"/images/memes/wat.jpg","description":"Old woman expressing confusion","year":2012,"category":"Reaction"},{"id":"omae-wa-mou-shindeiru","name":"Omae Wa Mou Shindeiru","views":3021525,"imageUrl":"/images/memes/omae-wa-mou-shindeiru.jpg","description":"You are already dead from Fist of the North Star","year":2017,"category":"Anime"},{"id":"60s-spiderman","name":"60s Spider-Man","views":3012639,"imageUrl":"/images/memes/60s-spiderman.jpg","description":"Vintage Spider-Man cartoon in awkward poses","year":2009,"category":"Cartoon"},{"id":"sad-keanu","name":"Sad Keanu","views":3000588,"imageUrl":"/images/memes/sad-keanu.jpg","description":"Keanu Reeves sitting alone on bench looking sad","year":2010,"category":"Celebrity"},{"id":"do-you-even-lift","name":"Do You Even Lift?","views":2917006,"imageUrl":"/images/memes/do-you-even-lift.jpg","description":"Question challenging someone's fitness","year":2012,"category":"Catchphrase"},{"id":"haters-gonna-hate","name":"Haters Gonna Hate","views":2882215,"imageUrl":"/images/memes/haters-gonna-hate.jpg","description":"Strutting confidently while ignoring critics","year":2008,"category":"Catchphrase"},{"id":"yo-dawg","name":"Yo Dawg Xzibit","views":2858244,"imageUrl":"/images/memes/yo-dawg.jpg","description":"Xzibit putting things inside things from Pimp My Ride","year":2007,"category":"Image Macro"},{"id":"most-interesting-man","name":"Most Interesting Man in the World","views":2706199,"imageUrl":"/images/memes/most-interesting-man.jpg","description":"Dos Equis spokesman - I don't always, but when I do","year":2007,"category":"Image Macro"},{"id":"challenge-accepted","name":"Challenge Accepted","views":2597428,"imageUrl":"/images/memes/challenge-accepted.jpg","description":"Determined face accepting a difficult task","year":2010,"category":"Rage Comic"},{"id":"nyan-cat","name":"Nyan Cat","views":2537937,"imageUrl":"/images/memes/nyan-cat.jpg","description":"Pop-Tart cat flying through space leaving rainbow trail","year":2011,"category":"Animation"},{"id":"facepalm","name":"Facepalm","views":2381611,"imageUrl":"/images/memes/facepalm.jpg","description":"Captain Picard covering face in frustration","year":2007,"category":"Reaction"},{"id":"deal-with-it","name":"Deal With It","views":2350278,"imageUrl":"/images/memes/deal-with-it.jpg","description":"Sunglasses dropping onto face dismissively","year":2010,"category":"Reaction"},{"id":"cash-me-outside","name":"Cash Me Outside","views":2313890,"imageUrl":"/images/memes/cash-me-outside.png","description":"Danielle Bregoli's viral Dr. Phil moment","year":2017,"category":"Catchphrase"},{"id":"i-know-that-feel","name":"I Know That Feel Bro","views":2312495,"imageUrl":"/images/memes/i-know-that-feel.jpg","description":"Two Wojaks hugging in shared understanding","year":2010,"category":"Wojak"},{"id":"futurama-fry","name":"Futurama Fry / Not Sure If","views":2250703,"imageUrl":"/images/memes/futurama-fry.jpg","description":"Fry squinting suspiciously at something","year":2011,"category":"Cartoon"},{"id":"socially-awkward-penguin","name":"Socially Awkward Penguin","views":2224655,"imageUrl":"/images/memes/socially-awkward-penguin.jpg","description":"Penguin representing social anxiety situations","year":2009,"category":"Image Macro"},{"id":"first-world-problems","name":"First World Problems","views":2196785,"imageUrl":"/images/memes/first-world-problems.jpg","description":"Crying woman complaining about trivial issues","year":2011,"category":"Image Macro"},{"id":"virgin-vs-chad","name":"Virgin vs Chad","views":1865735,"imageUrl":"/images/memes/virgin-vs-chad.png","description":"Contrasting insecure virgin with confident Chad","year":2017,"category":"Comparison"},{"id":"he-protec-he-attac","name":"He Protec But He Also Attac","views":1811687,"imageUrl":"/images/memes/he-protec-he-attac.jpg","description":"Animal that both protects and attacks","year":2017,"category":"Animal"},{"id":"karen","name":"Karen","views":1807056,"imageUrl":"/images/memes/karen.jpg","description":"Entitled woman demanding to speak to the manager","year":2018,"category":"Stereotype"},{"id":"high-expectations-asian-father","name":"High Expectations Asian Father","views":1800005,"imageUrl":"/images/memes/high-expectations-asian-father.jpg","description":"Father disappointed in anything less than perfection","year":2010,"category":"Image Macro"},{"id":"but-thats-none-of-my-business","name":"But That's None of My Business","views":1782474,"imageUrl":"/images/memes/but-thats-none-of-my-business.jpg","description":"Kermit sipping tea while making shady observation","year":2014,"category":"Muppets"},{"id":"its-over-9000","name":"It's Over 9000!","views":1747226,"imageUrl":"/images/memes/its-over-9000.jpg","description":"Vegeta screaming about power levels in Dragon Ball Z","year":2006,"category":"Anime"},{"id":"leeroy-jenkins","name":"Leeroy Jenkins","views":1741575,"imageUrl":"/images/memes/leeroy-jenkins.jpg","description":"WoW player charging in ruining careful plan","year":2005,"category":"Gaming"},{"id":"the-cake-is-a-lie","name":"The Cake Is a Lie","views":1739952,"imageUrl":"/images/memes/the-cake-is-a-lie.jpg","description":"Portal game reference about false promises","year":2007,"category":"Gaming"},{"id":"impossibru","name":"Impossibru","views":1729109,"imageUrl":"/images/memes/impossibru.jpg","description":"Exaggerated Asian man face saying impossible","year":2010,"category":"Reaction"},{"id":"insanity-wolf","name":"Insanity Wolf","views":1718506,"imageUrl":"/images/memes/insanity-wolf.jpg","description":"Wolf representing extreme or dangerous advice","year":2009,"category":"Image Macro"},{"id":"feels-bad-man","name":"Feels Bad Man","views":1710988,"imageUrl":"/images/memes/feels-bad-man.jpg","description":"Sad Pepe frog expressing disappointment","year":2009,"category":"Reaction"},{"id":"dont-talk-to-me-or-my-son","name":"Don't Talk To Me Or My Son Ever Again","views":1697362,"imageUrl":"/images/memes/dont-talk-to-me-or-my-son.jpg","description":"Large and small version of same character","year":2016,"category":"Reaction"},{"id":"u-mad","name":"U Mad?","views":1673245,"imageUrl":"/images/memes/u-mad.jpg","description":"Trollface asking if someone is angry","year":2009,"category":"Rage Comic"},{"id":"soyjak","name":"Soyjak / Soy Boy Face","views":1638964,"imageUrl":"/images/memes/soyjak.png","description":"Open-mouthed excited face often mocked","year":2019,"category":"Wojak"},{"id":"honey-badger","name":"Honey Badger Don't Care","views":1613515,"imageUrl":"/images/memes/honey-badger.jpg","description":"Narrated video of fearless honey badger","year":2011,"category":"Animal"},{"id":"nine-plus-ten","name":"9 + 10 = 21","views":1609276,"imageUrl":"/images/memes/nine-plus-ten.jpg","description":"Kid confidently giving wrong math answer","year":2013,"category":"Vine"},{"id":"weird-flex-but-ok","name":"Weird Flex But OK","views":1606163,"imageUrl":"/images/memes/weird-flex-but-ok.jpg","description":"Response to unusual or humble brags","year":2018,"category":"Reaction"},{"id":"shut-up-and-take-my-money","name":"Shut Up And Take My Money","views":1600409,"imageUrl":"/images/memes/shut-up-and-take-my-money.jpg","description":"Fry desperately wanting to buy something","year":2011,"category":"Cartoon"},{"id":"courage-wolf","name":"Courage Wolf","views":1596567,"imageUrl":"/images/memes/courage-wolf.jpg","description":"Wolf giving motivational aggressive advice","year":2006,"category":"Image Macro"},{"id":"yes-this-is-dog","name":"Yes This Is Dog","views":1594609,"imageUrl":"/images/memes/yes-this-is-dog.jpg","description":"Dog answering telephone call","year":2011,"category":"Animal"},{"id":"gangnam-style","name":"Gangnam Style","views":2067671,"imageUrl":"/images/memes/gangnam-style.jpg","description":"PSY's viral Korean pop song and dance","year":2012,"category":"Music"},{"id":"cool-story-bro","name":"Cool Story Bro","views":2064878,"imageUrl":"/images/memes/cool-story-bro.jpg","description":"Sarcastic dismissal of boring story","year":2009,"category":"Catchphrase"},{"id":"aint-nobody-got-time","name":"Ain't Nobody Got Time For That","views":2056591,"imageUrl":"/images/memes/aint-nobody-got-time.jpg","description":"Sweet Brown's viral news interview","year":2012,"category":"Catchphrase"},{"id":"all-the-things","name":"X All The Things","views":2021164,"imageUrl":"/images/memes/all-the-things.jpg","description":"Simple drawing enthusiastically doing everything","year":2010,"category":"Webcomic"},{"id":"bear-grylls","name":"Bear Grylls / Better Drink My Own Piss","views":1884075,"imageUrl":"/images/memes/bear-grylls.jpg","description":"Survival expert's extreme solution to any problem","year":2011,"category":"Image Macro"},{"id":"cereal-guy","name":"Cereal Guy","views":1881726,"imageUrl":"/images/memes/cereal-guy.jpg","description":"Guy casually eating cereal during chaos","year":2009,"category":"Rage Comic"},{"id":"successful-black-man","name":"Successful Black Man","views":1881086,"imageUrl":"/images/memes/successful-black-man.jpg","description":"Setup implies stereotype, punchline subverts it","year":2011,"category":"Image Macro"},{"id":"darth-plagueis","name":"Tragedy of Darth Plagueis","views":1934183,"imageUrl":"/images/memes/darth-plagueis.jpg","description":"Palpatine's ironic story from Star Wars","year":2017,"category":"Movie"},{"id":"confused-math-lady","name":"Confused Math Lady","views":1383809,"imageUrl":"/images/memes/confused-math-lady.jpg","description":"Woman with complex math equations floating around","year":2016,"category":"Reaction"},{"id":"leonardo-dicaprio-cheers","name":"Leonardo DiCaprio Cheers","views":396419,"imageUrl":"/images/memes/leonardo-dicaprio-cheers.png","description":"Leo raising glass from The Great Gatsby","year":2013,"category":"Movie"},{"id":"oprah-you-get-a","name":"Oprah You Get A","views":331552,"imageUrl":"/images/memes/oprah-you-get-a.gif","description":"Oprah giving everyone something","year":2010,"category":"TV Show"},{"id":"arthur-fist","name":"Arthur Fist","views":1034481,"imageUrl":"/images/memes/arthur-fist.jpg","description":"Arthur clenching fist in anger","year":2016,"category":"Cartoon"},{"id":"willy-wonka","name":"Condescending Wonka","views":1063439,"imageUrl":"/images/memes/willy-wonka.jpg","description":"Gene Wilder's sarcastic Willy Wonka face","year":2011,"category":"Movie"},{"id":"dinkleberg","name":"Dinkleberg","views":362709,"imageUrl":"/images/memes/dinkleberg.jpg","description":"Timmy's dad blaming neighbor for everything","year":2010,"category":"Cartoon"},{"id":"matrix-morpheus","name":"Matrix Morpheus","views":514753,"imageUrl":"/images/memes/matrix-morpheus.jpg","description":"What if I told you - revealing truth format","year":2008,"category":"Movie"},{"id":"conspiracy-keanu","name":"Conspiracy Keanu","views":1331428,"imageUrl":"/images/memes/conspiracy-keanu.jpg","description":"Keanu having sudden paranoid realization","year":2011,"category":"Image Macro"},{"id":"morpheus-blue-red-pill","name":"Blue Pill Red Pill","views":232305,"imageUrl":"/images/memes/morpheus-blue-red-pill.jpg","description":"Matrix choice between comfort and truth","year":1999,"category":"Movie"},{"id":"awkward-moment-seal","name":"Awkward Moment Seal","views":359044,"imageUrl":"/images/memes/awkward-moment-seal.jpg","description":"Seal with uncomfortable cringing expression","year":2014,"category":"Animal"},{"id":"minor-mistake-marvin","name":"Minor Mistake Marvin","views":288315,"imageUrl":"/images/memes/minor-mistake-marvin.jpg","description":"Kid who made a small embarrassing error","year":2014,"category":"Image Macro"},{"id":"mr-bean-waiting","name":"Mr Bean Waiting","views":213180,"imageUrl":"/images/memes/mr-bean-waiting.jpg","description":"Mr Bean checking his watch impatiently","year":2015,"category":"Reaction"},{"id":"unsettled-tom","name":"Unsettled Tom","views":458773,"imageUrl":"/images/memes/unsettled-tom.jpg","description":"Tom with disturbed wide-eyed expression","year":2019,"category":"Cartoon"},{"id":"mike-wazowski-face-swap","name":"Mike Wazowski Face Swap","views":715148,"imageUrl":"/images/memes/mike-wazowski-face-swap.jpg","description":"Mike with Sully's face looking unsettling","year":2019,"category":"Movie"},{"id":"bongo-cat","name":"Bongo Cat","views":470090,"imageUrl":"/images/memes/bongo-cat.jpg","description":"Cute animated cat playing bongos","year":2018,"category":"Animation"},{"id":"crying-michael-jordan","name":"Crying Michael Jordan","views":667486,"imageUrl":"/images/memes/crying-michael-jordan.jpg","description":"Jordan's Hall of Fame speech tears","year":2009,"category":"Sports"},{"id":"grandma-finds-the-internet","name":"Grandma Finds The Internet","views":376061,"imageUrl":"/images/memes/grandma-finds-the-internet.jpg","description":"Elderly woman confused by technology","year":2012,"category":"Image Macro"},{"id":"types-of-headaches","name":"Types of Headaches","views":108997,"imageUrl":"/images/memes/types-of-headaches.jpg","description":"Medical diagram with custom fourth headache type","year":2018,"category":"Exploitable"},{"id":"oh-no-its-retarded","name":"Oh No It's Retarded","views":479375,"imageUrl":"/images/memes/oh-no-its-retarded.jpg","description":"Webcomic of stick figure discovering small dog saying dumb things","year":2016,"category":"Webcomic"},{"id":"squidward-window","name":"Squidward Looking Out Window","views":271130,"imageUrl":"/images/memes/squidward-window.jpg","description":"Squidward watching SpongeBob and Patrick have fun","year":2016,"category":"Cartoon"},{"id":"uno-reverse-card","name":"UNO Reverse Card","views":461542,"imageUrl":"/images/memes/uno-reverse-card.png","description":"Turning someone's argument back on them","year":2018,"category":"Gaming"},{"id":"inhaling-seagull","name":"Inhaling Seagull","views":245734,"imageUrl":"/images/memes/inhaling-seagull.jpg","description":"Seagull taking deep breath before screaming","year":2017,"category":"Animal"},{"id":"american-chopper-argument","name":"American Chopper Argument","views":531525,"imageUrl":"/images/memes/american-chopper-argument.png","description":"Father and son arguing across multiple panels","year":2018,"category":"TV Show"},{"id":"polish-jerry","name":"Polish Jerry","views":382304,"imageUrl":"/images/memes/polish-jerry.jpg","description":"Jerry with half-open eyes expressing confusion","year":2019,"category":"Cartoon"},{"id":"lisa-simpson-presentation","name":"Lisa Simpson Presentation","views":116323,"imageUrl":"/images/memes/lisa-simpson-presentation.jpg","description":"Lisa presenting a controversial opinion","year":2018,"category":"Cartoon"},{"id":"sleeping-shaq","name":"Sleeping Shaq","views":410133,"imageUrl":"/images/memes/sleeping-shaq.png","description":"Shaq sleeping vs Shaq alert comparison","year":2018,"category":"Sports"},{"id":"thomas-had-never-seen","name":"Thomas Had Never Seen Such BS","views":196289,"imageUrl":"/images/memes/thomas-had-never-seen.png","description":"Thomas the Tank Engine looking angry","year":2018,"category":"Cartoon"},{"id":"sad-cat-thumbs-up","name":"Sad Cat Thumbs Up","views":338807,"imageUrl":"/images/memes/sad-cat-thumbs-up.png","description":"Crying cat giving thumbs up","year":2019,"category":"Animal"},{"id":"kombucha-girl","name":"Kombucha Girl","views":112790,"imageUrl":"/images/memes/kombucha-girl.jpg","description":"Girl tasting kombucha with mixed reaction","year":2019,"category":"TikTok"},{"id":"coffin-dance","name":"Coffin Dance","views":705351,"imageUrl":"/images/memes/coffin-dance.jpg","description":"Ghanaian pallbearers dancing with coffin","year":2020,"category":"Dance"},{"id":"no-no-hes-got-a-point","name":"No No He's Got A Point","views":87934,"imageUrl":"/images/memes/no-no-hes-got-a-point.jpg","description":"Kronk agreeing with valid argument","year":2019,"category":"Movie"},{"id":"drake-josh-door","name":"Drake Where's The Door Hole","views":128249,"imageUrl":"/images/memes/drake-josh-door.jpg","description":"Drake and Josh doorhole scene","year":2018,"category":"TV Show"},{"id":"men-will-literally","name":"Men Will Literally","views":71628,"imageUrl":"/images/memes/men-will-literally.jpg","description":"Men avoiding therapy by doing extreme things","year":2019,"category":"Text"},{"id":"stonks-not-stonks","name":"Stonks / Not Stonks","views":2383567,"imageUrl":"/images/memes/stonks-not-stonks.jpg","description":"Meme Man showing success or failure","year":2019,"category":"Surreal"},{"id":"baby-yoda","name":"Baby Yoda","views":144977,"imageUrl":"/images/memes/baby-yoda.jpg","description":"The Child / Grogu from The Mandalorian","year":2019,"category":"TV Show"},{"id":"cat-lawyer","name":"Cat Lawyer","views":24855,"imageUrl":"/images/memes/cat-lawyer.png","description":"Lawyer stuck with cat filter on Zoom","year":2021,"category":"Video"},{"id":"pet-the-dog","name":"Pet The Dog","views":100810,"imageUrl":"/images/memes/pet-the-dog.jpg","description":"Hand reaching to pet good boy","year":2019,"category":"Animal"},{"id":"vince-mcmahon","name":"Vince McMahon Reaction","views":72148,"imageUrl":"/images/memes/vince-mcmahon.png","description":"WWE owner getting increasingly excited","year":2019,"category":"Multi-Panel"},{"id":"hold-up","name":"Hold Up Wait A Minute","views":20977,"imageUrl":"/images/memes/hold-up.png","description":"Stopping to process something unexpected","year":2018,"category":"Reaction"},{"id":"excuse-me-what-the-f","name":"Excuse Me What The F","views":511801,"imageUrl":"/images/memes/excuse-me-what-the-f.jpg","description":"Confused and offended reaction","year":2018,"category":"Gaming"},{"id":"skyrim-skill-tree","name":"Skyrim Skill Tree","views":179110,"imageUrl":"/images/memes/skyrim-skill-tree.jpg","description":"Skill increased to 100 after doing something","year":2011,"category":"Gaming"},{"id":"distracted-boyfriend-reversed","name":"Distracted Boyfriend Reversed","views":1898329,"imageUrl":"/images/memes/distracted-boyfriend-reversed.jpg","description":"Reversed or alternative Distracted Boyfriend","year":2018,"category":"Stock Photo"},{"id":"the-scroll-of-truth","name":"The Scroll of Truth","views":299764,"imageUrl":"/images/memes/the-scroll-of-truth.jpg","description":"Character rejects unwanted truth from scroll","year":2017,"category":"Webcomic"},{"id":"flex-tape","name":"Flex Tape","views":156060,"imageUrl":"/images/memes/flex-tape.jpg","description":"Phil Swift fixing everything with Flex Tape","year":2017,"category":"Ad"},{"id":"the-office-handshake","name":"The Office Handshake","views":621949,"imageUrl":"/images/memes/the-office-handshake.png","description":"Michael and Jim shaking hands The Office","year":2019,"category":"TV Show"},{"id":"sad-affleck","name":"Sad Affleck","views":141538,"imageUrl":"/images/memes/sad-affleck.jpg","description":"Ben Affleck looking depressed at interview","year":2016,"category":"Celebrity"},{"id":"obama-medal","name":"Obama Giving Medal to Obama","views":427824,"imageUrl":"/images/memes/obama-medal.jpg","description":"Obama awarding himself a medal","year":2016,"category":"Photoshop"},{"id":"listen-here-you-little-sht","name":"Listen Here You Little","views":438949,"imageUrl":"/images/memes/listen-here-you-little-sht.jpg","description":"Angry bird response to sass","year":2017,"category":"Animal"},{"id":"two-soyjaks-pointing","name":"Two Soyjaks Pointing","views":743758,"imageUrl":"/images/memes/two-soyjaks-pointing.jpg","description":"Excited soyjaks pointing at something","year":2020,"category":"Wojak"},{"id":"pedro-raccoon","name":"Pedro Raccoon","views":136302,"imageUrl":"/images/memes/pedro-raccoon.jpg","description":"Raccoon dancing from TikTok","year":2021,"category":"TikTok"},{"id":"amogus","name":"Amogus","views":1245007,"imageUrl":"/images/memes/amogus.jpg","description":"Among Us crewmate looking suspicious","year":2020,"category":"Gaming"},{"id":"chad-yes","name":"Chad Yes","views":1174520,"imageUrl":"/images/memes/chad-yes.jpg","description":"Chad confidently saying yes","year":2019,"category":"Wojak"},{"id":"angry-birds-pig","name":"Angry Birds Pig","views":97253,"imageUrl":"/images/memes/angry-birds-pig.jpg","description":"Green pig from Angry Birds","year":2020,"category":"Gaming"},{"id":"its-free-real-estate","name":"It's Free Real Estate","views":861441,"imageUrl":"/images/memes/its-free-real-estate.jpg","description":"Tim and Eric offering free real estate","year":2018,"category":"TV Show"},{"id":"spiderman-glasses","name":"Spider-Man Glasses","views":106928,"imageUrl":"/images/memes/spiderman-glasses.jpg","description":"Peter Parker seeing clearer without glasses","year":2019,"category":"Movie"},{"id":"well-yes-but-actually-no","name":"Well Yes But Actually No","views":606085,"imageUrl":"/images/memes/well-yes-but-actually-no.jpg","description":"Pirate from Lego Movie giving contradicting answer","year":2019,"category":"Movie"},{"id":"megamind-no-bitches","name":"Megamind No Maidens","views":1203382,"imageUrl":"/images/memes/megamind-no-bitches.jpg","description":"Megamind asking about lack of romantic partners","year":2022,"category":"Movie"}]`),wI={memes:vI},EI=wI.memes;function TI(){return B.jsx(_I,{memes:EI})}iv.createRoot(document.getElementById("root")).render(B.jsx(X_.StrictMode,{children:B.jsx(TI,{})}));
